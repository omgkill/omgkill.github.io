[{"categories":null,"contents":"Hugo is a static site engine written in Go.\nIt makes use of a variety of open source projects including:\nCobra Viper J Walter Weatherman Cast Learn more and contribute on GitHub.\n","permalink":"https://omgkill.github.io/about/","tags":null,"title":"About"},{"categories":["blob"],"contents":" åšå®¢æ­å»º\næ•´ä½“çš„è¯´æ˜ï¼ˆ*ä½¿ç”¨ Hugo æ­å»ºåšå®¢*ï¼‰ï¼šhttps://www.diguage.com/post/building-blog-with-hugo/\næ­å»ºå…·ä½“æµç¨‹ï¼š\nhttps://blog.csdn.net/weixin_52473454/article/details/131092259\nå®‰è£…hugoçš„æ—¶å€™ï¼Œå®‰è£…å®Œï¼Œè¿˜éœ€è¦å®‰è£…extendç‰ˆæœ¬ã€‚ä»hugo githubæ‰¾åˆ°extendç‰ˆæœ¬ï¼Œç„¶åæ‰¾åˆ°hugo.exeï¼Œç„¶åç”¨ä¸‹è½½çš„æ›¿æ¢ æ·»åŠ æœç´¢ï¼š\nhttps://sobaigu.com/hugo-set-featuer-search.html\næœç´¢å‚è€ƒï¼š\nhttps://fasionchan.com/\næˆ‘ä»¬å¯ä»¥ç”¨æœç´¢å¼•æ“æ¥æœç´¢å‘€ã€‚è¿™æ ·æœç´¢æ•ˆæœæ›´å¥½ å…³äºåšå®¢æ–‡æ¡£çš„è¯´æ˜ï¼šhttps://github.com/xianmin/hugo-theme-jane/blob/master/README-zh.md\nåšå®¢ä¸»é¢˜å‚è€ƒ\nhttps://hugoloveit.com/zh-cn/posts/ 2. hugoä¸­æ–‡æ–‡æ¡£ï¼šhttps://hugocn.netlify.app/about.html\nå‘å¸ƒ ï¼š hugo \u0026ndash;theme=jane \u0026ndash;baseURL=\u0026ldquo;https://omgkill.github.io/\u0026quot; \u0026ndash;buildDrafts\nhugo \u0026ndash;theme=jane \u0026ndash;baseURL=\u0026ldquo;https://omgkill.github.io/\u0026quot;\nå¯¹ä¸é¡¹ç›®ä¸­åŒ…å«submoduleï¼Œ cloneä¸‹æ¥åº”è¯¥æ²¡æœ‰submoudleçš„dataã€‚å¯ä»¥æ‰§è¡Œgit submodule update \u0026ndash;init \u0026ndash;recursive cat sample.js | \\\ntr -d \u0026lsquo;\\n\\t\u0026rsquo; | tr -s \u0026rsquo; \u0026rsquo; \\\n| sed \u0026rsquo;s:/*.**/::g\u0026rsquo; \\\n| sed \u0026rsquo;s/ ?([{}();,:]) ?/\\1/g\u0026rsquo;\næ‰“å°ä»Mè¡Œåˆ°Nè¡Œä¹‹é—´çš„æ–‡æœ¬ï¼š\n$ awk \u0026lsquo;NR==M, NR==N\u0026rsquo; filename\nä¾‹å¦‚ï¼š\nseq 100 | awk 'NR==4,NR==6'\ræ‰“å°ä½äºæ¨¡å¼start_pattern ä¸ end_patternä¹‹é—´çš„æ–‡æœ¬\n$ awk \u0026lsquo;/start_pattern/, /end_pattern/\u0026rsquo; filename\nawk \u0026lsquo;/pa.*3/, /end/\u0026rsquo; section.txt\ntac å‘½ä»¤, å€’åº\nseq 5 | tac\ntacå‘½ä»¤é»˜è®¤ä½¿ç”¨\\nä½œä¸ºè¡Œåˆ†éš”ç¬¦ã€‚ä½¿ç”¨-s æŒ‡å®šå…¶ä»–åˆ†éš”ç¬¦\necho \u0026ldquo;1,2\u0026rdquo; | tac-s,\nä½¿ç”¨awkçš„å®ç°æ–¹å¼\nseq 9 | \\\nawk '{ lifo[NR]=$0 } \\\rEND {for(lno=NR;lno\u0026gt;-1;lno--){print lifo[lno]; }\r}' find . -name *.cpp -print0 | \\\nxargs -I{} -0 sed -i \u0026rsquo;s/Copyright/Copyleft/g\u0026rsquo; {}\n","permalink":"https://omgkill.github.io/post/blob/blob-deploy/","tags":["blob"],"title":"åšå®¢æ­å»º"},{"categories":["git"],"contents":"git ä½¿ç”¨ è¿œç¨‹ä»“åº“çš„ä½¿ç”¨ æŸ¥çœ‹è¿œç¨‹ä»“åº“\ngit remote çœ‹åˆ°origin è¿™æ˜¯gitç»™ä½ å…‹éš†çš„ä»“åº“æœåŠ¡å™¨çš„ é»˜è®¤åå­— git remote -v ä¼šæ˜¾ç¤ºåå­—ä¸urlï¼Œæ‹‰å–ä¸æ¨é€ä¼šç‹¬ç«‹æ˜¾ç¤º æ·»åŠ è¿œç¨‹ä»“åº“\ngit remote add ä»è¿œç¨‹ä»“åº“æ‹‰å–\ngit fetch [remote-name] fetch å‘½ä»¤ä¼šå°†æ•°æ®æ‹‰å»åˆ°ä½ çš„æœ¬åœ°ä»“åº“ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªåŠ¨åˆå¹¶æˆ–ä¿®æ”¹ä½ å½“å‰çš„å·¥ä½œã€‚å½“å‡†å¤‡å¥½æ—¶ä½ å¿…é¡»æ‰‹åŠ¨å°†å…¶åˆå¹¶å…¥ä½ çš„å·¥ä½œ git clone\nå‘½ä»¤ä¼šè‡ªåŠ¨å°†å…¶æ·»åŠ ä¸ºè¿œç¨‹ä»“åº“ å¹¶é»˜è®¤ä»¥â€˜originâ€™ ä¸ºç®€å†™ git fetch origin ä¼šæŠ“å–å…‹éš†ï¼ˆæˆ–ä¸Šæ¬¡æŠ“å–ï¼‰åæ–°æ¨é€çš„æ‰€æœ‰å·¥ä½œ ä¼šè‡ªåŠ¨è®¾ç½®æœ¬åœ°masteråˆ†æ”¯è·Ÿè¸ªå…‹éš†çš„è¿œç¨‹ä»“åº“çš„masteråˆ†æ”¯ git pull\nè‡ªåŠ¨æŠ“å–ç„¶ååˆå¹¶è¿œç¨‹åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ fetch ä¸pullåŒºåˆ«\ngit fetchï¼šä»è¿œç¨‹è·å–æœ€æ–°ç‰ˆæœ¬åˆ°æœ¬åœ°ï¼Œä½†ä¸ä¼šè‡ªåŠ¨ mergeï¼Œç”¨äºä»è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯ä¸‹è½½å’ŒæŸ¥çœ‹å…¶ä»–äººå®Œæˆçš„æœ€æ–°æäº¤ï¼Œä½†ä¸å°†è¿™äº›æäº¤åˆå¹¶åˆ°æœ¬åœ°å­˜å‚¨åº“ä¸­ã€‚å®ƒä»è¿œç¨‹å­˜å‚¨åº“ä¸­è·å–æ›´æ”¹å¹¶å°†å…¶å­˜å‚¨åœ¨æœ¬åœ°å­˜å‚¨åº“ä¸­ã€‚\ngit pullï¼šä»è¿œç¨‹è·å–æœ€æ–°ç‰ˆæœ¬å¹¶ merge åˆ°æœ¬åœ°ï¼Œå®ƒä¼šè‡ªåŠ¨å°†æäº¤åˆå¹¶åˆ°æ‚¨çš„æœ¬åœ°å­˜å‚¨åº“ä¸­ï¼Œè€Œæ— éœ€æŸ¥çœ‹æäº¤ã€‚\nå‚è€ƒï¼šhttps://worktile.com/kb/ask/22877.html\næŸ¥çœ‹åˆ†æ”¯\ngit branch -a *rebaseå’ŒmergeåŒºåˆ«*\nå‚è€ƒï¼šhttps://baijiahao.baidu.com/s?id=1726894961804450124\u0026amp;wfr=spider\u0026amp;for=pc\ngit IDEAçš„åˆ†æ”¯åˆå¹¶æ—¶çš„å†²çªé—®é¢˜æ€»ç»“ï¼Œmergeå’Œrebaseçš„åŒºåˆ«_rebaseå’Œmergeçš„åŒºåˆ«_YHJçš„åšå®¢-CSDNåšå®¢\næ’¤å›\nåœ¨å½“å‰åˆ†æ”¯ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤å›é€€ git reset --hard commit_idã€‚ æ¨é€åˆ°è¿œç¨‹ä»“åº“\ngit push origin master å¦‚æœè¿œç¨‹ä»“åº“ä¸æœ¬åœ°æœ‰å†²çªï¼Œå¯ä»¥å…ˆæŠŠmasteræ‹‰å–ä¸‹æ¥åˆå¹¶ï¼Œè§£å†³å®Œå†²çªï¼Œå†æ¨é€ æŸ¥çœ‹è¿œç¨‹ä»“åº“\ngit remote show [remote-name] å®ä¾‹ï¼šgit remote show origin æœ¬åœ°è¿œç¨‹ä»“åº“çš„é‡å‘½å\ngit remote rename [åŸåå­—] [æ–°åå­—] git remote rename pb paul git remote æŸ¥çœ‹æœ¬åœ°ç®€ç§°æ˜¯å¦ä¿®æ”¹ æœ¬åœ°è¿œç¨‹ä»“åº“çš„åˆ é™¤\ngit remote rm paul æ‰“æ ‡ç­¾ åˆ—å‡ºæ ‡ç­¾ git tag æœç´¢æŸ¥æ‰¾ git tag -l â€™v1.8.5*â€˜ æ ‡ç­¾ç±»å‹ è½»é‡æ ‡ç­¾ å¾ˆåƒä¸€ä¸ªä¸ä¼šæ”¹å˜çš„åˆ†æ”¯-å®ƒçŸ¥è¯†ä¸€ä¸ªç‰¹å®šæäº¤çš„å¼•ç”¨ é™„æ³¨æ ‡ç­¾ æ—¶å­˜å‚¨å†gitæ•°æ®åº“ä¸­çš„ä¸€ä¸ªå®Œæ•´å¯¹è±¡ï¼Œä»–ä»¬å¯ä»¥è¢«æ ¡éªŒçš„ï¼šå…¶ä¸­åŒ…æ‹¬æ‰“æ ‡ç­¾è€…çš„åå­—ã€ç”µå­é‚®ä»¶åœ°å€ã€æ—¥æœŸæ—¶é—´ï¼›è¿˜æœ‰ä¸€ä¸ªæ ‡ç­¾ä¿¡æ¯ï¼›å¹¶ä¸”å¯ä»¥ä½¿ç”¨GUN Privacy Guard(GPG)ç­¾åä¸éªŒè¯ åˆ›å»ºé™„æ³¨æ ‡ç­¾ git tag -a v1.4 -m â€˜my version 1.4â€™ -m é€‰é¡¹æŒ‡å®šä¸€ä¸ªå°†ä¼šå­˜å‚¨å†æ ‡ç­¾ä¸­çš„ä¿¡æ¯ git show v1.4 æŸ¥çœ‹æäº¤ä¿¡æ¯ åˆ›å»ºè½»é‡æ ‡ç­¾ git tag v1.4 åæœŸæ‰“æ ‡ç­¾ å¯ä»¥å¯¹è¿‡å»çš„æäº¤æ‰“æ ‡ç­¾ æŸ¥çœ‹logï¼Œ git log â€”pretty=online git tag -a v1.2 [æ ¡éªŒå’Œï¼Œä¹Ÿå°±æ˜¯commentId] å…±äº«æ ‡ç­¾ é»˜è®¤æƒ…å†µä¸‹ï¼Œgit push å‘½ä»¤ä¸ä¼šä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Š git push origin [tagname] ä¸€æ¬¡æ€§æ¨é€å¾ˆå¤šæ ‡ç­¾ git push origin \u0026ndash; tags æ£€å‡ºæ ‡ç­¾ git checkout -b [branchname] [tagname]7887 ç¤ºä¾‹ï¼šgit checkout -b version2 v2.0.0 Git åˆ«å git config \u0026ndash;global alias.co checkout git config â€”global alias.ci commit å½“è¾“å…¥git commitæ—¶ï¼Œåªéœ€è¦è¾“å…¥git ci ä¸ºè§£å†³å–æ¶ˆæš‚å­˜æ–‡ä»¶çš„æ˜“ç”¨æ€§é—®é¢˜ï¼Œå¯ä»¥å‘Gitæ·»åŠ è‡ªå·±çš„å–æ¶ˆæš‚å­˜åˆ«åï¼š git config â€”global alias.unstage â€˜reset HEAD â€”â€™ è¿™ä¼šä½¿ä¸‹é¢çš„ä¸¤ä¸ªå‘½ä»¤ç­‰ä»·ï¼š git unstage fileA git reset HEAD â€” fileA å¦‚æœæƒ³è¦æ‰§è¡Œå¤–éƒ¨å‘½ä»¤ï¼Œéœ€è¦åœ¨å‘½ä»¤å‰é¢åŠ å…¥ï¼ç¬¦å· git config â€”global alias.visual â€˜!gitkâ€™ Git åˆ†æ”¯ æŸ¥çœ‹å„ä¸ªåˆ†æ”¯å½“å‰æ‰€æŒ‡çš„å¯¹è±¡ git log â€”oneline â€”decorate åˆ‡æ¢åˆ†æ”¯ git checkout testing æŸ¥çœ‹åˆ†å‰å†å² git log â€”oneline â€”decorate â€”graph -all åˆ†æ”¯çš„æ–°å»ºå’Œåˆå¹¶ ç°åœ¨æœ‰ä¸ªbugï¼Œéœ€è¦ä¿®å¤ã€‚æµç¨‹å¦‚ä¸‹ åˆ›å»ºissueåˆ†æ”¯ git checkout - b iss53 æäº¤äº†ä¿®å¤ä»£ç  çº¿ä¸Šæœ‰ä¸ªç´§æ€¥é—®é¢˜ git checkout master git checkout - b hotfix ä¿®æ”¹æäº¤ è¿è¡Œæµ‹è¯• git checkout master git merge hotfix fast-forward ï¼Œç”±äºå½“å‰masteråˆ†æ”¯æ‰€æŒ‡å‘çš„æäº¤æ˜¯ä½ å½“å‰æäº¤çš„ç›´æ¥ä¸Šæ¸¸ï¼Œæ‰€ä»¥gitåªæ˜¯ç®€å•çš„å°†æŒ‡é’ˆå‘å‰ç§»åŠ¨ã€‚ git branch -d hotfix git checkout iss53 å¦‚æœæƒ³è¦hotfixçš„ä¿®æ”¹ï¼Œå¯ä»¥git merge master åˆ†æ”¯ç®¡ç† è·å–å½“å‰åˆ†æ”¯åˆ—è¡¨ git branch *ä»£è¡¨ç°åœ¨æ£€å‡ºçš„é‚£ä¸€ä¸ªåˆ†æ”¯ æŸ¥çœ‹æ¯ä¸€ä¸ªåˆ†æ”¯æœ€åçš„æäº¤ git branch -v æŸ¥çœ‹å“ªäº›åˆ†æ”¯å·²ç»åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ git branch â€”merged åˆ é™¤åˆ†æ”¯ git branch -d å¼ºåˆ¶åˆ é™¤ git branch -D æŸ¥çœ‹æ‰€æœ‰åŒ…å«æœªåˆå¹¶å·¥ä½œçš„åˆ†æ”¯ git branch â€”no-merged åˆ†æ”¯å¼€å‘å·¥ä½œæµç¨‹ æ˜¾ç¤ºçš„è·å–è¿œç¨‹å¼•ç”¨çš„å®Œæ•´åˆ—è¡¨ git ls-remote git remote show [ä»“åº“å] è·å¾—è¿œç¨‹åˆ†æ”¯çš„æ›´å¤šä¿¡æ¯ åˆ›å»ºåˆ†æ”¯ æ­£å¸¸çš„ï¼šgit checkout -b [branch] [remotename]/[branch] å¿«æ·æ–¹å¼ï¼šgit checkout â€”track origin/serverfix ä¿®æ”¹ä¸Šæ¸¸åˆ†æ”¯ git branch -u origin/serverfix æŸ¥çœ‹è®¾ç½®çš„æ‰€æœ‰è·Ÿè¸ªåˆ†æ”¯ git branch -vv æ›´æ–°ä»“åº“æ•°æ® git fetch â€”all åˆ é™¤è¿œç¨‹åˆ†æ”¯ git push origin â€”delete serverfix åˆå¹¶ merge ä¸ rebaseï¼Œè¿™ä¸¤ç§æ•´åˆæ–¹æ³•çš„æœ€ç»ˆç»“æœæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œä½†æ˜¯rebaseä½¿å¾—æäº¤å†å²ä¸­æ›´åŠ æ•´æ´ã€‚ä½ åœ¨æŸ¥çœ‹ä¸€ä¸ªç»è¿‡rebaseçš„åˆ†æ”¯å†å²è®°å½•æ—¶ä¼šå‘ç°ï¼Œå°½ç®¡å®é™…çš„å¼€å‘å·¥ä½œæ—¶å¹¶è¡Œçš„ï¼Œä½†å®ƒä»¬çœ‹ä¸Šå»å°±åƒæ—¶å…ˆåä¸²è¡Œçš„ä¸€æ ·ï¼Œæäº¤å†å²æ˜¯ä¸€æ¡ç›´çº¿æ²¡æœ‰åˆ†å‰ æ— è®ºé€šè¿‡rebaseè¿˜æ˜¯ç¬¬ä¸‰æ–¹åˆå¹¶ï¼Œæ•´åˆçš„æœ€ç»ˆç»“æœæ‰€æŒ‡å‘çš„å¿«ç…§å§‹ç»ˆæ—¶ä¸€æ ·çš„ï¼Œåªä¸è¿‡æäº¤å†å²ä¸åŒç½¢äº†ã€‚rebaseæ˜¯å°†ä¸€ç³»åˆ—æäº¤æŒ‰ç…§åŸæœ‰æ¬¡åºä¾æ¬¡åº”ç”¨åˆ°å¦ä¸€åˆ†æ”¯ä¸Šï¼Œè€Œåˆå¹¶æ˜¯æœ€ç»ˆç»“æœåˆåœ¨ä¸€èµ·ã€‚ æœ‰è¶£çš„rebase ä¾‹å­ åˆ›å»ºåˆ†æ”¯serverï¼Œæäº¤C3,C4 ä»C3åˆ›å»ºç‰¹æ€§åˆ†æ”¯clientï¼Œæäº¤C8,C9 å›åˆ°serveråˆ†æ”¯ï¼Œæäº¤C10 å‡è®¾ä½ å¸Œæœ›å°†clientä¸­çš„ä¿®æ”¹åˆå¹¶åˆ°ä¸»åˆ†æ”¯å¹¶å‘å¸ƒï¼Œä½†æš‚æ—¶å¹¶ä¸æƒ³åˆå¹¶serverä¸­çš„ä¿®æ”¹ï¼Œå› ä¸ºå®ƒä»¬è¿˜éœ€è¦ç»è¿‡æ›´å…¨é¢çš„æµ‹è¯• git rebase â€”onto master server client è¿™ä¸ªæ„æ€æ˜¯ï¼ŒæŠŠclientä¸serverçš„å…±åŒç¥–å…ˆåˆå¹¶ git checkout master git merge client serverä¹Ÿåˆå¹¶master git rebase master server rebaseçš„é£é™© ä¸è¦å¯¹åœ¨ä½ çš„ä»“åº“å¤–æœ‰å‰¯æœ¬çš„åˆ†æ”¯æ‰§è¡Œrebase å¦‚æœåˆ«äººï¼Œpushåï¼Œåˆ é‡æ–°rebaseï¼Œéœ€è¦ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ git pull â€”rebase ç›¸å½“äºï¼šgit fetch , git rebase master æ€»çš„åŸåˆ™ï¼Œåªå¯¹å°šæœªæ¨é€æˆ–åˆ†äº«ç»™åˆ«äººçš„æœ¬åœ°ä¿®æ”¹æ‰§è¡Œrebaseæ“ä½œæ¸…ç†å†å²ï¼Œä»ä¸å¯¹å·²æ¨é€è‡³åˆ«å¤„çš„æäº¤æ‰§è¡Œrebaseæ“ä½œï¼Œè¿™æ ·ï¼Œä½ æ‰èƒ½äº«å—åˆ°ä¸¤ç§æ–¹å¼å¸¦æ¥çš„ä¾¿åˆ© æäº¤å‡†åˆ™ ç©ºç™½é”™è¯¯æ£€æŸ¥ git diff â€”check æš‚å­˜æ–‡ä»¶ git add â€”patch ä¼˜è´¨æäº¤ä¿¡æ¯çš„ä¹ æƒ¯ä¼šä½¿Gitçš„ä½¿ç”¨ä¸åä½œå®¹æ˜“çš„å¤š å‘ä¸€ä¸ªé¡¹ç›®è´¡çŒ® å¸¦ä¸Š-u å‚æ•°å…¶å®å°±ç›¸å½“äºè®°å½•äº†pushåˆ°è¿œç«¯åˆ†æ”¯çš„é»˜è®¤å€¼ï¼Œè¿™æ ·å½“ä¸‹æ¬¡æˆ‘ä»¬è¿˜æƒ³è¦ç»§ç»­pushçš„è¿™ä¸ªè¿œç«¯åˆ†æ”¯çš„æ—¶å€™æ¨é€å‘½ä»¤å°±å¯ä»¥ç®€å†™æˆgit pushå³å¯ã€‚ git push -u origin featureA -u æ˜¯ â€”set-upstreamçš„ç®€å†™ï¼Œè¯¥æ ‡è®°ä¸ºä¹‹åè½»æ¾åœ°æ¨é€å’Œæ‹‰å»é…ç½®åˆ†æ”¯ æ¨é€è¿œç¨‹åˆ†æ”¯,featureBæ˜¯æœ¬åœ°åˆ†æ”¯ï¼ŒfeatureBeeæ˜¯è¿œç¨‹åˆ†æ”¯ git push -u origin featureB:featureBee æ—¥å¿—è¿‡æ»¤å™¨ï¼Œè¦iæ±‚Gitåªæ˜¾ç¤ºæ‰€æœ‰åœ¨åé¢åˆ†æ”¯ï¼Œä½†ä¸åœ¨å‰é¢åˆ†æ”¯çš„æäº¤åˆ—è¡¨ git log issue54..origin/master å¦ä¸€ä¸ªä¾‹å­ï¼šgit log featureA..origin/featureA æ²¡æœ‰åˆå¹¶æ—¥å¿—git log â€”no-merge issue54..origin/master æ´¾ç”Ÿçš„å…¬å¼€é¡¹ç›® åˆå¹¶ä¿®æ”¹ å…ˆæŠŠç›®æ ‡å…‹éš†åˆ°æœ¬åœ° æäº¤ä¿®æ”¹ githubä¸Šï¼Œforkç›®æ ‡é¡¹ç›®åˆ°è‡ªå·±è´¦å·ä¸‹ æ·»åŠ è‡ªå·±çš„è¿œç¨‹ä»“åº“åœ°å€ï¼Œgit remote add myfork (url) git push -u myfork featureA å‘é€æ‹‰å»è¯·æ±‚ â€”squash é€‰é¡¹æ¥å—è¢«åˆå¹¶çš„åˆ†æ”¯ä¸Šçš„æ‰€æœ‰å·¥ä½œï¼Œå¹¶å°†å…¶å‹ç¼©è‡³ä¸€ä¸ªå˜æ›´é›†ï¼Œæ˜¯ä»“åº“å˜æˆä¸€ä¸ªçœŸæ­£çš„åˆå¹¶çš„çŠ¶æ€ï¼Œè€Œä¸ä¼šçœŸçš„ç”Ÿæˆä¸€ä¸ªåˆå¹¶æäº¤ â€”no-commit é€‰é¡¹åœ¨é»˜è®¤åˆå¹¶è¿‡ç¨‹ä¸­å¯ä»¥ç”¨æ¥å»¶è¿Ÿç”Ÿæˆåˆå¹¶æäº¤ ç»´æŠ¤é¡¹ç›® åº”ç”¨é‚®ä»¶è¡¥ä¸ ä½¿ç”¨applyå‘½ä»¤åº”ç”¨è¡¥ä¸ git apply /temp/patch-ruby-client.patch git apply ä¸ patch -p1 å‘½ä»¤æ¥åº”ç”¨è¡¥ä¸å‡ ä¹æ˜¯ç­‰æ•ˆçš„ï¼Œä½†è¿™ç§æ–¹å¼æ›´ä¸¥æ ¼ã€‚ git applyå‘½ä»¤é‡‡ç”¨äº†ä¸€ç§â€œå…¨éƒ¨åº”ç”¨ï¼Œå¦åˆ™å…¨éƒ¨æ’¤é”€â€ å¯ä»¥ä½¿ç”¨git apply æ¥æ£€æŸ¥è¡¥ä¸æ˜¯å¦å¯ä»¥é¡ºåˆ©åº”ç”¨ git apply â€”check xxx.patch ä½¿ç”¨amå‘½ä»¤åº”ç”¨è¡¥ä¸ æ‰¾åˆ°åˆ†æ”¯çš„å…±åŒç¥–å…ˆ git merge-base contrib master git diff master..contrib è¯¥å‘½ä»¤ä»…ä¼šæ˜¾ç¤ºè‡ªå½“å‰ç‰¹æ€§åˆ†æ”¯ä¸masteråˆ†æ”¯çš„å…±åŒç¥–å…ˆèµ·ï¼Œè¯¥åˆ†æ”¯ä¸­çš„å·¥ä½œã€‚ å¦ä¸€ç§å°†å¼•å…¥çš„å·¥ä½œè½¬ç§»åˆ°å…¶ä»–åˆ†æ”¯çš„æ–¹æ³•æ˜¯æ‹£é€‰ã€‚ git cherry-pick [git commit id] ä¸ºå‘å¸ƒæ‰“æ ‡ç­¾ git tag -s v1.5 -m â€˜my signed 1.5 tagâ€™ å¿«ç…§å½’æ¡£ git archive master â€”prefix=â€™project/â€™ | gzip \u0026gt; â€˜git describe masterâ€™.tar.gz åˆ¶ä½œæäº¤ç®€æŠ¥ git shortlog â€”no-merges mater â€”not v1.0.1 ","permalink":"https://omgkill.github.io/post/git/git%E7%9A%84%E4%BD%BF%E7%94%A8/","tags":["git"],"title":"git ä½¿ç”¨"},{"categories":null,"contents":"wiki.js å®‰è£…æœç´¢ æ•´ä½“å®‰è£…ï¼Œå‚è€ƒ https://www.bilibili.com/read/cv16951722/ å‚è€ƒå®‰è£…ElasticSearch https://zhuanlan.zhihu.com/p/257867352 å®‰è£…å¥½åï¼Œéœ€è¦rebuild Note that if you already have content in your wiki, you must click on Rebuild Index afterwards to import all your existing content into the search engine. Any change (new, edit, delete page) will be handled automatically from this point forward.\nYour content here\n","permalink":"https://omgkill.github.io/bak/%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1/wikijs/wiki%E6%90%9C%E7%B4%A2/","tags":null,"title":"wikiæœç´¢"},{"categories":null,"contents":"wiki.js å®‰è£…æœç´¢ æ•´ä½“å®‰è£…ï¼Œå‚è€ƒ https://www.bilibili.com/read/cv16951722/ å‚è€ƒå®‰è£…ElasticSearch https://zhuanlan.zhihu.com/p/257867352 å®‰è£…å¥½åï¼Œéœ€è¦rebuild Note that if you already have content in your wiki, you must click on Rebuild Index afterwards to import all your existing content into the search engine. Any change (new, edit, delete page) will be handled automatically from this point forward.\nYour content here\n","permalink":"https://omgkill.github.io/post/knowledgesite/wiki%E6%90%9C%E7%B4%A2/","tags":null,"title":"wikiæœç´¢"},{"categories":null,"contents":"éƒ¨ç½²WIKI.js wikiçš„ä»‹ç»åœ°å€\nhttps://sspai.com/post/78945 wiki çš„docker composeæ–‡ä»¶\n1version: \u0026#34;3\u0026#34; 2services: 3 4 db: 5 image: postgres:11-alpine 6 environment: 7 POSTGRES_DB: wiki 8 POSTGRES_PASSWORD: wikijsrocks 9 POSTGRES_USER: wikijs 10 logging: 11 driver: \u0026#34;none\u0026#34; 12 restart: unless-stopped 13 volumes: 14 - db-data:/var/lib/postgresql/data 15 16 wiki: 17 image: ghcr.io/requarks/wiki:2 18 depends_on: 19 - db 20 environment: 21 DB_TYPE: postgres 22 DB_HOST: db 23 DB_PORT: 5432 24 DB_USER: wikijs 25 DB_PASS: wikijsrocks 26 DB_NAME: wiki 27 restart: unless-stopped 28 ports: 29 - \u0026#34;80:3000\u0026#34; 30 31volumes: 32 db-data: å®‰è£…docker\nyum install -y docker å®‰è£…docker compose\ncurl -L https://github.com/docker/compose/releases/download/1.23.1/docker-compose-`uname -s-uname -m` \u0026gt; /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose curl -L https://raw.githubusercontent.com/docker/compose/1.29.1/contrib/completion/bash/docker-compose \u0026gt; /etc/bash_completion.d/docker-compose æŠ¥é”™1:Cannot connect to the Docker daemon at unix:///var/run/docker.sock\nmv /usr/bin/systemctl /usr/bin/systemctl.old curl https://raw.githubusercontent.com/gdraheim/docker-systemctl-replacement/master/files/docker/systemctl.py \u0026gt; /usr/bin/systemctl chmod +x /usr/bin/systemctl åœ¨cmdä¸‹ï¼Œ wsl \u0026ndash;shutdown åœ¨cmdä¸‹ï¼Œ wsl å¯åŠ¨æœåŠ¡\nservice docker start docker-compose up -d æŠ¥é”™2:wsl Cannot start service db: oci runtime error: systemd cgroup flag passed, but systemd support for mana\n1I just performed the following steps, and it appears that the error has disappeared. FYI. 2 3Re-enable Hyper-V and restart the computer. 4Edit (or create) the file /etc/wsl.conf in WSL, and add the follow lines: 5[boot] 6systemd=true 7Run wsl --shutdown as an administrator in PowerShell to close the WSL instance, and then restart WSL. 8After logging back into WSL, I found that the systemctl command could be used properly and the error had disappeared. At the moment, my Docker seems to be running well. - å‚è€ƒï¼šhttps://github.com/microsoft/WSL/issues/9868 ","permalink":"https://omgkill.github.io/bak/%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1/wikijs/%E5%88%9B%E5%BB%BAwiki.js/","tags":null,"title":"åˆ›å»ºwiki.js"},{"categories":null,"contents":"éƒ¨ç½²WIKI.js wikiçš„ä»‹ç»åœ°å€\nhttps://sspai.com/post/78945 wiki çš„docker composeæ–‡ä»¶\n1version: \u0026#34;3\u0026#34; 2services: 3 4 db: 5 image: postgres:11-alpine 6 environment: 7 POSTGRES_DB: wiki 8 POSTGRES_PASSWORD: wikijsrocks 9 POSTGRES_USER: wikijs 10 logging: 11 driver: \u0026#34;none\u0026#34; 12 restart: unless-stopped 13 volumes: 14 - db-data:/var/lib/postgresql/data 15 16 wiki: 17 image: ghcr.io/requarks/wiki:2 18 depends_on: 19 - db 20 environment: 21 DB_TYPE: postgres 22 DB_HOST: db 23 DB_PORT: 5432 24 DB_USER: wikijs 25 DB_PASS: wikijsrocks 26 DB_NAME: wiki 27 restart: unless-stopped 28 ports: 29 - \u0026#34;80:3000\u0026#34; 30 31volumes: 32 db-data: å®‰è£…docker\nyum install -y docker å®‰è£…docker compose\ncurl -L https://github.com/docker/compose/releases/download/1.23.1/docker-compose-`uname -s-uname -m` \u0026gt; /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose curl -L https://raw.githubusercontent.com/docker/compose/1.29.1/contrib/completion/bash/docker-compose \u0026gt; /etc/bash_completion.d/docker-compose æŠ¥é”™1:Cannot connect to the Docker daemon at unix:///var/run/docker.sock\nmv /usr/bin/systemctl /usr/bin/systemctl.old curl https://raw.githubusercontent.com/gdraheim/docker-systemctl-replacement/master/files/docker/systemctl.py \u0026gt; /usr/bin/systemctl chmod +x /usr/bin/systemctl åœ¨cmdä¸‹ï¼Œ wsl \u0026ndash;shutdown åœ¨cmdä¸‹ï¼Œ wsl å¯åŠ¨æœåŠ¡\nservice docker start docker-compose up -d æŠ¥é”™2:wsl Cannot start service db: oci runtime error: systemd cgroup flag passed, but systemd support for mana\n1I just performed the following steps, and it appears that the error has disappeared. FYI. 2 3Re-enable Hyper-V and restart the computer. 4Edit (or create) the file /etc/wsl.conf in WSL, and add the follow lines: 5[boot] 6systemd=true 7Run wsl --shutdown as an administrator in PowerShell to close the WSL instance, and then restart WSL. 8After logging back into WSL, I found that the systemctl command could be used properly and the error had disappeared. At the moment, my Docker seems to be running well. - å‚è€ƒï¼šhttps://github.com/microsoft/WSL/issues/9868 ","permalink":"https://omgkill.github.io/post/knowledgesite/%E5%88%9B%E5%BB%BAwiki.js/","tags":null,"title":"åˆ›å»ºwiki.js"},{"categories":null,"contents":"ä¸€å—å¤æ‚çš„ä»£ç å¦‚ä½•å†™ ä»¥ä¼˜åŒ–æ¥äº†ï¼Œéœ€è¦åŠ ä¸€ç‚¹é€»è¾‘ã€‚ä½†åŠ è¿™ç‚¹é€»è¾‘å¯¼è‡´ä»£ç é€»è¾‘æ›´å¤æ‚ã€‚åº”è¯¥å¦‚ä½•å†™å‘¢ æ–¹æ¡ˆæœ‰ä»¥ä¸‹å‡ ç§ æ”¹åŠ¨æœ€å°ï¼Œä»£ç é€»è¾‘æ­£å¸¸è·‘ï¼Œä½†ä¸å®¹æ˜“ç†è§£ï¼Œä¸”ç†è§£é”™è¯¯ æ”¹åŠ¨ä¸­ç­‰ï¼Œä½†é€»è¾‘æ··ä¹± æ”¹åŠ¨æ•´ä½“ï¼Œä½†ä¸šåŠ¡é€»è¾‘åˆ†ç¦»å°è£…ï¼Œæ›´å®¹æ˜“ç†è§£ Your content here ","permalink":"https://omgkill.github.io/bak/%E4%BB%A3%E7%A0%81%E6%8C%87%E5%8D%97/%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AA%E5%A4%8D%E6%9D%82%E7%9A%84%E4%BB%A3%E7%A0%81%E9%80%BB%E8%BE%91/","tags":null,"title":"ä»£ç "},{"categories":["docker"],"contents":"#Docker è·¨ä¸»æœºå®¹å™¨é€šä¿¡å®è·µ\nDockerOverlayç½‘ç»œ\nOverlayæ˜¯ä¸€ç§è¦†ç›–åœ¨ä¸»æœºä¸Šçš„è™šæ‹Ÿç½‘ç»œï¼Œæˆ‘ç†è§£çš„overlayä»–éœ€è¦å€ŸåŠ©æ’ä»¶æˆ–å·¥å…·å®Œæˆå¯¹æ•°æ®çš„ä¿å­˜å’Œè½¬å‘ã€‚æˆ‘ä»¬è¿™é‡Œä½¿ç”¨etcdæ¥å®Œæˆoverlayçš„è·¨ä¸»æœºå®¹å™¨é€šä¿¡ æœ¬æ–‡ä»¥ä¸¤å°æœºå™¨ä¸ºä¾‹ï¼Œipåˆ†é…æ˜¯ 10.0.3.2 ä¸ 10.0.3.21\næ£€æŸ¥ä¸¤å°æœºå™¨hostnameæ˜¯å¦ä¸åŒï¼Œå¦‚æœç›¸åŒéœ€è¦ä¿®æ”¹ã€‚ä¸ç„¶æ— æ³•è”é€š\nä¸¤å°æœºå™¨å®‰è£…docker\nyum install -y docker ä¿®æ”¹dockeré…ç½®,æŒ‡å®šå¤–éƒ¨å­˜å‚¨ä½¿ç”¨etcdï¼Œ/etc/docker/daemon.json åŠ å¦‚ä¸‹æ•°æ®\nä¸»æœº10.0.3.2 \u0026ldquo;cluster-store\u0026rdquo;:\u0026ldquo;etcd://10.0.3.2:2379\u0026rdquo;,\u0026ldquo;cluster-advertise\u0026rdquo;:\u0026ldquo;10.0.3.2:2375\u0026rdquo; ä¸»æœº10.0.3.21 \u0026ldquo;cluster-store\u0026rdquo;:\u0026ldquo;etcd://10.0.3.21:2379\u0026rdquo;,\u0026ldquo;cluster-advertise\u0026rdquo;:\u0026ldquo;10.0.3.21:2375\u0026rdquo; é‡å¯docker\nsystemctl daemon-reload systemctl restart docker å¯åŠ¨etcd\nä¸»æœº10.0.3.2, etcdèŠ‚ç‚¹åä¸ºnode1 1 docker run -d --name etcd --rm \\ 2 --publish 2379:2379 \\ 3 --publish 2380:2380 \\ 4 --env ALLOW_NONE_AUTHENTICATION=yes \\ 5 --env ETCD_NAME=node1 \\ 6 --env ETCD_LISTEN_PEER_URLS=http://0.0.0.0:2380 \\ 7 --env ETCD_ADVERTISE_CLIENT_URLS=http://10.0.3.2:2379 \\ 8 --env ETCD_LISTEN_CLIENT_URLS=http://0.0.0.0:2379 \\ 9 --env ETCD_INITIAL_ADVERTISE_PEER_URLS=http://10.0.3.2:2380 \\ 10 --env ETCD_INITIAL_CLUSTER_TOKEN=etcd-cluster \\ 11 --env ETCD_INITIAL_CLUSTER=node1=http://10.0.3.2:2380,node2=http://10.0.3.21:2380 \\ 12 --env ETCD_INITIAL_CLUSTER_STATE=new \\ 13 bitnami/etcd:3.5.3 etcd --enable-v2 ä¸»æœº10.0.3.21, etcdèŠ‚ç‚¹åä¸ºnode1 1docker run -d --name etcd --rm \\ 2--publish 2379:2379 \\ 3--publish 2380:2380 \\ 4--env ALLOW_NONE_AUTHENTICATION=yes \\ 5--env ETCD_NAME=node2 \\ 6--env ETCD_LISTEN_PEER_URLS=http://0.0.0.0:2380 \\ 7--env ETCD_ADVERTISE_CLIENT_URLS=http://10.0.3.21:2379 \\ 8--env ETCD_LISTEN_CLIENT_URLS=http://0.0.0.0:2379 \\ 9--env ETCD_INITIAL_ADVERTISE_PEER_URLS=http://10.0.3.21:2380 \\ 10--env ETCD_INITIAL_CLUSTER_TOKEN=etcd-cluster \\ 11--env ETCD_INITIAL_CLUSTER=node1=http://10.0.3.2:2380,node2=http://10.0.3.21:2380 \\ 12--env ETCD_INITIAL_CLUSTER_STATE=new \\ 13bitnami/etcd:3.5.3 etcd --enable-v2 æŸ¥çœ‹etcd node\n1[root@ams2-10 ~]# docker exec -it etcd etcdctl member list 2796e13f38b3a972b, started, node2, http://10.0.3.21:2380, http://10.0.3.21:2379, false 3ff63796d3826f6b6, started, node1, http://10.0.3.2:2380, http://10.0.3.2:2379, false åˆ›å»ºoverlay network\nä¸»æœº10.0.3.2\n1 [root@ams2-10 SFS2X]# docker network create -d overlay etcdnet 2 f2c12e0259409c0f11c9c4a4a585753d46a80ac60c336625fd48e5322be9084e æŸ¥çœ‹ç½‘ç»œï¼Œå‘ç°å¤šäº†åˆšåˆšåˆ›å»ºçš„etcdnet.è€Œä¸”scopeæ˜¯globalçš„ 1 [root@ams2-10 SFS2X]# docker network ls 2 NETWORK ID NAME DRIVER SCOPE 3 f406ad6eb59c bridge bridge local 4 f2c12e025940 etcdnet overlay global 5 097d3b78ec65 host host local 6 02d4e89d5af5 none null local æˆ‘ä»¬inspectä¸‹etcdnetä¿¡æ¯ 1 [root@ams2-10 SFS2X]# docker network inspect etcdnet 2 [ 3 { 4 \u0026#34;Name\u0026#34;: \u0026#34;etcdnet\u0026#34;, 5 \u0026#34;Id\u0026#34;: \u0026#34;f2c12e0259409c0f11c9c4a4a585753d46a80ac60c336625fd48e5322be9084e\u0026#34;, 6 \u0026#34;Created\u0026#34;: \u0026#34;2022-04-18T14:18:10.96517192Z\u0026#34;, 7 \u0026#34;Scope\u0026#34;: \u0026#34;global\u0026#34;, 8 \u0026#34;Driver\u0026#34;: \u0026#34;overlay\u0026#34;, 9 \u0026#34;EnableIPv6\u0026#34;: false, 10 \u0026#34;IPAM\u0026#34;: { 11 \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, 12 \u0026#34;Options\u0026#34;: {}, 13 \u0026#34;Config\u0026#34;: [ 14 { 15 \u0026#34;Subnet\u0026#34;: \u0026#34;10.0.0.0/24\u0026#34;, 16 \u0026#34;Gateway\u0026#34;: \u0026#34;10.0.0.1\u0026#34; 17 } 18 ] 19 }, 20 \u0026#34;Internal\u0026#34;: false, 21 \u0026#34;Attachable\u0026#34;: false, 22 \u0026#34;Containers\u0026#34;: {}, 23 \u0026#34;Options\u0026#34;: {}, 24 \u0026#34;Labels\u0026#34;: {} 25 } 26 ] ä¸»æœº10.0.3.21\næŸ¥çœ‹ç½‘ç»œï¼Œå‘ç°ä¹Ÿæœ‰etcdnetäº†ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªä¸»æœºåˆ›å»ºï¼ŒåŒé›†ç¾¤ä¸‹çš„ä¸»æœºéƒ½ä¼šè‡ªåŠ¨åˆ›å»º 1 [root@ams2-10 ~]# docker network ls 2 NETWORK ID NAME DRIVER SCOPE 3 3ed479747a1e bridge bridge local 4 f2c12e025940 etcdnet overlay global 5 4097f7659809 host host local 6 e72e71890e1a none null local å¼€å¯ä¸€ä¸ªredisæœåŠ¡\nä¸»æœº 10.0.3.2 1 [root@ams2-10 SFS2X]# docker run -d --rm --name redis1 -h redis1 --net etcdnet 10.0.3.2:5001/base_redis 2 8769e01b7003bb42edf226c812405a2e955fb0e16fae0752c37a703efdcc2135 ä¸»æœº10.0.3.21 å°è¯•ä¹Ÿåˆ›å»ºä¸€ä¸ªdocker nameä¸ºredis1çš„å®¹å™¨. 1 [root@ams2-10 ~]# docker run -d --rm --name redis1 -h redis1 --net etcdnet 10.0.3.2:5001/base_redis 2 9499adbbce469022ec1bef41415d58398fa79bc1a155316a07182f0278657a4d 3 /usr/bin/docker-current: Error response from daemon: service endpoint with name redis1 already exists. æŠ¥é”™äº†ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½åˆ›å»ºç›¸åŒnameçš„å®¹å™¨ã€‚æˆ‘ä»¬èµ·ä¸€ä¸ªnameä¸ºredis2çš„å®¹å™¨ 1 [root@ams2-10 ~]# docker run -d --rm --name redis2 -h redis2 --net etcdnet 10.0.3.2:5001/base_redis 2 fea93e725e69f01ffa2e5431d470e230aa8496d8a9106a10ea738c0ff411e340 æŸ¥çœ‹ç½‘ç»œä¿¡æ¯\nä¸»æœº 10.0.3.2 è¿è¡Œdocker network lsï¼Œå¤šäº†ä¸€ä¸ªdocker_gwbridgeï¼Œçœ‹ä¸‹è¿™ä¸ªç½‘ç»œå®¹å™¨çš„è¯¦æƒ…ä¿¡æ¯ 1 [root@ams2-10 SFS2X]# docker inspect docker_gwbridge 2 [ 3 { 4 \u0026#34;Name\u0026#34;: \u0026#34;docker_gwbridge\u0026#34;, 5 \u0026#34;Id\u0026#34;: \u0026#34;d56f9aef3da6f93cc2749efcdace3265bb29150f145041e4d736e3928fd4e363\u0026#34;, 6 \u0026#34;Created\u0026#34;: \u0026#34;2022-04-18T14:34:44.715406625Z\u0026#34;, 7 \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34;, 8 \u0026#34;Driver\u0026#34;: \u0026#34;bridge\u0026#34;, 9 \u0026#34;EnableIPv6\u0026#34;: false, 10 \u0026#34;IPAM\u0026#34;: { 11 \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, 12 \u0026#34;Options\u0026#34;: null, 13 \u0026#34;Config\u0026#34;: [ 14 { 15 \u0026#34;Subnet\u0026#34;: \u0026#34;172.18.0.0/16\u0026#34;, 16 \u0026#34;Gateway\u0026#34;: \u0026#34;172.18.0.1\u0026#34; 17 } 18 ] 19 }, 20 \u0026#34;Internal\u0026#34;: false, 21 \u0026#34;Attachable\u0026#34;: false, 22 \u0026#34;Containers\u0026#34;: { 23 \u0026#34;d0ffff5fdc19975d8930e25438b1e03f7a960f5387dc5a577e02c89809be0d62\u0026#34;: { 24 \u0026#34;Name\u0026#34;: \u0026#34;gateway_d0ffff5fdc19\u0026#34;, 25 \u0026#34;EndpointID\u0026#34;: \u0026#34;e90ebc5c48f17d5e64bdcf442173617d0b35ed81af33a901a3ae8a75a7d11a55\u0026#34;, 26 \u0026#34;MacAddress\u0026#34;: \u0026#34;02:42:ac:12:00:02\u0026#34;, 27 \u0026#34;IPv4Address\u0026#34;: \u0026#34;172.18.0.2/16\u0026#34;, 28 \u0026#34;IPv6Address\u0026#34;: \u0026#34;\u0026#34; 29 } 30 }, 31 \u0026#34;Options\u0026#34;: { 32 \u0026#34;com.docker.network.bridge.enable_icc\u0026#34;: \u0026#34;false\u0026#34;, 33 \u0026#34;com.docker.network.bridge.enable_ip_masquerade\u0026#34;: \u0026#34;true\u0026#34;, 34 \u0026#34;com.docker.network.bridge.name\u0026#34;: \u0026#34;docker_gwbridge\u0026#34; 35 }, 36 \u0026#34;Labels\u0026#34;: {} 37 } 38 ] æˆ‘ä»¬å†çœ‹ä¸‹ etcdnetè¯¦æƒ…, å¯ä»¥çœ‹åˆ°ç»™ä¸¤ä¸ªå®¹å™¨åˆ†é…äº†ip 1 [root@ams2-10 SFS2X]# docker network inspect etcdnet 2 [ 3 { 4 \u0026#34;Name\u0026#34;: \u0026#34;etcdnet\u0026#34;, 5 \u0026#34;Id\u0026#34;: \u0026#34;f2c12e0259409c0f11c9c4a4a585753d46a80ac60c336625fd48e5322be9084e\u0026#34;, 6 \u0026#34;Created\u0026#34;: \u0026#34;2022-04-18T14:18:10.96517192Z\u0026#34;, 7 \u0026#34;Scope\u0026#34;: \u0026#34;global\u0026#34;, 8 \u0026#34;Driver\u0026#34;: \u0026#34;overlay\u0026#34;, 9 \u0026#34;EnableIPv6\u0026#34;: false, 10 \u0026#34;IPAM\u0026#34;: { 11 \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, 12 \u0026#34;Options\u0026#34;: {}, 13 \u0026#34;Config\u0026#34;: [ 14 { 15 \u0026#34;Subnet\u0026#34;: \u0026#34;10.0.0.0/24\u0026#34;, 16 \u0026#34;Gateway\u0026#34;: \u0026#34;10.0.0.1\u0026#34; 17 } 18 ] 19 }, 20 \u0026#34;Internal\u0026#34;: false, 21 \u0026#34;Attachable\u0026#34;: false, 22 \u0026#34;Containers\u0026#34;: { 23 \u0026#34;d0ffff5fdc19975d8930e25438b1e03f7a960f5387dc5a577e02c89809be0d62\u0026#34;: { 24 \u0026#34;Name\u0026#34;: \u0026#34;redis1\u0026#34;, 25 \u0026#34;EndpointID\u0026#34;: \u0026#34;fbc06b25b76eb1e4475582f0eeb51d509ca72f070891140ab482d0f54a140601\u0026#34;, 26 \u0026#34;MacAddress\u0026#34;: \u0026#34;02:42:0a:00:00:02\u0026#34;, 27 \u0026#34;IPv4Address\u0026#34;: \u0026#34;10.0.0.2/24\u0026#34;, 28 \u0026#34;IPv6Address\u0026#34;: \u0026#34;\u0026#34; 29 }, 30 \u0026#34;ep-69ecc615e82eeddbd03cd27006130607e2440d2e1025978c00267c1ba2f7544b\u0026#34;: { 31 \u0026#34;Name\u0026#34;: \u0026#34;redis2\u0026#34;, 32 \u0026#34;EndpointID\u0026#34;: \u0026#34;69ecc615e82eeddbd03cd27006130607e2440d2e1025978c00267c1ba2f7544b\u0026#34;, 33 \u0026#34;MacAddress\u0026#34;: \u0026#34;02:42:0a:00:00:03\u0026#34;, 34 \u0026#34;IPv4Address\u0026#34;: \u0026#34;10.0.0.3/24\u0026#34;, 35 \u0026#34;IPv6Address\u0026#34;: \u0026#34;\u0026#34; 36 } 37 }, 38 \u0026#34;Options\u0026#34;: {}, 39 \u0026#34;Labels\u0026#34;: {} 40 } 41 ] è¿›å…¥redis1å®¹å™¨ï¼Œifconfigçœ‹ä¸‹ä¸€ä¸‹ 1 [root@ams2-10 SFS2X]# docker exec -it redis1 yum install -y net-tools.x86_64 2 [root@ams2-10 SFS2X]# docker exec -it redis1 ifconfig 3 eth0: flags=4163\u0026lt;UP,BROADCAST,RUNNING,MULTICAST\u0026gt; mtu 1450 4 inet 10.0.0.2 netmask 255.255.255.0 broadcast 0.0.0.0 5 inet6 fe80::42:aff:fe00:2 prefixlen 64 scopeid 0x20\u0026lt;link\u0026gt; 6 ether 02:42:0a:00:00:02 txqueuelen 0 (Ethernet) 7 RX packets 13 bytes 1034 (1.0 KiB) 8 RX errors 0 dropped 0 overruns 0 frame 0 9 TX packets 11 bytes 894 (894.0 B) 10 TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 11 12 eth1: flags=4163\u0026lt;UP,BROADCAST,RUNNING,MULTICAST\u0026gt; mtu 1500 13 inet 172.18.0.2 netmask 255.255.0.0 broadcast 0.0.0.0 14 inet6 fe80::42:acff:fe12:2 prefixlen 64 scopeid 0x20\u0026lt;link\u0026gt; 15 ether 02:42:ac:12:00:02 txqueuelen 0 (Ethernet) 16 RX packets 7138 bytes 16361245 (15.6 MiB) 17 RX errors 0 dropped 0 overruns 0 frame 0 18 TX packets 7125 bytes 387572 (378.4 KiB) 19 TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 20 21 lo: flags=73\u0026lt;UP,LOOPBACK,RUNNING\u0026gt; mtu 65536 22 inet 127.0.0.1 netmask 255.0.0.0 23 inet6 ::1 prefixlen 128 scopeid 0x10\u0026lt;host\u0026gt; 24 loop txqueuelen 1000 (Local Loopback) 25 RX packets 56 bytes 4827 (4.7 KiB) 26 RX errors 0 dropped 0 overruns 0 frame 0 27 TX packets 56 bytes 4827 (4.7 KiB) 28 TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 29 30 [root@ams2-10 SFS2X]# æµ‹è¯•æ˜¯å¦pingé€š\nä¸»æœº10.0.3.2 æˆ‘ä»¬pingä¸€ä¸‹redis2 çš„ip å’Œå®¹å™¨åï¼Œå‘ç°éƒ½å¯ä»¥pingé€š 1 [root@ams2-10 SFS2X]# docker exec -it redis1 ping -c 5 redis2 2 PING redis2 (10.0.0.3) 56(84) bytes of data. 3 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=1 ttl=64 time=0.325 ms 4 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=2 ttl=64 time=0.557 ms 5 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=3 ttl=64 time=0.446 ms 6 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=4 ttl=64 time=0.430 ms 7 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=5 ttl=64 time=0.578 ms 8 --- redis2 ping statistics --- 9 5 packets transmitted, 5 received, 0% packet loss, time 3999ms 10 rtt min/avg/max/mdev = 0.325/0.467/0.578/0.093 ms å°è¯•è¿æ¥redis2çš„æœåŠ¡ï¼Œçœ‹åˆ°æ²¡é—®é¢˜ 1 # å¯ä»¥æ­£å¸¸é“¾æ¥ 2 [root@ams2-10 SFS2X]# docker exec -it redis1 /home/elex/redis/bin/redis-cli -h redis2 set m1 dd 3 OK 4 [root@ams2-10 SFS2X]# docker exec -it redis1 /home/elex/redis/bin/redis-cli -h redis2 get m1 5 \u0026#34;dd\u0026#34; ä¸»æœº10.0.3.21ï¼Œ redis2 åŒæ ·å¯ä»¥é€šè¿‡ipå’Œå®¹å™¨å pingé€š ps\næŸ¥çœ‹etcdç‰ˆæœ¬å· curl http://10.0.3.2:2379/versoin ","permalink":"https://omgkill.github.io/post/docker/docker-%E8%B7%A8%E4%B8%BB%E6%9C%BA%E5%AE%B9%E5%99%A8%E9%97%B4%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/","tags":["docker","ç½‘ç»œ"],"title":"Docker è·¨ä¸»æœºå®¹å™¨é—´ç½‘ç»œé€šä¿¡"},{"categories":["blob"],"contents":" sixdian Notes Hugo ä½¿ç”¨ Jane ä¸»é¢˜å¸¸ç”¨çš„ä¸€äº›é…ç½® Published on: April 21, 2022 | Reading Time: 4 min | Last Modified: April 21, 2022\nhugojaneé…ç½®\nHugo ä¸‹çš„ Jane ä¸»é¢˜æ˜¯åŸºäº even ä¸»é¢˜è¿›è¡Œçš„é‡æ–°æ”¹é€ ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ç‰¹è‰²ï¼š\nå“åº”å¼è®¾è®¡ å¤šå›½è¯­è¨€æ”¯æŒ æ”¯æŒå¤šä¸ª Shortcode å•ç‹¬è®¾è®¡çš„æ ‡ç­¾é¡µå’Œåˆ†ç±»é¡µ æ”¯æŒç¤¾äº¤ç½‘ç«™é“¾æ¥ ä¼˜ç§€çš„åˆ†é¡µã€ç›®å½•ã€æ³¨è„šæ ·å¼ ä½¿ç”¨æ›´å¿«çš„ Chroma ä»£ç é«˜äº® è‡ªå®šä¹‰ cssã€jsã€head æ”¯æŒå­ç›®å½• æœç´¢å¼•æ“ä¼˜åŒ– åˆå§‹åŒ–çš„æ ·å¼å±•ç¤ºçš„å…ƒç´ ç¹å¤šå¯èƒ½ä¸å¤ªç¬¦åˆæ¯ä¸ªäººçš„å®é™…éœ€æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å¯¹éœ€è¦æ˜¾ç¤ºçš„å†…å®¹æ ·å¼è¿›è¡Œä¿®æ”¹æ¥å¢å¼ºç«™ç‚¹æ•´ä½“çš„ç¾æ„Ÿã€‚ä¸‹é¢å°±ä»‹ç»å¦‚ä½•æ”¹é è‡ªå·±çš„ç‹¬ç‰¹ä¸»é¢˜ï¼š\né»˜è®¤æƒ…å†µä¸‹ç”Ÿæˆçš„ç«™ç‚¹éƒ¨ç½²åæˆ‘æˆ‘ä»¬ä¼šå‘ç°åœ¨æ‰‹æœºä¸Šç‚¹æŒ‰èœå•ä½ç½®æ— æ•ˆï¼Œæ— æ³•æ­£å¸¸æ˜¾ç¤ºä¸‹æ‹‰èœå•ã€‚æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹æ³•è®©èœå•èƒ½åœ¨ç§»åŠ¨ç«¯æ­£å¸¸æ˜¾ç¤ºã€‚\nJane ä¸»é¢˜ç§»åŠ¨ç«¯æ— æ³•æ˜¾ç¤ºä¸‹æ‹‰èœå•çš„è§£å†³æ–¹æ³• themes\\jane\\layouts\\partials\\scripts.html #æ ¹æ®è·¯å¾„æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶,åˆ é™¤å…¶ä¸­çš„ integrity å±æ€§\n1\u0026lt;script type=\u0026#34;text/javascript\u0026#34; src=\u0026#34;{{ $secureJS.RelPermalink }}\u0026#34; integrity=\u0026#34;{{ $secureJS.Data.Integrity }}\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; å¦å¤–ç°åœ¨äººä»¬é€šè¿‡ RSS å®¢æˆ·ç«¯é˜…è¯»çš„æ–¹å¼å·²ç»è¶Šæ¥è¶Šå°‘ï¼ŒJane ä¸»é¢˜å†…çš„ RSS è®¢é˜…å›¾æ ‡æˆ‘ä¸ªäººè§‰å¾—å¤ªè¿‡å¤šä½™ä¸ç¬¦åˆæˆ‘è¿½æ±‚ç®€æ´çš„å®¡ç¾è§‚ï¼Œæ‰€ä»¥ä¹Ÿè¦å¯¹å®ƒè¿›è¡Œéšè—å¤„ç†ã€‚å…·ä½“å¤„ç†æ–¹æ³•å¦‚ä¸‹ï¼š\nJane ä¸»é¢˜åº•éƒ¨ RSS è®¢é˜…å›¾æ ‡åˆ é™¤ ./layouts/partials/social_links.html #åœ¨ themes æ–‡ä»¶å¤¹ä¸‹æ ¹æ®è·¯å¾„æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ é™¤ä»¥ä¸‹ä»£ç \n1\u0026lt;!-- 2{{/* RSS icon */}} 3{{ with .Site.GetPage \u0026#34;home\u0026#34; -}} 4 {{- with .OutputFormats.Get \u0026#34;RSS\u0026#34; -}} 5 \u0026lt;a href=\u0026#34;{{ .Permalink }}\u0026#34; rel=\u0026#34;noopener {{ .Rel }}\u0026#34; type=\u0026#34;{{ .MediaType.Type }}\u0026#34; 6 class=\u0026#34;iconfont\u0026#34; title=\u0026#34;rss\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt; 7 {{ partial \u0026#34;svg/rss.svg\u0026#34; }} 8 \u0026lt;/a\u0026gt; 9 {{ end -}} 10{{- end -}} 11--\u0026gt; å…¶å®ƒéœ€è¦è®¾ç½®çš„ç»†èŠ‚å†…å®¹è¿‡å¤šï¼Œè€Œä¸”è¿‡äºç®€å•ï¼Œä¸‹é¢ç»Ÿä¸€åšä¸ªæ€»ç»“ï¼š\nJane ä¸»é¢˜é…ç½®æ–‡ä»¶è¯¦ç»†è§£é‡Š 1# åŸºç¡€è®¾ç½® 2#------------------------------------------------------------------- 3baseURL = \u0026#34;https://sixdian.com/\u0026#34; # åšå®¢éƒ¨ç½²ç½‘å€ 4title = \u0026#34;å…­ç‚¹éšè®°\u0026#34; # ç½‘ç«™åç§° 5enableRobotsTXT = true # æ˜¯å¦æ”¯æŒRobotsåè®® 6enableEmoji = true # æ˜¯å¦æ”¯æŒEmojiè¡¨æƒ…ç¬¦å· 7theme = \u0026#34;jane\u0026#34; # é€‰ç”¨janeä¸»é¢˜ 8hasCJKLanguage = true # è‡ªåŠ¨æ£€æµ‹æ˜¯å¦åŒ…å« ä¸­æ–‡\\æ—¥æ–‡\\éŸ©æ–‡ 9paginate = 10 # é¦–é¡µæ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« æ•°ç›® 10rssLimit = 20 # é™åˆ¶ Rss æ–‡ç« è¾“å‡ºæ•°é‡ 11disqusShortname = \u0026#34;\u0026#34; # disqus_shortname 12googleAnalytics = \u0026#34;\u0026#34; # é…ç½®googleç»Ÿè®¡ 13copyright = \u0026#34;\u0026#34; # é»˜è®¤ä¸ºä¸‹é¢é…ç½®çš„author.nameï¼Œ 14 15# å…³äºè¯­è¨€ 16defaultContentLanguage = \u0026#34;zh-cn\u0026#34; # é»˜è®¤åšå®¢è¯­è¨€ç¯å¢ƒ 17[languages.zh-cn] # è¯­è¨€æ”¯æŒ 18 languageCode = \u0026#34;zh-cn\u0026#34; 19 20# å…³äºè¯­æ³•é«˜äº®ï¼Œå…·ä½“ä½¿ç”¨å¯æŸ¥çœ‹https://gohugo.io/content-management/syntax-highlighting/ 21PygmentsCodeFences = true # Enable syntax highlighting with GitHub flavoured code fences 22PygmentsUseClasses = true # Use CSS classes to format highlighted code 23PygmentsCodefencesGuessSyntax = true # 24PygmentsOptions = \u0026#34;linenos=table\u0026#34; # å¼€å¯æ˜¾ç¤ºè¡Œå· 25 26[author] # ä½œè€…åç§° 27 name = \u0026#34;sixdian\u0026#34; 28[sitemap] # ç«™ç‚¹åœ°å›¾ 29 changefreq = \u0026#34;weekly\u0026#34; 30 priority = 0.5 31 filename = \u0026#34;sitemap.xml\u0026#34; 32#------------------------------------------------------------------- 33 34#èœå•è®¾ç½® 35#------------------------------------------------------------------- 36[[menu.main]] 37 name = \u0026#34;ä¸»é¡µ\u0026#34; 38 weight = 10 39 identifier = \u0026#34;home\u0026#34; 40 url = \u0026#34;/\u0026#34; 41[[menu.main]] 42 name = \u0026#34;å½’æ¡£\u0026#34; 43 weight = 20 44 identifier = \u0026#34;archives\u0026#34; 45 url = \u0026#34;/post/\u0026#34; 46[[menu.main]] 47 name = \u0026#34;åˆ†ç±»\u0026#34; 48 weight = 30 49 identifier = \u0026#34;categories\u0026#34; 50 url = \u0026#34;/categories/\u0026#34; 51[[menu.main]] 52 name = \u0026#34;æ ‡ç­¾\u0026#34; 53 weight = 40 54 identifier = \u0026#34;tags\u0026#34; 55 url = \u0026#34;/tags/\u0026#34; 56[[menu.main]] 57 name = \u0026#34;å…³äº\u0026#34; 58 weight = 50 59 identifier = \u0026#34;about\u0026#34; 60 url = \u0026#34;/about/\u0026#34; 61[[menu.main]] 62 name = \u0026#34;å‹é“¾\u0026#34; 63 weight = 60 64 identifier = \u0026#34;links\u0026#34; 65 url = \u0026#34;/links/\u0026#34; 66[[menu.main]] 67 name = \u0026#34;è®¢é˜…\u0026#34; 68 weight = 70 69 identifier = \u0026#34;feed\u0026#34; 70 url = \u0026#34;/index.xml\u0026#34; 71#------------------------------------------------------------------- 72 73#å…¶ä»–å‚æ•°è®¾ç½® 74#------------------------------------------------------------------- 75[params] 76 since = \u0026#34;2022\u0026#34; # ç«™ç‚¹å»ºç«‹æ—¶é—´ 77 homeFullContent = false # ä¸»é¡µæ˜¯å¦æ˜¾ç¤ºå…¨éƒ¨æ–‡ç« å†…å®¹ 78 rssFullContent = true # if false, Rss feed instead of the summary 79 logoTitle = \u0026#34;å…­ç‚¹éšç¬”\u0026#34; # åšå®¢æ ‡é¢˜ï¼Œé»˜è®¤å€¼æ˜¯ä¸Šé¢è®¾ç½®çš„titleï¼Œä¹Ÿå°±æ˜¯ç½‘å€åç§° 80 keywords = [\u0026#34;Hugo\u0026#34;, \u0026#34;linux\u0026#34;, \u0026#34;emacs\u0026#34;, \u0026#34;CPU\u0026#34;] # å…³é”®å­— 81 description = \u0026#34;\u0026#34; # ç½‘é¡µæè¿° 82 archive-paginate = 30 # å½’æ¡£ã€æ ‡ç­¾ã€åˆ†ç±»æ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« æ•°ç›® 83 dateFormatToUse = \u0026#34;2006-01-02\u0026#34; # æ—¥æœŸæ˜¾ç¤ºæ ¼å¼ï¼ŒæŸ¥çœ‹å¯æ”¯æŒçš„æ ¼å¼è§https://gohugo.io/functions/format/ 84 moreMeta = true # æ˜¯å¦æ˜¾ç¤ºå­—æ•°ç»Ÿè®¡ä¸é˜…è¯»æ—¶é—´ 85 showMenuLanguageChooser = true # æ˜¾ç¤ºè¯­è¨€é€‰æ‹©å¼€å…³ 86 showAuthorInfo = true # æ–‡ç« æœ«å°¾æ˜¾ç¤ºä½œè€…ä¿¡æ¯ 87 88 # ä¸€äº›å…¨å±€å¼€å…³ï¼Œè¿™äº›æ˜¯é»˜è®¤å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨æ¯ä¸€ç¯‡å†…å®¹çš„ front matter ä¸­å¯¹å•ç¯‡å†…å®¹å…³é—­æˆ–å¼€å¯æŸäº›åŠŸèƒ½ï¼Œåœ¨ archetypes/default.md æŸ¥çœ‹æ›´å¤šä¿¡æ¯ã€‚ 89 toc = true # æ˜¯å¦å¼€å¯ç›®å½• 90 photoswipe = true # æ˜¯å¦å¯ç”¨PhotoSwipeï¼ˆå›¾ç‰‡å¯ç‚¹å‡»ï¼‰ 91 bootcdn = true # æ˜¯å¦ä½¿ç”¨bootcdn 92 mathjax = false # æ˜¯å¦ä½¿ç”¨mathjaxï¼ˆæ•°å­¦å…¬å¼ï¼‰ 93 contentCopyright = \u0026#39;å…­ç‚¹åˆ›ä½œï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼\u0026#39; # ç‰ˆæƒå£°æ˜ 94 95 customCSS = [] # if [\u0026#39;custom.css\u0026#39;], load \u0026#39;/static/css/custom.css\u0026#39; file 96 customJS = [] # if [\u0026#39;custom.js\u0026#39;], load \u0026#39;/static/js/custom.js\u0026#39; file 97#------------------------------------------------------------------- 98 99# CDNè®¾ç½® 100#------------------------------------------------------------------- 101 [params.publicCDN] # load these files from public cdn 102 enable = true 103 jquery = \u0026#39;\u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js\u0026#34; integrity=\u0026#34;sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\u0026#39; 104 slideout = \u0026#39;\u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js\u0026#34; integrity=\u0026#34;sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\u0026#39; 105 gitmentJS = \u0026#39;\u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/gitment@0.0.3/dist/gitment.browser.min.js\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\u0026#39; 106 gitmentCSS = \u0026#39;\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdn.jsdelivr.net/npm/gitment@0.0.3/style/default.min.css\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026#39; 107 photoswipe = \u0026#39;\u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.js\u0026#34; integrity=\u0026#34;sha256-AC9ChpELidrhGHX23ZU53vmRdz3FhKaN9E28+BbcWBw=\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\u0026#39; 108 photoswipeUI = \u0026#39;\u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js\u0026#34; integrity=\u0026#34;sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\u0026#39; 109 photoswipeCSS = \u0026#39;\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css\u0026#34; integrity=\u0026#34;sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026#39; 110 photoswipeSKIN = \u0026#39;\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css\u0026#34; integrity=\u0026#34;sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34;\u0026gt;\u0026#39; 111#------------------------------------------------------------------- 112 113# ä¸‹é¢æ˜¯å…³äºè¯„è®ºç³»ç»Ÿï¼Œæ›´æ–°æ˜¾ç¤ºcommitå†…å®¹ï¼Œè°·æ­Œæœç´¢ï¼Œæ–‡ç« æ‰“èµï¼Œè®¿é—®æ•°æ®ç»Ÿè®¡ç­‰ç­‰ 114#------------------------------------------------------------------- 115 [params.utteranc] # utteranc is a comment system based on GitHub issues. see https://utteranc.es 116 enable = false 117 repo = \u0026#34;xianmin/comments-for-hugo-theme-jane\u0026#34; # The repo to store comments 118 issueTerm = \u0026#34;pathname\u0026#34; 119 120 [params.gitment] # Gitment is a comment system based on GitHub issues. see https://github.com/imsun/gitment 121 owner = \u0026#34;\u0026#34; # Your GitHub ID 122 repo = \u0026#34;\u0026#34; # The repo to store comments 123 clientId = \u0026#34;\u0026#34; # Your client ID 124 clientSecret = \u0026#34;\u0026#34; # Your client secret 125 126 [params.livere] #LiveRe comment. see https://www.livere.com/ 127 uid = \u0026#34;\u0026#34; 128 129 [params.reward] # æ–‡ç« æ‰“èµ 130 enable = false 131 wechat = \u0026#34;/path/to/your/wechat-qr-code.png\u0026#34; # å¾®ä¿¡äºŒç»´ç  132 alipay = \u0026#34;/path/to/your/alipay-qr-code.png\u0026#34; # æ”¯ä»˜å®äºŒç»´ç  133 134 [params.counter.busuanzi] # a Chinese visitor counter # åœç®—å­è®¡æ•°å™¨ 135 enable = false 136 137 [params.counter.leancloud] # Chinese leancloud visitor counter # leancloud è®¡æ•°å™¨ 138 enable = false 139 appId = \u0026#34;\u0026#34; 140 appKey = \u0026#34;\u0026#34; 141 142 [params.commentCount.disqus] # show counts of comments for Disqus 143 enable = false 144 145 [params.search.google] # google custom search, see https://cse.google.com 146 enable = false 147 id = \u0026#34;002186711602136249422:q1gkomof_em\u0026#34; 148 title = \u0026#34;Search\u0026#34; 149 150 [params.gitInfo] 151 gitRepo = \u0026#34;https://github.com/xianmin/xianmin.org\u0026#34; 152 showCommitMessage = false 153#------------------------------------------------------------------- 154 155#ç¤¾äº¤é“¾æ¥ 156#------------------------------------------------------------------- 157# [params.social] 158# a-email = \u0026#34;mailto:your@email.com\u0026#34; 159# b-stack-overflow = \u0026#34;http://localhost:1313\u0026#34; 160# c-twitter = \u0026#34;http://localhost:1313\u0026#34; 161# d-facebook = \u0026#34;http://localhost:1313\u0026#34; 162# e-linkedin = \u0026#34;http://localhost:1313\u0026#34; 163# f-google = \u0026#34;http://localhost:1313\u0026#34; 164# g-github = \u0026#34;http://localhost:1313\u0026#34; 165# h-weibo = \u0026#34;http://localhost:1313\u0026#34; 166# i-zhihu = \u0026#34;http://localhost:1313\u0026#34; 167# j-douban = \u0026#34;http://localhost:1313\u0026#34; 168# k-pocket = \u0026#34;http://localhost:1313\u0026#34; 169# l-tumblr = \u0026#34;http://localhost:1313\u0026#34; 170# m-instagram = \u0026#34;http://localhost:1313\u0026#34; 171# n-gitlab = \u0026#34;http://localhost:1313\u0026#34; 172# o-goodreads = \u0026#34;http://localhost:1313\u0026#34; 173# p-coding = \u0026#34;http://localhost:1313\u0026#34; 174# q-bilibili = \u0026#34;http://localhost:1313\u0026#34; 175# r-codeforces = \u0026#34;http://localhost:1313\u0026#34; 176# s-mastodon = \u0026#34;http://localhost:1313\u0026#34; 177#------------------------------------------------------------------- Â© 2022-2023 ğŸš´ sixdian\n","permalink":"https://omgkill.github.io/post/knowledgesite/jane/","tags":["hugo","blob"],"title":"Hugo ä½¿ç”¨ Jane ä¸»é¢˜å¸¸ç”¨çš„ä¸€äº›é…ç½®"},{"categories":["docker"],"contents":" å®‰è£…docker\nyum install -y docker åˆ›å»ºç½‘ç»œ\ndocker network create test_net åˆ›å»ºredis1\ndocker run -d \u0026ndash;rm \u0026ndash;name redis1 -h redis1 \u0026ndash;net test_net 10.0.3.2:5001/base_redis åˆ›å»ºredis2\ndocker run -d \u0026ndash;rm \u0026ndash;name redis2 -h redis2 \u0026ndash;net test_net 10.0.3.2:5001/base_redis æµ‹è¯•\ndocker exec -it redis1 ping -c 3 redis2 ","permalink":"https://omgkill.github.io/post/docker/docker%E5%8D%95%E6%9C%BA%E5%AE%B9%E5%99%A8%E4%BA%92%E8%BF%9E/","tags":["docker","ç½‘ç»œ"],"title":"Dockerå•æœºå®¹å™¨äº’è¿"},{"categories":["JVM"],"contents":"ä¸€éƒ¨åˆ†jvmå‚æ•°è¯¦è§£ç½‘å€ï¼šhttp://www.51gjie.com/java/551.html ä¸gcæ— å…³è®¾å®š -D user.timezone=UTC\næŒ‡å®šæ—¶åŒº æµ‹è¯•æœå¯åŠ¨æŒ‡å®šæ—¶åŒº JVMè¿è¡Œæ—¶å¢åŠ å‚æ•°ï¼ŒæŒ‡å®šæ—¶åŒº -Dfile.encoding=UTF-8\næ–‡ä»¶æ ¼å¼\n-Djava.util.Arrays.useLegacyMergeSort=true\nArrays.sortæ–¹æ³•å’ŒCollections.sortï¼ˆåº•å±‚ä¹Ÿæ˜¯Arrays.sortï¼‰æ–¹æ³•è¢«æ›¿æ¢äº†ï¼Œå¦‚æœè¿åäº†æ–°çš„æ’åºè§„åˆ™å°±å¯èƒ½ä¼šå‡ºç°IllegalArgumentExceptionå¼‚å¸¸ï¼ˆè¿™é‡Œæ˜¯å¯èƒ½ï¼Œä¸æ˜¯ä¸€å®šï¼‰ã€‚\nä¹‹å‰çš„æ–¹æ³•ä¼šå¿½ç•¥æ‰ä¸€ç§æƒ…å†µï¼Œå¦‚æœæƒ³ä½¿ç”¨ä¹‹å‰çš„æ–¹æ³•ï¼Œè¿™é‡Œæä¾›äº†ä¸€ä¸ªæ–°çš„å‚æ•°ï¼Œjava.util.Arrays.useLegacyMergeSortå»è¿˜åŸä¹‹å‰çš„æ–¹æ³•ã€‚ æœ€å®¹æ˜“å‡ºé”™çš„æƒ…å†µå°±æ˜¯è‡ªå·±å†™çš„æ¯”è¾ƒå™¨åªå†™äº†1å’Œ-1çš„æƒ…å†µï¼Œè€Œæ²¡æœ‰å†™0ï¼Œ\nå¦‚ï¼š è¿™æ ·ä¼šå¯¼è‡³å½“x == yæ—¶ï¼Œcompare(x,y)çš„ç»“æœä¸º -1ï¼Œæ­¤æ—¶sgn(compare(x,y)) = -1ï¼Œè¿™ä¸ç¬¬ä¸€ç§æ»¡è¶³æ¡ä»¶sgn(compare(x, y)) == -sgn(compare(y, x))ç›¸è¿èƒŒã€‚æ‰€ä»¥ä¼šæŠ›å‡ºIllegalArgumentExceptionå¼‚å¸¸ã€‚ å¯¹äº x \u0026gt; y ? 1 : -1 ï¼Œå½“x == yæ—¶ï¼Œä¹Ÿåªæ˜¯å¯å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä»€ä¹ˆä¼šæŠ›å‡ºè¯¥å¼‚å¸¸ï¼Œè¿™è¦å–ç»äºTimSortç®—æ³•ã€‚\n-XX:HeapDumpPath=${ç›®å½•}\nå‚æ•°è¡¨ç¤ºç”ŸæˆDUMPæ–‡ä»¶çš„è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæ–‡ä»¶åç§°ï¼Œä¾‹å¦‚ï¼š-XX:HeapDumpPath=${ç›®å½•}/java_heapdump.hprofã€‚å¦‚æœä¸æŒ‡å®šæ–‡ä»¶åï¼Œé»˜è®¤ä¸ºï¼šjava__heapDump.hprofã€‚\ngcç›¸å…³ XX:MaxTenuringThreshold\nç”Ÿå­˜æ¬¡æ•°è¾¾åˆ°è¿›å…¥è€å¹´ä»£\nXX:MaxGCPauseMillis \u0026ndash; æ¯æ¬¡gcæš‚åœæ—¶é—´\næ˜¯æ‰€æœ‰gcæš‚åœæ—¶é—´å—ï¼Ÿï¼Ÿè¿˜æ˜¯young gcã€mix gc\n-XX:G1HeapRegionSize.\nregion å¤§å°ï¼Œåº”è¯¥2çš„å¹‚æ–¹ï¼Œå»ºè®®åŒºåŸŸæ•°é‡æ¥è¿‘äº2048\nWhen setting the region size, itâ€™s important to understand the number of regions your heap-to-size ratio will create because the fewer the regions, the less flexibility G1 has and the longer it takes to scan, mark and collect each of them. In all cases, empty regions are added to an unordered linked list also known as the \u0026ldquo;free list\u0026rdquo;.\nG1ReservePercent\né¢„ç•™å†…å­˜\nG1HeapWastePercent\næœ€å°å¯å›æ”¶åŠåˆ†æ¯”ï¼Œè¶…è¿‡äº†æ‰è¿›è¡Œgcå¤„ç†\né»˜è®¤å€¼5%ï¼Œä¹Ÿå°±æ˜¯åœ¨å…¨å±€å¹¶å‘æ ‡è®°ç»“æŸåèƒ½å¤Ÿç»Ÿè®¡å‡ºæ‰€æœ‰å¯è¢«å›æ”¶çš„åƒåœ¾å Heapçš„æ¯”ä¾‹å€¼ï¼Œå¦‚æœè¶…è¿‡5%ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘ä¹‹åçš„å¤šè½®Mixed GCï¼Œmixed gcä¼šåŒæ—¶å›æ”¶å¹´è½»ä»£+è€å¹´ä»£ï¼Œè€Œè¿™ä¸ªå‚æ•°å¯ä»¥æŒ‡å®šmixed gcè§¦å‘çš„æ—¶æœºã€‚è€Œä¸”mixed gc å¯ä»¥åœ¨ gc logä¸­æ¸…æ¥šçš„è®°å½•ä¸‹æ¥ã€‚è¿™ä¸ªå‚æ•°ä¸InitiatingHeapOccupancyPercent ç»“åˆä½¿ç”¨çš„è¯å¯ä»¥æå‰å›æ”¶è€å¹´ä»£ï¼Œè®©è€å¹´ä»£æå‰é‡Šæ”¾ç©ºé—´ã€‚\né»˜è®¤5%ï¼Œ gcè¿‡ç¨‹ä¸­ç©ºå‡ºæ¥çš„regionæ˜¯å¦å……è¶³é˜ˆå€¼ï¼Œåœ¨æ··åˆå›æ”¶çš„æ—¶å€™ï¼Œå¯¹Regionå›æ”¶éƒ½æ˜¯åŸºäºå¤åˆ¶ç®—æ³•è¿›è¡Œçš„ï¼Œéƒ½æ˜¯æŠŠè¦å›æ”¶çš„Regioné‡Œçš„å­˜æ´»å¯¹è±¡æ”¾å…¥å…¶ä»– Regionï¼Œç„¶åè¿™ä¸ªRegionä¸­çš„åƒåœ¾å¯¹è±¡å…¨éƒ¨æ¸…ç†æ‰ï¼Œè¿™æ ·çš„è¯åœ¨å›æ”¶è¿‡ç¨‹å°±ä¼šä¸æ–­ç©ºå‡ºæ¥æ–°çš„ Regionï¼Œä¸€æ—¦ç©ºé—²å‡ºæ¥çš„Regionæ•°é‡è¾¾åˆ°äº†å †å†…å­˜çš„5%ï¼Œæ­¤æ—¶å°±ä¼šç«‹å³åœæ­¢æ··åˆå›æ”¶ï¼Œæ„å‘³ç€ æœ¬æ¬¡æ··åˆå›æ”¶å°±ç»“æŸäº†\nG1MixedGCLiveThresholdPercent-\nä¸€ä¸ª åŒºåŸŸæ´»å¯¹è±¡ç™¾åˆ†æ¯”ã€‚ä½äºè¿™ä¸ªç™¾åˆ†æ¯”ï¼Œæ‰èƒ½å¯¹regionå›æ”¶\n-\u0026gt; é»˜è®¤85%ï¼Œregionä¸­çš„å­˜æ´»å¯¹è±¡ä½äºè¿™ä¸ªå€¼æ—¶æ‰ä¼šå›æ”¶è¯¥regionï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªå€¼ï¼Œå­˜æ´»å¯¹è±¡è¿‡å¤šï¼Œå›æ”¶çš„çš„æ„ä¹‰ä¸å¤§ã€‚\n-Xss\nè®¾ç½®å•ä¸ªçº¿ç¨‹æ ˆå¤§å°ï¼Œæ¯”å¦‚-Xss512Kï¼Œæ•°å€¼è¶Šå°ï¼Œä¸€ä¸ªçº¿ç¨‹æ ˆé‡Œèƒ½åˆ†é…çš„æ ˆå¸§å°±è¶Šå°‘ï¼Œè¯´æ˜å¯ä»¥å¼€å¯çš„çº¿ç¨‹æ•°è¶Šå¤š\nâ€XX:MetaspaceSize\nè®¾ç½®æ–¹æ³•åŒºçš„å¤§å°ï¼Œä¹Ÿæ˜¯è§¦å‘GCçš„é˜ˆå€¼ï¼Œæ¯”å¦‚\nâ€XX:MaxMetaspaceSiz\nè®¾ç½®æ–¹æ³•åŒºçš„æœ€å¤§å€¼ï¼Œæ¯”å¦‚â€XX:MaxMetaspaceSize=256M\n-XX:+HeapDumpOnOutOfMemoryError\nå‚æ•°è¡¨ç¤ºå½“JVMå‘ç”ŸOOMæ—¶ï¼Œè‡ªåŠ¨ç”ŸæˆDUMPæ–‡ä»¶ã€‚\n-XX:MaxGCPauseMillis=150\nè®¾ç½®æ¯æ¬¡å¹´è½»ä»£åƒåœ¾å›æ”¶çš„æœ€é•¿æ—¶é—´ï¼Œå¦‚æœæ— æ³•æ»¡è¶³æ­¤æ—¶é—´ï¼ŒJVMä¼šè‡ªåŠ¨è°ƒæ•´å¹´è½»ä»£å¤§å°ï¼Œä»¥æ»¡è¶³æ­¤å€¼\n-XX:+UseAdaptiveSizePolicyï¼š\nè®¾ç½®æ­¤é€‰é¡¹åï¼Œå¹¶è¡Œæ”¶é›†å™¨ä¼šè‡ªåŠ¨é€‰æ‹©å¹´è½»ä»£åŒºå¤§å°å’Œç›¸åº”çš„SurvivoråŒºæ¯”ä¾‹ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ç³»ç»Ÿè§„å®šçš„æœ€ä½ç›¸åº”æ—¶é—´æˆ–è€…æ”¶é›†é¢‘ç‡ç­‰ï¼Œæ­¤å€¼å»ºè®®ä½¿ç”¨å¹¶è¡Œæ”¶é›†å™¨æ—¶ï¼Œä¸€ç›´æ‰“å¼€ã€‚\n-XX:G1NewSizePercent\nè®¾ç½®æ–°ç”Ÿä»£åˆå§‹å æ¯”ï¼Œåœ¨ç³»ç»Ÿ è¿è¡Œä¸­ï¼ŒJVMä¼šä¸åœçš„ç»™å¹´è½»ä»£å¢åŠ æ›´å¤šçš„Regionï¼Œä½†æ˜¯æœ€å¤šæ–°ç”Ÿä»£çš„å æ¯”ä¸ä¼šè¶…è¿‡ 60%\nå¯ä»¥ é€šè¿‡â€œ-XX:G1MaxNewSizePercentâ€è°ƒæ•´\nå¹´è½»ä»£æœ€å¤§å æ¯”\n-XX:+UseConcMarkSweepGC:\nä»£è¡¨åƒåœ¾å›æ”¶ç­–ç•¥ä¸ºå¹¶å‘æ”¶é›†å™¨ã€‚\nXX:G1MixedGCCountTarget\nåœ¨ä¸€æ¬¡å›æ”¶è¿‡ç¨‹ä¸­æŒ‡å®šåšå‡ æ¬¡ç­›é€‰å›æ”¶(é»˜è®¤8æ¬¡)ï¼Œåœ¨æœ€åä¸€ä¸ªç­›é€‰å›æ”¶é˜¶æ®µå¯ä»¥å›æ”¶ä¸€ä¼šï¼Œç„¶åæš‚åœå›æ”¶ï¼Œæ¢å¤ç³»ç»Ÿè¿è¡Œï¼Œä¸€ä¼šå†å¼€å§‹å›æ”¶ï¼Œè¿™æ ·å¯ä»¥è®©ç³»ç»Ÿä¸è‡³äºå•æ¬¡åœé¡¿æ—¶é—´è¿‡é•¿ã€‚\n-XX:ConcGCThreads=2\n-XX:InitiatingHeapOccupancyPercent=45\nåº”è¯¥ä¸ä»…ä»…æ˜¯è€å¹´ä»£ï¼Œåº”è¯¥åŒ…å«å¹´è½»ä»£å’Œå¹´è€ä»£ï¼Ÿï¼Ÿï¼Œå¦‚æœè¿™æ ·ï¼Œé‚£è§¦å‘é¢‘ç‡åº”è¯¥å¾ˆé«˜å•Šã€‚\nè€å¹´ä»£å ç”¨ç©ºé—´è¾¾åˆ°æ•´å †å†…å­˜é˜ˆå€¼(é»˜è®¤45%)ï¼Œåˆ™æ‰§è¡Œ æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„æ··åˆæ”¶é›†(MixedGC)ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¹‹å‰è¯´çš„å †é»˜è®¤æœ‰2048ä¸ªregionï¼Œå¦‚æœæœ‰æ¥è¿‘ 1000ä¸ªregionéƒ½æ˜¯è€å¹´ä»£çš„regionï¼Œåˆ™å¯èƒ½å°±è¦è§¦å‘MixedGCäº†\n-XX:NewSize=nï¼š\nâ€Xmn -\u0026gt; è®¾ç½®å¹´è½»ä»£å¤§å°ï¼Œæ¯”å¦‚â€Xmn2g\nè®¾ç½®å¹´è½»ä»£å¤§å°\nXX:NewRatio\nè®¾ç½®å¹´è½»ä»£å’Œå¹´è€ä»£çš„æ¯”å€¼ã€‚å¦‚:ä¸º3ï¼Œè¡¨ç¤ºå¹´è½»ä»£ä¸å¹´è€ä»£æ¯”å€¼ä¸º1ï¼š3ï¼Œå¹´è½»ä»£å æ•´ä¸ªå¹´è½»ä»£å¹´è€ä»£å’Œçš„1/4\nXX:SurvivorRatio\nå¹´è½»ä»£ä¸­EdenåŒºä¸ä¸¤ä¸ªSurvivoråŒºçš„æ¯”å€¼ã€‚æ³¨æ„SurvivoråŒºæœ‰ä¸¤ä¸ªã€‚å¦‚ï¼š3ï¼Œè¡¨ç¤ºEdenï¼šSurvivor=3ï¼š2ï¼Œä¸€ä¸ªSurvivoråŒºå æ•´ä¸ªå¹´è½»ä»£çš„1/5\n-XX:GCTimeRatio=n:\nè®¾ç½®åƒåœ¾å›æ”¶æ—¶é—´å ç¨‹åºè¿è¡Œæ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚å…¬å¼ä¸º1/(1+n)\nâ€XX:PretenureSizeThreshold\nå¯ä»¥è®¾ç½®å¤§å¯¹è±¡çš„å¤§å°ï¼Œæ¯”å¦‚â€XX:PretenureSizeThreshold=100000000 å•ä½ä¸ºbtyeã€‚\nâ€XX:MaxTenuringThreshold\nè®¾ç½®åˆ†ä»£å¹´é¾„ï¼Œæ¯”å¦‚â€XX:MaxTenuringThreshold=10 é»˜è®¤ä¸º15ã€‚\nâ€XX:-HandlePromotionFailure\nè€å¹´ä»£åˆ†é…æ‹…ä¿æœºåˆ¶å‚æ•°ï¼Œ1.8é»˜è®¤å¼€å¯ã€‚\nâ€XX:-UseAdaptiveSizePolicy\nç¦æ­¢JVMè‡ªåŠ¨ä¼˜åŒ–edenå’ŒSurvivoré»˜è®¤æ¯”ä¾‹8ï¼š1ï¼š1ï¼Œåä¹‹JVMé»˜è®¤æœ‰è¿™ä¸ªå‚æ•°â€XX:+UseAdaptiveSizePolicyï¼Œä¼šå¯¼è‡´è¿™ä¸ªæ¯”ä¾‹è‡ªåŠ¨å˜åŒ–ã€‚\nâ€XX:SurvivorRatio\nè®¾ç½®Edenå’ŒSurvivorå¤§å°æ¯”å¦‚ â€XX:SurvivorRatio =8ï¼Œæ³¨æ„SurvivoråŒºæœ‰ä¸¤ä¸ªã€‚è¡¨ç¤ºEdenï¼šSurvivor=8ï¼š2ï¼Œä¸€ä¸ªSurvivoråŒºå æ•´ä¸ªå¹´è½»ä»£çš„1/10ã€‚\nâ€XX:G1HeapRegionSize\næŒ‡å®šåˆ†åŒºå¤§å°(1MB~32MBï¼Œä¸”å¿…é¡»æ˜¯2çš„å¹‚)ï¼Œé»˜è®¤å°†æ•´å †åˆ’åˆ†ä¸º2048ä¸ªåˆ†åŒº\nâ€XX:TargetSurvivorRatio\nSurvivoråŒºçš„å¡«å……å®¹é‡(é»˜è®¤50%)ï¼ŒSurvivoråŒºåŸŸé‡Œçš„ä¸€æ‰¹å¯¹è±¡(å¹´é¾„1+å¹´é¾„2+å¹´é¾„nçš„å¤šä¸ªå¹´é¾„å¯¹è±¡)æ€»å’Œè¶…è¿‡äº†SurvivoråŒºåŸŸçš„50%ï¼Œæ­¤æ—¶å°±ä¼šæŠŠå¹´é¾„n(å«)ä»¥ä¸Šçš„å¯¹è±¡éƒ½æ”¾å…¥è€å¹´ä»£\n-XX:ParallelGCThreads=4ï¼š\né…ç½®å¹¶è¡Œæ”¶é›†å™¨çš„çº¿ç¨‹æ•°ï¼Œå³ï¼šåŒæ—¶å¤šå°‘ä¸ªçº¿ç¨‹ä¸€èµ·è¿›è¡Œåƒåœ¾å›æ”¶ã€‚æ­¤å€¼æœ€å¥½é…ç½®ä¸å¤„ç†å™¨æ•°ç›®ç›¸ç­‰ã€‚\ncode\r1 2ã€å¯¹äºå¹¶è¡Œgcæ”¶é›†å™¨ï¼š 2 2.1ã€æ¯”å¦‚psçš„æ—¶å€™ï¼š 3 -XX:ParallelGCThreads={value} è¿™ä¸ªå‚æ•°æ˜¯æŒ‡å®šå¹¶è¡Œ GC çº¿ç¨‹çš„æ•°é‡ï¼Œä¸€èˆ¬æœ€å¥½å’Œ CPU æ ¸å¿ƒæ•°é‡ç›¸å½“ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ CPU æ•°é‡å°äº8ï¼Œ ParallelGCThreads çš„å€¼ç­‰äº CPU æ•°é‡ï¼Œå½“ CPU æ•°é‡å¤§äº 8 æ—¶ï¼Œåˆ™ä½¿ç”¨å…¬å¼ï¼šParallelGCThreads = 8 + ((N - 8) * 5/8) = 3 +ï¼ˆï¼ˆ5*CPUï¼‰/ 8ï¼‰ï¼›åŒæ—¶è¿™ä¸ªå‚æ•°åªè¦æ˜¯å¹¶è¡Œ GC éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä¸åªæ˜¯ ParNewã€‚ 4 5 ç”±äºGCæ“ä½œä¼šæš‚åœæ‰€æœ‰çš„åº”ç”¨ç¨‹åºçº¿ç¨‹ï¼ŒJVMä¸ºäº†å°½é‡ç¼©çŸ­åœé¡¿æ—¶é—´å°±å¿…é¡»å°½å¯èƒ½åœ°åˆ©ç”¨æ›´å¤šçš„CPUèµ„æºã€‚è¿™æ„å‘³ç€ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒJVMä¼šåœ¨æœºå™¨çš„æ¯ä¸ªCPUä¸Šè¿è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œæœ€å¤šåŒæ—¶è¿è¡Œ8ä¸ªã€‚ä¸€æ—¦è¾¾åˆ°è¿™ä¸ªä¸Šé™ï¼ŒJVMä¼šè°ƒæ•´ç®—æ³•ï¼Œæ¯è¶…å‡º5/8ä¸ªCPUå¯åŠ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚æ‰€ä»¥æ€»çš„çº¿ç¨‹æ•°å°±æ˜¯ï¼ˆè¿™é‡Œçš„Nä»£è¡¨CPUçš„æ•°ç›®ï¼‰ï¼šParallelGCThreads = 8 + ((N - 8) * 5/8) 6 æœ‰æ—¶å€™ä½¿ç”¨è¿™ä¸ªç®—æ³•ä¼°ç®—å‡ºæ¥çš„çº¿ç¨‹æ•°ç›®ä¼šåå¤§ã€‚å¦‚æœåº”ç”¨ç¨‹åºä½¿ç”¨ä¸€ä¸ªè¾ƒå°çš„å †ï¼ˆè­¬å¦‚å¤§å°ä¸º1 GBï¼‰è¿è¡Œåœ¨ä¸€ä¸ªå…«é¢—CPUçš„æœºå™¨ä¸Šï¼Œä½¿ç”¨4ä¸ªçº¿ç¨‹æˆ–è€…6ä¸ªçº¿ç¨‹å¤„ç†è¿™ä¸ªå †å¯èƒ½ä¼šæ›´é«˜æ•ˆã€‚åœ¨ä¸€ä¸ª128é¢—CPUçš„æœºå™¨ä¸Šï¼Œå¯åŠ¨83ä¸ªåƒåœ¾æ”¶é›†çº¿ç¨‹å¯èƒ½ä¹Ÿå¤ªå¤šäº†ï¼Œé™¤éç³»ç»Ÿä½¿ç”¨çš„å †å·²ç»è¾¾åˆ°äº†æœ€å¤§ä¸Šé™ã€‚ 7 8 2.2ã€cmsçš„æ—¶å€™ï¼š 9 -XX:ParallelGCThreads ç”±äºæ˜¯å¹¶è¡Œå¤„ç†å™¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æŒ‡å®šçº¿ç¨‹æ•°ã€‚ 10 é»˜è®¤å¹¶å‘çº¿ç¨‹æ•°æ˜¯ï¼šï¼ˆParallelGCThreads + 3ï¼‰/ 4ï¼‰ 11 12 13 é™„å¸¦ï¼š 14 1ã€CPUæ€»æ ¸æ•° = ç‰©ç†CPUä¸ªæ•° * æ¯é¢—ç‰©ç†CPUçš„æ ¸æ•° 15 2ã€æ€»é€»è¾‘CPUæ•° = ç‰©ç†CPUä¸ªæ•° * æ¯é¢—ç‰©ç†CPUçš„æ ¸æ•° * è¶…çº¿ç¨‹æ•° 16 17 3ã€ç›¸å…³å‘½ä»¤ï¼š 18 19 3.1ã€æŸ¥çœ‹CPUä¿¡æ¯ï¼ˆå‹å·ï¼‰[root@AAA ~]# cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c 20 21 28 Intel(R) Xeon(R) CPU E5-2650 v2 @ 2.60GHz 22 23 3.2ã€æŸ¥çœ‹ç‰©ç†CPUä¸ªæ•° [root@AAA ~]# cat /proc/cpuinfo| grep \u0026#34;physical id\u0026#34;| sort| uniq| wc -l 24 25 1 26 27 3.3ã€æŸ¥çœ‹æ¯ä¸ªç‰©ç†CPUä¸­coreçš„ä¸ªæ•°(å³æ ¸æ•°) [root@AAA ~]# cat /proc/cpuinfo| grep \u0026#34;cpu cores\u0026#34;| uniq 28 29 cpu cores : 14 30 31 3.4ã€æŸ¥çœ‹é€»è¾‘CPUçš„ä¸ªæ•° [root@AAA ~]# cat /proc/cpuinfo| grep \u0026#34;processor\u0026#34;| wc -l 32 33 12 å›æ”¶æ¨¡å¼ç›¸å…³ -XX:+UseG1GC ä½¿ç”¨g1gc\n-XX:+UseSerialGCï¼š ä»£è¡¨åƒåœ¾å›æ”¶ç­–ç•¥ä¸ºä¸²è¡Œæ”¶é›†å™¨ï¼Œå³åœ¨æ•´ä¸ªæ‰«æå’Œå¤åˆ¶è¿‡ç¨‹é‡‡ç”¨å•çº¿ç¨‹çš„æ–¹å¼æ¥è¿›è¡Œï¼Œé€‚ç”¨äºå•CPUã€æ–°ç”Ÿä»£ç©ºé—´è¾ƒå°åŠå¯¹æš‚åœæ—¶é—´è¦æ±‚ä¸æ˜¯éå¸¸é«˜çš„åº”ç”¨ä¸Šï¼Œæ˜¯clientçº§åˆ«é»˜è®¤çš„GCæ–¹å¼ï¼Œä¸»è¦åœ¨JDK1.5ä¹‹å‰çš„åƒåœ¾å›æ”¶æ–¹å¼ã€‚\n-XX:+UseParallelGCï¼š ä»£è¡¨åƒåœ¾å›æ”¶ç­–ç•¥ä¸ºå¹¶è¡Œæ”¶é›†å™¨(ååé‡ä¼˜å…ˆ)ï¼Œå³åœ¨æ•´ä¸ªæ‰«æå’Œå¤åˆ¶è¿‡ç¨‹é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼æ¥è¿›è¡Œï¼Œé€‚ç”¨äºå¤šCPUã€å¯¹æš‚åœæ—¶é—´è¦æ±‚è¾ƒçŸ­çš„åº”ç”¨ä¸Šï¼Œæ˜¯serverçº§åˆ«é»˜è®¤é‡‡ç”¨çš„GCæ–¹å¼ã€‚ æ­¤é…ç½®ä»…å¯¹å¹´è½»ä»£æœ‰æ•ˆã€‚è¯¥é…ç½®åªèƒ½è®©å¹´è½»äººä½¿ç”¨å¹¶å‘æ”¶é›†ï¼Œè€Œå¹´è€ä»£ä»æ—§ä½¿ç”¨ä¸²è¡Œæ”¶é›†\n-XX:+UseParallelOldGCï¼š é…ç½®å¹´è€ä»£åƒåœ¾æ”¶é›†æ–¹å¼ä¸ºå¹¶è¡Œæ”¶é›†ã€‚JDK6.0æ”¯æŒå¯¹å¹´è€ä»£å¹¶è¡Œæ”¶é›†\næ—¥å¿—ç›¸å…³ â€ XX:+PrintGCDetails\næ‰“å°GCæ—¥å¿—\nâ€ XX:+PrintGCTimeStamps\næ‰“å°GCæ—¶é—´\nâ€ XX:+PrintGCDateStamps\næ‰“å°GCæ—¥æœŸ\nâ€ Xloggc\nå°†GCæ—¥å¿—ä¿å­˜ä¸ºæ–‡ä»¶ï¼Œæ¯”å¦‚â€Xloggc:./gc.log\n- ä½¿ç”¨äº†å‚æ•°\r1-XX:ConcGCThreads=2 2-XX:+DisableExplicitGC 3-XX:G1MixedGCCountTarget=16 4-XX:G1RSetRegionEntries=1024 5-XX:+G1SummarizeRSetStats 6-XX:G1SummarizeRSetStatsPeriod=1 7-XX:GCTimeRatio=4 8-XX:+HeapDumpOnOutOfMemoryError 9-XX:InitialHeapSize=524288000 10-XX:InitialTenuringThreshold=2 11-XX:InitiatingHeapOccupancyPercent=45 12-XX:MaxGCPauseMillis=150 13-XX:MaxHeapSize=3145728000 14-XX:MaxTenuringThreshold=2 15-XX:-OmitStackTraceInFastThrow 16-XX:ParallelGCThreads=4 17-XX:+PrintCommandLineFlags 18-XX:+PrintFlagsFinal 19-XX:+PrintGC 20-XX:+PrintGCApplicationStoppedTime 21-XX:+PrintGCDateStamps 22-XX:+PrintGCDetails 23-XX:+PrintGCTimeStamps 24-XX:+PrintStringTableStatistics 25-XX:+PrintTenuringDistribution 26-XX:StringTableSize=200003 27-XX:SurvivorRatio=6 28-XX:+UnlockDiagnosticVMOptions 29-XX:+UseCompressedClassPointers 30-XX:+UseCompressedOops 31-XX:+UseG1GC 32-XX:-UseLargePagesIndividualAllocation 33-XX:+UseStringDeduplication ","permalink":"https://omgkill.github.io/post/jvm/jvm-gc%E5%8F%82%E6%95%B0/","tags":["jvm","GC"],"title":"jvm gcå‚æ•°"},{"categories":["redis"],"contents":"redis cluster è¿ç§» å‡†å¤‡ è¿ç§»å·¥å…·ï¼Œredis shake \u0026ndash; https://github.com/alibaba/RedisShake ç”Ÿæˆdumpæ–‡ä»¶ æ‰¾ä¸€ä¸ªæœºå™¨ï¼Œå¯ä»¥è®¿é—®è¢«è¿ç§»redis cluster çš„æœºå™¨ wget https://github.com/alibaba/RedisShake/releases/download/release-v2.1.1-20210903/release-v2.1.1-20210903.tar.gz tar -zxvf release-v2.1.1-20210903.tar.gz cd release-v2.1.1-20210903 ä¿®æ”¹é…ç½®ï¼Œvi redis-shake.conf 1 #é…ç½®source.type, source.address 2 #ç¤ºä¾‹ 3 source.type = cluster 4 # éœ€è¦é…ç½®æ‰€æœ‰çš„master 5 source.address = 10.1.xx.xx:6379;10.1.xx.xx:6379;10.1.xx.xx:6379 6 7 # æ›´å¤šçš„é…ç½®è¯¦æƒ…ï¼Œhttps://github.com/alibaba/RedisShake/wiki/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E9%85%8D%E7%BD%AE%EF%BC%9F æ‰§è¡Œdumpå‘½ä»¤ : ./redis-shake.linux -conf=redis-shake.conf -type=dump æ–‡ä»¶ä¸‹å¤šäº†å‡ ä¸ªlocal_dump æ–‡ä»¶ æ¢å¤æ•°æ® ä¸€ä¸ªå¯ä»¥è®¿é—®ç›®æ ‡redis clusteræœºå™¨ wget https://github.com/alibaba/RedisShake/releases/download/release-v2.1.1-20210903/release-v2.1.1-20210903.tar.gz tar -zxvf release-v2.1.1-20210903.tar.gz cd release-v2.1.1-20210903 æŠŠä¸Šé¢å¯¼å‡ºlocal_dumpæ–‡ä»¶æ”¾åˆ°å½“å‰ç›®å½• ä¿®æ”¹é…ç½®ï¼Œvi redis-shake.conf 1 #é…ç½®source.input.rdb, target.type, target.address 2 #ç¤ºä¾‹ 3 source.rdb.input = local_dump.0;local_dump.1;local_dump.2 4 target.type = cluster 5 # éœ€è¦é…ç½®æ‰€æœ‰çš„master 6 target.address = 10.1.xx.xx:6379;10.1.xx.xx:6379;10.1.xx.xx:6379 7 8 # æ›´å¤šçš„é…ç½®è¯¦æƒ…ï¼Œhttps://github.com/alibaba/RedisShake/wiki/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E9%85%8D%E7%BD%AE%EF%BC%9F æ‰§è¡Œrestoreå‘½ä»¤ : ./redis-shake.linux -conf=redis-shake.conf -type=restore check æ•°æ®æ˜¯å¦æ­£ç¡® ps\nè¿ç§»åéªŒè¯åŒæ­¥çš„æ­£ç¡®æ€§çš„å·¥å…· https://github.com/alibaba/RedisFullCheck?spm=a2c6h.12873639.0.0.4b897495FRKWKh é˜¿é‡Œäº‘æœºå™¨ gccå‡çº§ https://www.alibabacloud.com/help/zh/doc-detail/111881.htm ä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯ä»¥å®‰è£…è½¯ä»¶åŒ…ã€‚ 1 # å…ˆå®‰è£…scl-utils 2 sudo yum install -y scl-utils 3 # æ‰“å¼€YUMä»“åº“æ”¯æŒ 4 sudo yum install -y alinux-release-experimentals 5 # ä»YUMæºå®‰è£…æ‚¨éœ€è¦çš„è½¯ä»¶åŒ…ï¼Œä»¥ä¸‹ç¤ºä¾‹å‘½ä»¤åŒæ—¶å®‰è£…äº†SCLæ’ä»¶æ–¹å¼æ”¯æŒçš„æ‰€æœ‰å¼€å‘å·¥å…·åŒ… 6 sudo yum install -y devtoolset-7-gcc devtoolset-7-gdb devtoolset-7-binutils devtoolset-7-make 7 sudo yum install -y devtoolset-8-gcc devtoolset-8-gdb devtoolset-8-binutils devtoolset-8-make 8 sudo yum install -y devtoolset-9-gcc devtoolset-9-gdb devtoolset-9-binutils devtoolset-9-make å®‰è£…æˆåŠŸåï¼Œæ‚¨å³å¯ä½¿ç”¨é«˜ç‰ˆæœ¬çš„GCCä»¥åŠç›¸å…³å·¥å…·ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 1 # å…ˆæŸ¥çœ‹ç°æœ‰çš„SCLï¼Œéœ€è¦æŒ‡å®šåº“åï¼Œæœ¬ç¤ºä¾‹ä»£ç ä¸­ï¼Œåº“åä¸ºdevtoolset-7 2 scl -l devtoolset-7 3 # è¿è¡Œç›¸å…³çš„SCLè½¯ä»¶ 4 scl enable devtoolset-7 \u0026#39;gcc --version\u0026#39; éƒ¨ç½²redis6.0.8é›†ç¾¤ https://blog.51cto.com/net881004/2538344 ","permalink":"https://omgkill.github.io/post/redis/redis-cluster-%E8%BF%81%E7%A7%BB/","tags":["redis cluster","redis"],"title":"redis cluster è¿ç§»"},{"categories":["jvm"],"contents":"Snapshot-At-The-Beginning æ ‡è®°æ–¹å¼æœ‰ä¸¤ç§æ–¹å¼\nå¢é‡æ›´æ–°ï¼ˆIncrement Updateï¼‰ åˆå§‹å¿«ç…§ï¼ˆ Snapshot At The Beginning SATBï¼‰ SATBï¼ˆ Snapshot At The Beginningï¼Œ åˆå§‹å¿«ç…§ï¼‰ æ˜¯ä¸€ç§å°†å¹¶å‘æ ‡è®°é˜¶æ®µå¼€å§‹æ—¶å¯¹è±¡é—´çš„å¼•ç”¨å…³ç³»ï¼Œ ä»¥é€»è¾‘å¿«ç…§çš„å½¢å¼è¿›è¡Œä¿å­˜çš„æ‰‹æ®µ\nä»‹ç»å¹¶å‘æ ‡è®°\nä»‹ç»ç®€å•æ ‡è®°\nåœ¨ç®€å•æ ‡è®°ä¸­ï¼Œ æ‰€æœ‰å¯ä»æ ¹ç›´æ¥è§¦è¾¾çš„å¯¹è±¡éƒ½ä¼šè¢«æ·»åŠ æ ‡è®°ã€‚ å¸¦æ ‡è®°çš„æ˜¯å­˜æ´»å¯¹è±¡ï¼Œ ä¸å¸¦æ ‡è®°çš„æ˜¯æ­»äº¡å¯¹è±¡ æ ‡è®°ä½å›¾\nå°†ç”¨äºæ ‡è®°çš„æ¯”ç‰¹å€¼ç­‰ä¿¡æ¯å•ç‹¬æ‹¿å‡ºæ¥æ”¾åˆ°å…¶ä»–åœ°æ–¹ï¼Œ ç”¨æ¥åŒ¹é…å¯¹åº”çš„å¯¹è±¡ã€‚\nbottom è¡¨ç¤ºåŒºåŸŸå†…ä¼—å¤šå¯¹è±¡çš„æœ«å°¾\nnextTAMS ä¸­çš„ TAMS æ˜¯â€œTop At Marking Startâ€ï¼ˆæ ‡è®°å¼€å§‹æ—¶çš„ topï¼‰ çš„ç¼©å†™\nnextTAMS ä¿å­˜äº†æœ¬æ¬¡æ ‡è®°å¼€å§‹æ—¶çš„ topï¼Œ è€Œ prevTAMS ä¿å­˜äº†ä¸Šæ¬¡æ ‡è®°å¼€å§‹æ—¶çš„ topã€‚\nnext æ˜¯æœ¬æ¬¡æ ‡è®°çš„æ ‡ è®°ä½å›¾\nprev æ˜¯ä¸Šæ¬¡æ ‡è®°çš„æ ‡è®°ä½å›¾ï¼Œ ä¿å­˜äº†ä¸Šæ¬¡æ ‡è®°çš„ç»“æœ\næµç¨‹\nåˆå§‹æ ‡è®°é˜¶æ®µ\nGC çº¿ç¨‹é¦–å…ˆä¼šåˆ›å»ºæ ‡è®°ä½å›¾ next nextTAMS æŒ‡çš„ å°±æ˜¯æ ‡è®°å¼€å§‹æ—¶ top æ‰€åœ¨çš„ä½ç½®ï¼Œ æ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä»¬å°†å®ƒå’Œ top å¯¹é½ å¹¶å‘æ ‡è®°é˜¶æ®µ\næ¦‚å¿µï¼šåœ¨å¹¶å‘æ ‡è®°é˜¶æ®µï¼Œ GC çº¿ç¨‹ç»§ç»­æ‰«æåœ¨åˆå§‹æ ‡è®°é˜¶æ®µè¢«æ ‡è®°è¿‡çš„å¯¹è±¡ï¼Œ å®Œæˆå¯¹å¤§éƒ¨åˆ†å­˜æ´»å¯¹è±¡çš„æ ‡è®°\nè¿™ä¸ªé˜¶æ®µæ˜¯ä¸ç”¨æˆ·çº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„ï¼Œé‚£æ€ä¹ˆæ¥æ ‡è®°å‘¢\né¦–å…ˆæ ¹æ®å¿«ç…§ï¼Œæ¥æ ‡è®°å„ä¸ªå¼•ç”¨ã€‚\nnew æ–°å¯¹è±¡\nå¯¹è±¡æˆå‘˜å˜é‡çš„å˜åŒ–\nè®°å½•å¼•ç”¨å…³ç³»ï¼Œæ‰€ä»¥éœ€è¦å†™å±éšœæŠ€æœ¯ï¼Œç§°ä¹‹ä¸º SATB ä¸“ç”¨å†™å±éšœã€‚\nä¼ªä»£ç \n1 1: def satb_write_barrier(field, newobj): 2 2: if $gc_phase == GC_CONCURRENT_MARK: 3 3: oldobj = *field // (a) 4 4: if oldobj != Null: 5 5: enqueue($current_thread.stab_local_queue, oldobj) // (b) 6 6: 7 7: *field = newobj // (c) åŠ å…¥é˜Ÿåˆ—åçš„å¤„ç†\nåªæ‰«ææœªè¢«æ ‡è®°çš„ å·²ç»æ ‡è®°çš„ä¸å¤„ç† å¹¶å‘æ ‡è®°é˜¶æ®µç»“æŸååŒºåŸŸçš„çŠ¶æ€\nç–‘é—®\nå¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¦‚ä½•åŠ å…¥é˜Ÿåˆ— ç”±GCçº¿ç¨‹æ¥å¤„ç† ç»‘å®šçº¿ç¨‹é˜Ÿåˆ— çº¿ç¨‹æœ¬åœ°é˜Ÿåˆ—æ»¡äº†ï¼Œå†æ”¾å…¥å…¨å±€é˜Ÿåˆ— å¹¶å‘å†™ä¸€ä¸ªå­—æ®µï¼Œå¦‚æœobj3å¯¹è±¡fieldå¼•ç”¨äº†objo, ä¸¤ä¸ªçº¿ç¨‹å¹¶å‘èµ‹å€¼obj1ï¼Œobj2. å¯¼è‡´obj1æ²¡æœ‰åŠ å…¥é˜Ÿåˆ—ï¼Œé‚£obj1ä¼šä¸¢å¤±å— obj1æœ‰ä¸¤ç§å¯èƒ½ï¼Œä¸€ç§æ˜¯newçš„ï¼Œä¸€ç§æ˜¯å¦ä¸€ä¸ªå¼•ç”¨ã€‚\nobj1 æœªè¢« SATB ä¸“ç”¨å†™å±éšœè·çŸ¥æ—¶å¯¹è±¡ä¹‹é—´çš„å…³ç³»\né‚£obj4ç§»é™¤å¯¹obj1çš„å¼•ç”¨ä¼šæœ‰é—®é¢˜å—\næœ€ç»ˆæ ‡è®°é˜¶æ®µ\næœªè£…æ»¡çš„ SATB æœ¬åœ°é˜Ÿåˆ— å­˜æ´»å¯¹è±¡è®¡æ•°\nè¿™ä¸ªæ­¥éª¤ä¼šæ‰«æå„ä¸ªåŒºåŸŸçš„æ ‡è®°ä½å›¾ nextï¼Œ ç»Ÿè®¡åŒºåŸŸå†…å­˜æ´»å¯¹è±¡çš„å­—èŠ‚æ•° æ”¶å°¾å·¥ä½œ\nnext_marked_bytes æ›¿æ¢ä¸ºprev_marked_bytesï¼ŒåŒæ—¶ï¼Œ prevTAMS è¢«ç§»åˆ°äº† nextTAMS å…ˆå‰çš„ä½ç½® æ€»çš„æµç¨‹å›¾ remembered set SATB é˜Ÿåˆ—é›†åˆä¸»è¦ç”¨ æ¥è®°å½•æ ‡è®°è¿‡ç¨‹ä¸­å¯¹è±¡ä¹‹é—´å¼•ç”¨å…³ç³»çš„å˜åŒ– 2. è½¬ç§»ä¸“ç”¨è®°å¿†é›†åˆåˆ™ç”¨ æ¥è®°å½•åŒºåŸŸä¹‹é—´çš„å¼•ç”¨å…³ç³»ã€‚ é€šè¿‡ä½¿ç”¨è½¬ç§»ä¸“ç”¨è®°å¿†é›†åˆï¼Œ åœ¨è½¬ç§»æ—¶å³ ä½¿ä¸æ‰«ææ‰€æœ‰åŒºåŸŸå†…çš„å¯¹è±¡ï¼Œ ä¹Ÿå¯ä»¥æŸ¥åˆ°å¾…è½¬ç§»å¯¹è±¡æ‰€åœ¨åŒºåŸŸå†…çš„å¯¹è±¡ è¢«å…¶ä»–åŒºåŸŸå¼•ç”¨çš„æƒ…å†µï¼Œ ä»è€Œç®€åŒ–å•ä¸ªåŒºåŸŸçš„è½¬ç§»å¤„ç† 3. é‚£ä¸ºä»€ä¹ˆè¦ä½¿ç”¨remembered setï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ å‡å°‘å…¨æ‰«æ\nåˆ†ä»£åƒåœ¾å›æ”¶ï¼Œä¹‹é—´æ˜¯æ€ä¹ˆå¼•ç”¨çš„\nåˆ†åŒºå†…éƒ¨å¼•ç”¨ æ— è®ºæ˜¯æ–°ç”Ÿä»£è¿˜æ˜¯è€å¹´ä»£çš„åˆ†åŒºå†…éƒ¨çš„å¼•ç”¨ï¼Œéƒ½ä¸éœ€è¦è®°å½•å¼•ç”¨å…³ç³»ã€‚å› ä¸ºæ˜¯é’ˆå¯¹ä¸€ä¸ªåˆ†åŒºè¿›è¡Œçš„åƒåœ¾å›æ”¶ï¼Œè¦ä¹ˆè¿™ä¸ªåˆ†åŒºè¢«å›æ”¶ï¼Œè¦ä¹ˆä¸è¢«å›æ”¶ã€‚ å¹´è½»ä»£ä¸å¹´è½»ä»£ä¹‹é—´çš„å¼•ç”¨ G1 çš„ä¸‰ç§å›æ”¶ç®—æ³•ï¼ˆYGC/MIXED GC/FULL GCï¼‰éƒ½ä¼šå…¨é‡å¤„ç†æ–°ç”Ÿä»£åˆ†åŒºï¼Œæ‰€ä»¥æ–°ç”Ÿä»£éƒ½ä¼šè¢«éå†åˆ°ã€‚å› æ­¤æ— éœ€è®°å½•è¿™ç§å¼•ç”¨å…³ç³»ã€‚ å¹´è½»ä»£å¼•ç”¨å¹´è€ä»£ æ— éœ€è®°å½•ã€‚G1 çš„ YGC å›æ”¶æ–°ç”Ÿä»£ï¼Œæ— éœ€è¿™ä¸ªå¼•ç”¨å…³ç³»ã€‚æ··åˆ GC æ—¶ï¼ŒG1 ä¼šé‡‡ç”¨æ–°ç”Ÿä»£åˆ†åŒºä½œä¸ºæ ¹ï¼Œé‚£ä¹ˆåœ¨éå†æ–°ç”Ÿä»£åˆ†åŒºæ—¶å°±èƒ½æ‰¾åˆ°è€å¹´ä»£åˆ†åŒºäº†ï¼Œæ— éœ€è¿™ä¸ªå¼•ç”¨å…³ç³»ã€‚å¯¹äº FGC æ¥è¯´ï¼Œæ‰€æœ‰åˆ†åŒºéƒ½ä¼šè¢«å¤„ç†ï¼Œä¹Ÿæ— éœ€è¿™ä¸ªå¼•ç”¨å…³ç³»ã€‚ å¹´è€ä»£å¼•ç”¨å¹´è½»ä»£ éœ€è¦è®°å½•ã€‚YGC åœ¨å›æ”¶æ–°ç”Ÿä»£æ—¶ï¼Œå¦‚æœæ–°ç”Ÿä»£çš„å¯¹è±¡è¢«è€å¹´ä»£å¼•ç”¨ï¼Œé‚£ä¹ˆéœ€è¦æ ‡è®°ä¸ºå­˜æ´»å¯¹è±¡ã€‚å³æ­¤æ—¶çš„æ ¹å¯¹è±¡æœ‰ä¸¤ç§ï¼Œä¸€ä¸ªæ˜¯æ ˆç©ºé—´ / å…¨å±€å˜é‡çš„å¼•ç”¨ï¼Œä¸€ä¸ªæ˜¯è€å¹´ä»£åˆ°æ–°ç”Ÿä»£çš„å¼•ç”¨ã€‚ å¹´è€ä»£å¼•ç”¨å¹´è€ä»£ éœ€è¦è®°å½•ã€‚æ··åˆ GC æ—¶ï¼Œåªä¼šå›æ”¶éƒ¨åˆ†è€å¹´ä»£ï¼Œè¢«å›æ”¶çš„è€å¹´ä»£éœ€è¦æ­£ç¡®çš„æ ‡è®°å“ªäº›å¯¹è±¡å­˜æ´»ã€‚ è®°å½•å¼•ç”¨æ–¹å¼\npoint -in point-out å¦‚ä½•è®°å½•å¼•ç”¨å…³ç³»\nå¯¹è±¡ä¸å¯¹è±¡çš„å¼•ç”¨ region ä¸ region å¯¹è±¡ä¸region region ä¸ å¡è¡¨ï¼ˆCard Tableï¼‰ Card Table\nå¡è¡¨æ˜¯ç”±å…ƒç´ å¤§å°ä¸º 1 B çš„æ•°ç»„å®ç°çš„ï¼ˆå›¾ 3.3ï¼‰ ã€‚ å¡è¡¨é‡Œçš„å…ƒç´ ç§°ä¸ºå¡ç‰‡\n2. å¡è¡¨çš„å®ä½“æ˜¯æ•°ç»„ã€‚ æ•°ç»„çš„å…ƒç´ æ˜¯ 1 B çš„å¡ç‰‡ï¼Œ å¯¹åº”äº†å †ä¸­çš„ 512 Bã€‚ è„å¡ç‰‡ç”¨ç°è‰²è¡¨ç¤ºï¼Œ å‡€å¡\rç‰‡ç”¨ç™½è‰²è¡¨ç¤º\r3. æ ¹æ®å¯¹è±¡è·å–å¯¹åº”çš„å¡è¡¨\r1. å¡è¡¨çš„å®ä½“æ˜¯æ•°ç»„ã€‚ æ•°ç»„çš„å…ƒç´ æ˜¯ 1 B çš„å¡ç‰‡ï¼Œ å¯¹åº”äº†å †ä¸­çš„ 512 Bã€‚ 2. (å¯¹è±¡çš„åœ°å€ ï¼ å †çš„å¤´éƒ¨åœ°å€)ï¼ 512 4. å› ä¸ºå¡ç‰‡çš„å¤§å°æ˜¯ 1 Bï¼Œ æ‰€ä»¥å¯ä»¥ç”¨æ¥è¡¨ç¤ºå¾ˆå¤šçŠ¶æ€ã€‚ å¡ç‰‡çš„ç§ç±»å¾ˆå¤šï¼Œ æˆ‘ä»¬ä¸»è¦å…³æ³¨ä»¥ä¸‹ä¸¤ç§\r1. å‡€å¡ç‰‡\r2. å‡€å¡ç‰‡\rè®°å¿†é›†åˆçš„æ„é€ \næ¯ä¸ªåŒºåŸŸä¸­éƒ½æœ‰ä¸€ä¸ªè½¬ç§»ä¸“ç”¨è®°å¿†é›†åˆï¼Œ å®ƒæ˜¯é€šè¿‡æ•£åˆ—è¡¨å®ç°çš„ã€‚ æ•£åˆ— è¡¨çš„é”®æ˜¯å¼•ç”¨æœ¬åŒºåŸŸçš„å…¶ä»–åŒºåŸŸçš„åœ°å€ï¼Œ è€Œæ•£åˆ—è¡¨çš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œ æ•° ç»„çš„å…ƒç´ æ˜¯å¼•ç”¨æ–¹çš„å¯¹è±¡æ‰€å¯¹åº”çš„å¡ç‰‡ç´¢å¼•ã€‚ å†™å±éšœ\nå½“å¯¹è±¡çš„åŸŸè¢«ä¿®æ”¹æ—¶ï¼Œ è¢«ä¿®æ”¹å¯¹è±¡æ‰€å¯¹åº”çš„å¡ç‰‡ä¼šè¢«è½¬ç§»ä¸“ç”¨å†™å±éšœè®° å½•åˆ°è½¬ç§»ä¸“ç”¨è®°å¿†é›†åˆä¸­ã€‚ è½¬ç§»ä¸“ç”¨å†™å±éšœçš„ä¼ªä»£ç å¦‚ä»£ç æ¸…å•\nå¤šçº¿ç¨‹ä¼˜åŒ–\nè®°å¿†é›†åˆç»´æŠ¤çº¿ç¨‹\nè½¬ç§»ä¸“ç”¨è®°å¿†é›†åˆç»´æŠ¤çº¿ç¨‹ä¸»è¦è¿›è¡Œä¸‹åˆ—å¤„ç† ä»è½¬ç§»ä¸“ç”¨è®°å¿†é›†åˆæ—¥å¿—çš„é›†åˆä¸­å–å‡ºè½¬ç§»ä¸“ç”¨è®°å¿†é›†åˆæ—¥å¿—ï¼Œ ä» å¤´å¼€å§‹æ‰«æ å°†å¡ç‰‡å˜ä¸ºå‡€å¡ç‰‡ æ£€æŸ¥å¡ç‰‡æ‰€å¯¹åº”å­˜å‚¨ç©ºé—´å†…æ‰€æœ‰å¯¹è±¡çš„åŸŸ å¾€åŸŸä¸­åœ°å€æ‰€æŒ‡å‘çš„åŒºåŸŸçš„è®°å¿†é›†åˆä¸­æ·»åŠ å¡ç‰‡ çƒ­å¡ç‰‡\né¢‘ç¹å‘ç”Ÿä¿®æ”¹çš„å­˜å‚¨ç©ºé—´æ‰€å¯¹åº”çš„å¡ç‰‡ç§°ä¸ºçƒ­å¡ç‰‡ï¼ˆhot cardï¼‰ çƒ­å¡ ç‰‡å¯èƒ½ä¼šå¤šæ¬¡è¢«è½¬ç§»ä¸“ç”¨è®°å¿†é›†åˆç»´æŠ¤çº¿ç¨‹å¤„ç†æˆè„å¡ç‰‡ï¼Œ ä»è€ŒåŠ é‡è½¬ ç§»ä¸“ç”¨è®°å¿†é›†åˆç»´æŠ¤çº¿ç¨‹çš„è´Ÿæ‹…ï¼Œ å› æ­¤éœ€è¦ç‰¹åˆ«å¤„ç†ã€‚ å¡ç‰‡è®¡æ•°è¡¨ï¼Œå®ƒè®°å½•äº†å¡ç‰‡å˜æˆè„å¡ç‰‡çš„æ¬¡ æ•°ã€‚ è„å¡ç‰‡é˜ˆå€¼ï¼ˆé»˜è®¤æ˜¯ 4ï¼‰ é‚£GCæ—¶ï¼Œè®°å¿†é›†åˆå¦‚ä½•è½¬ç§»å‘¢\nè½¬ç§»å¯¹è±¡ æ˜¯æŒ‡å‚è€ƒå¹¶å‘æ ‡è®°æä¾›çš„ä¿¡æ¯æ¥é€‰æ‹©è¢«è½¬ç§»çš„åŒºåŸŸã€‚ è¢«é€‰ä¸­çš„åŒºåŸŸç§° ä¸ºå›æ”¶é›†åˆ 2. æ˜¯æŒ‡å°†å›æ”¶é›†åˆå†…ç”±æ ¹ç›´æ¥å¼•ç”¨çš„å¯¹è±¡ï¼Œ ä»¥åŠè¢«å…¶ä»–åŒºåŸŸå¼•ç”¨çš„å¯¹è±¡ è½¬ç§»åˆ°ç©ºé—²åŒºåŸŸä¸­ã€‚ 3. æ˜¯æŒ‡ä»¥â‘¡ä¸­è½¬ç§»çš„å¯¹è±¡ä¸ºèµ·ç‚¹æ‰«æå…¶å­å­™å¯¹è±¡ï¼Œ å°†æ‰€æœ‰å­˜æ´»å¯¹è±¡ä¸€å¹¶ è½¬ç§»ã€‚ å½“â‘¢ç»“æŸä¹‹åï¼Œ å›æ”¶é›†åˆå†…çš„æ‰€æœ‰å­˜æ´»å¯¹è±¡å°±è½¬ç§»å®Œæˆäº†ã€‚ 4. ä¼ªä»£ç  ","permalink":"https://omgkill.github.io/post/jvm/%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D-g1gc-snapshot-at-the-beginning%E4%B8%8Eremembered-sets/","tags":["GC"],"title":"ç®€å•ä»‹ç» g1gc Snapshot-At-The-Beginningä¸Remembered Sets"},{"categories":["windows"],"contents":" åœ¨cmdä¸­æ‰§è¡Œlinuxå‘½ä»¤ wsl linuxå‘½ä»¤ å‚è€ƒæ–‡ç« ï¼šhttps://docs.microsoft.com/zh-cn/windows/wsl/interop\ncmdè¿›å…¥ubuntu bash\nbashå‘½ä»¤åˆ©ç”¨ç®¡é“å®ç°ï¼Œæ‰§è¡Œå‘½ä»¤ run.batæ–‡ä»¶\n1@echo off 2echo sh redis.sh | bash redis.shæ–‡ä»¶\n1#!/bin/bash 2echo 123456 | sudo -S service redis-server start ","permalink":"https://omgkill.github.io/post/windows/windows%E5%AD%90%E7%B3%BB%E7%BB%9Flinux%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/","tags":["windows","linux","wsl"],"title":"windowså­ç³»ç»Ÿlinuxå‘½ä»¤ä½¿ç”¨"},{"categories":["jvm","synchronized"],"contents":"synchronized å…³é”®å­— JAVAå†…å­˜æ¨¡å‹\nçº¿ç¨‹ã€ä¸»å†…å­˜ã€å·¥ä½œå†…å­˜ä¸‰è€…äº¤äº’å…³ç³»\njavaå†…å­˜æ¨¡å‹å®šä¹‰äº†8ä¸­æ“ä½œ\nreadï¼ˆè¯»å–ï¼‰ï¼šä½œç”¨äºä¸»å†…å­˜å˜é‡ï¼ŒæŠŠä¸€ä¸ªå˜é‡å€¼ä»ä¸»å†…å­˜ä¼ è¾“åˆ°çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåçš„loadåŠ¨ä½œä½¿ç”¨ loadï¼ˆè½½å…¥ï¼‰ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠreadæ“ä½œä»ä¸»å†…å­˜ä¸­å¾—åˆ°çš„å˜é‡å€¼æ”¾å…¥å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­ã€‚ useï¼ˆä½¿ç”¨ï¼‰ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼ŒæŠŠå·¥ä½œå†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªéœ€è¦ä½¿ç”¨å˜é‡çš„å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚ assignï¼ˆèµ‹å€¼ï¼‰ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªä»æ‰§è¡Œå¼•æ“æ¥æ”¶åˆ°çš„å€¼èµ‹å€¼ç»™å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªç»™å˜é‡èµ‹å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶æ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚ storeï¼ˆå­˜å‚¨ï¼‰ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼ŒæŠŠå·¥ä½œå†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåçš„writeçš„æ“ä½œã€‚ writeï¼ˆå†™å…¥ï¼‰ï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠstoreæ“ä½œä»å·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜çš„å˜é‡ä¸­ã€‚ lockï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡ï¼ŒæŠŠä¸€ä¸ªå˜é‡æ ‡è¯†ä¸ºä¸€æ¡çº¿ç¨‹ç‹¬å çš„çŠ¶æ€ unlock : ä½œç”¨äºä¸»å†…å­˜å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªå¤„äºé”å®šçŠ¶æ€çš„å˜é‡é‡Šæ”¾å‡ºæ¥ï¼Œé‡Šæ”¾åçš„å˜é‡æ‰å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹é”å®š äº¤äº’å›¾ å¯çŸ¥\næœ‰åºæ€§ å¯è§æ€§ å¯é¢„è§ syn é‡é‡çº§é” çŠ¶æ€è½¬æ¢æ¶ˆè€—çš„æ—¶é—´å¯èƒ½æ¯”ç”¨æˆ·ä»£ç æ‰§è¡Œçš„æ—¶é—´è¿˜è¦é•¿\nsyné”çš„è¿‡ç¨‹ æ‰§è¡Œmonitorenter,å°è¯•è·å–å¯¹è±¡é”ï¼Œ å¦‚æœå¯¹è±¡çš„é”ï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰è¢«é”å®šï¼Œæˆ–è€…å½“å‰å¯¹è±¡å·²ç»æ‹¥æœ‰å¯¹è±¡çš„é”ï¼ŒæŠŠé”çš„è®¡æ•°åŠ 1\nå½“æ²¡æœ‰é˜»å¡\næ‰§è¡Œä»£ç  å½“é˜»å¡\nè¿›è¡Œçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œjvmå’Œæ“ä½œç³»ç»Ÿè¿›è¡Œä»‹å…¥ï¼ˆç³»ç»Ÿè°ƒç”¨ä»£ä»·é«˜ï¼Œéœ€è¦åœ¨ç”¨æˆ·æ€å’Œå†…æ ¸æ€ä¸­æ¥å›åˆ‡æ¢ï¼‰ å½“å‰çº¿ç¨‹æŒ‚èµ·ï¼Œè¿›å…¥é˜»å¡ cpuåˆ‡æ¢å…¶ä»–çº¿ç¨‹ï¼ŒåŠ è½½æ•°æ®åˆ°å·¥ä½œå†…å­˜ å½“é”é‡Šæ”¾ï¼Œåˆè¢«å”¤é†’ï¼ŒæŠ¢å é” è·å–é”ï¼Œé‡æ–°åŠ è½½æ•°æ®åˆ°å·¥ä½œå†…å­˜ï¼Œæ‰§è¡Œï¼Œ é¢‘ç¹é˜»å¡ï¼Œæ— æ³•ä½¿ç”¨å®Œæ•´è°ƒåº¦æ—¶é—´ç‰‡ é‡Šæ”¾é”\næ‰§è¡Œmonitorexitï¼Œé”è®¡æ•°å™¨å‡1\né”ä¼˜åŒ– é€‚åº”æ€§è‡ªæ—‹ï¼ˆAdaptive Spinningï¼‰ã€é”æ¶ˆé™¤ï¼ˆLock Elimination)ã€é”ç²—åŒ–ï¼ˆLock Coarseningï¼‰ã€è½»é‡çº§ï¼ˆLightWeight Lockingï¼‰ å’Œåå‘é”ï¼ˆBiased Lockingï¼‰ç­‰\nè‡ªæ—‹ é”å®šçŠ¶æ€åªæŒç»­äº†å¾ˆçŸ­çš„æ—¶é—´ çº¿ç¨‹ç©ºå¾ªç¯ è‡ªé€‚åº”çš„è‡ªæ—‹é” é”æ¶ˆé™¤ æ— ç”¨çš„åŒæ­¥å¤„ç† 1 User use = new User(); 2 user.addScore(); é”ç²—åŒ– 1 List\u0026lt;String\u0026gt; stooges = new vector\u0026lt;String\u0026gt;(); 2 stooges.add(\u0026#34;a\u0026#34;); 3 stooges.add(\u0026#34;b\u0026#34;); 4 return stooges.toString(); å¯¹è±¡å¤´çš„å­˜å‚¨\nå¯¹è±¡å¤´ç”±ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼Œå¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼ŒMark world; æŒ‡å‘æ–¹æ³•åŒºå¯¹è±¡ç±»å‹æ•°æ®çš„æŒ‡é’ˆ ç¬¬ä¸€éƒ¨åˆ†ç”¨äºå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼Œå¦‚å“ˆå¸Œç ï¼ˆHashCodeï¼‰ã€GC åˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ã€çº¿ç¨‹æŒæœ‰çš„é”ã€åå‘çº¿ç¨‹ IDã€åå‘æ—¶é—´æˆ³ã€å¯¹è±¡åˆ†ä»£å¹´é¾„ï¼Œè¿™éƒ¨åˆ†ä¿¡æ¯ç§°ä¸ºâ€œMark Wordâ€ï¼›Mark Word è¢«è®¾è®¡æˆä¸€ä¸ªéå›ºå®šçš„æ•°æ®ç»“æ„ä»¥ä¾¿åœ¨æå°çš„ç©ºé—´å†…å­˜å‚¨å°½é‡å¤šçš„ä¿¡æ¯ï¼Œå®ƒä¼šæ ¹æ®è‡ªå·±çš„çŠ¶æ€å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´ã€‚ ç¬¬äºŒéƒ¨åˆ†æ˜¯ç±»å‹æŒ‡é’ˆï¼Œå³å¯¹è±¡æŒ‡å‘å®ƒçš„ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ï¼› å¦‚æœå¯¹è±¡æ˜¯ä¸€ä¸ª Java æ•°ç»„ï¼Œé‚£åœ¨å¯¹è±¡å¤´ä¸­è¿˜å¿…é¡»æœ‰ä¸€å—ç”¨äºè®°å½•æ•°ç»„é•¿åº¦çš„æ•°æ®ã€‚å› ä¸ºè™šæ‹Ÿæœºå¯ä»¥é€šè¿‡æ™®é€š Java å¯¹è±¡çš„å…ƒæ•°æ®ä¿¡æ¯ç¡®å®š Java å¯¹è±¡çš„å¤§å°ï¼Œä½†æ˜¯ä»æ•°ç»„çš„å…ƒæ•°æ®ä¸­æ— æ³•ç¡®å®šæ•°ç»„çš„å¤§å°ã€‚ è½»é‡çº§é”\nåœ¨ä»£ç è¿›å…¥åŒæ­¥å—çš„æ—¶å€™ï¼Œå¦‚æœåŒæ­¥å¯¹è±¡é”çŠ¶æ€ä¸ºåå‘çŠ¶æ€ï¼ˆå°±æ˜¯é”æ ‡å¿—ä½ä¸ºâ€œ01â€çŠ¶æ€ï¼Œæ˜¯å¦ä¸ºåå‘é”æ ‡å¿—ä½ä¸ºâ€œ1â€ï¼‰ï¼Œè™šæ‹Ÿæœºé¦–å…ˆå°†åœ¨å½“å‰çº¿ç¨‹çš„æ ˆå¸§ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºé”è®°å½•ï¼ˆLock Recordï¼‰çš„ç©ºé—´ï¼Œç”¨äºå­˜å‚¨é”å¯¹è±¡ç›®å‰çš„Mark Wordçš„æ‹·è´ã€‚å®˜æ–¹ç§°ä¹‹ä¸º Displaced Mark Wordï¼ˆæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è®¤ä¸ºLock Recordå’Œ Displaced Mark Wordå…¶å®æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼‰ã€‚è¿™æ—¶å€™çº¿ç¨‹å †æ ˆä¸å¯¹è±¡å¤´çš„çŠ¶æ€å¦‚å›¾æ‰€ç¤º æ‹·è´å¯¹è±¡å¤´ä¸­çš„Mark Wordå¤åˆ¶åˆ°é”è®°å½•ä¸­ã€‚ æ‹·è´æˆåŠŸåï¼Œè™šæ‹Ÿæœºå°†ä½¿ç”¨CASæ“ä½œå°è¯•å°†å¯¹è±¡å¤´çš„Mark Wordæ›´æ–°ä¸ºæŒ‡å‘Lock Recordçš„æŒ‡é’ˆï¼Œå¹¶å°†Lock recordé‡Œçš„owneræŒ‡é’ˆæŒ‡å‘å¯¹è±¡å¤´çš„mark wordã€‚å¦‚æœæ›´æ–°æˆåŠŸï¼Œåˆ™æ‰§è¡Œæ­¥éª¤ï¼ˆ4ï¼‰ï¼Œå¦åˆ™æ‰§è¡Œæ­¥éª¤ï¼ˆ5ï¼‰ã€‚ å¦‚æœè¿™ä¸ªæ›´æ–°åŠ¨ä½œæˆåŠŸäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±æ‹¥æœ‰äº†è¯¥å¯¹è±¡çš„é”ï¼Œå¹¶ä¸”å¯¹è±¡Mark Wordçš„é”æ ‡å¿—ä½è®¾ç½®ä¸ºâ€œ00â€ï¼Œå³è¡¨ç¤ºæ­¤å¯¹è±¡å¤„äºè½»é‡çº§é”å®šçŠ¶æ€ï¼Œè¿™æ—¶å€™çº¿ç¨‹å †æ ˆä¸å¯¹è±¡å¤´çš„çŠ¶æ€å¦‚ä¸‹æ‰€ç¤ºï¼š åå‘é”\næ£€æŸ¥ mark word çš„çº¿ç¨‹ id ã€‚ å¦‚æœä¸ºç©ºåˆ™è®¾ç½® CAS æ›¿æ¢å½“å‰çº¿ç¨‹ idã€‚å¦‚æœæ›¿æ¢æˆåŠŸåˆ™è·å–é”æˆåŠŸï¼Œå¦‚æœå¤±è´¥åˆ™æ’¤é”€åå‘é”ã€‚ å¦‚æœä¸ä¸ºç©ºåˆ™æ£€æŸ¥ çº¿ç¨‹ idä¸ºæ˜¯å¦ä¸ºæœ¬çº¿ç¨‹ã€‚å¦‚æœæ˜¯åˆ™è·å–é”æˆåŠŸï¼Œå¦‚æœå¤±è´¥åˆ™æ’¤é”€åå‘é”ã€‚ é”çŠ¶æ€å‡çº§æµç¨‹ æ•´ä½“æµç¨‹ syn åœ°ä½¿ç”¨\nå¯¹è±¡å†…åœ°å¤šä¸ªæ–¹æ³•åŠ ï¼Œsynchronizedï¼Œå°±ä¼šäº’ç›¸é˜»å¡ï¼Œå¯ä»¥ä½¿ç”¨åŒæ­¥å— syné”å®šçš„æ˜¯å¯¹è±¡å¼•ç”¨ï¼Œ é™æ€æ–¹æ³•åŠ é” æ˜¯ç»™classç±»ä¸Šé” éé™æ€æ–¹æ³•åŠ é” æ˜¯ç»™å¯¹è±¡ä¸Šé” ä»£ç åœ°ä¼˜åŒ–\nç¼©å°é”åœ°èŒƒå›´ å‡å°‘é”åœ°æŒæœ‰æ—¶é—´ é™ä½æ‰€å¾—è¯·æ±‚é¢‘ç‡ ä½¿ç”¨å¸¦æœ‰åè°ƒæœºåˆ¶çš„ç‹¬å é”ï¼Œä½¿ç”¨readWriteLockï¼Œè¿™äº›æœºåˆ¶å…è®¸æ›´é«˜åœ°å¹¶å‘æ€§ å‡å°é”åœ°ç²’åº¦ é”åˆ†æ®µ ä½¿ç”¨åŸå­ç±», AtomicInteger é€šå¸¸ï¼Œå¯¹è±¡åˆ†é…æ“ä½œçš„å¼€é”€æ¯”åŒæ­¥çš„å¼€é”€æ›´ä½ ps : ","permalink":"https://omgkill.github.io/post/jvm/lock/java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%94%81%E7%9A%84%E4%BD%BF%E7%94%A8/","tags":["synchronized"],"title":"javaå¤šçº¿ç¨‹é”çš„ä½¿ç”¨"},{"categories":["kindle"],"contents":"kindle ä½¿ç”¨æŠ€å·§åˆ†äº« kindleçš„ä»‹ç» kindleä¸ipadçš„æ¯”è¾ƒ kindleè®¾å¤‡ç®¡ç† kindleæ¨ä¹¦ kindleè¯å…¸ç®¡ç† kindleä»‹ç» kindleæ˜¯äºšé©¬é€Šä¸€ä¸ªç”µå­é˜…è¯»å™¨å“ç‰Œï¼Œç›®å‰å·²ç»æœ‰4ä¸ªç³»åˆ—ã€‚èåˆäºšé©¬é€Šå›¾ä¹¦çš„ç”Ÿæ€ã€‚\nkindle kindle paperwrite kindle voyage kindle Oasis kindleä¸ipadçš„æ¯”è¾ƒ kindleä¼˜åŠ¿ å¢¨æ°´å±ï¼ŒæŠ¤çœ¼ ç»­èˆªæ—¶é—´é•¿ æ¯”è¾ƒå°ï¼Œå®¹æ˜“æºå¸¦ï¼Œéšæ—¶é˜…è¯» kindleé€‚åˆçš„åœºæ™¯å°è¯´å’Œæ¼«ç”»,é€‚åˆæˆ·å¤– kindleå…¨å¹³å°è¦†ç›–ï¼ŒåŒæ­¥é˜…è¯»è¿›åº¦ ipadä¼˜åŠ¿ ç”Ÿæ€ä¸°å¯Œ å±å¹•å¤§ æ›´é€‚åˆæŠ€æœ¯ç±»ä¹¦ï¼Œå¯¹æ’ç‰ˆè¦æ±‚æ¯”è¾ƒé«˜ kindleè®¾å¤‡ç®¡ç† kindleå‡çº§ kindleè®¾å¤‡ç®¡ç† kindle æ¨ä¹¦ é‚®ä»¶æ¨ä¹¦ ä¹¦çš„æ ¼å¼ å¸¸è§ä¹¦çš„æ ¼å¼ï¼štxtã€pdfã€epub kindleéœ€è¦çš„æ ¼å¼ï¼›mobiã€azw3 è½¬æ¢çš„æ–¹å¼ é‚®ä»¶ä¸»é¢˜ convert é€šè¿‡è½¯ä»¶Calibre ç½‘é¡µè½¬æ¢ kindleè¯å…¸ç®¡ç† åœ°å€ ï¼šhttps://www.douban.com/group/topic/31690870/?ref=t\nè¯å…¸å¾ˆé‡è¦ï¼Œä¸€ä¸ªå¥½çš„è¯å…¸è®©ä½ å¯¹è¿™ä¸ªä¸–ç•Œå¤šä¸€ä»½ç†è§£\nå¦‚ä½•è£…å…¥è¯å…¸ kindleä¸€äº›é—®é¢˜çš„è§£å†³æ–¹æ³• åˆ·æ–°æ…¢ è€—ç”µ ä¹¦å¤ªå¤š ","permalink":"https://omgkill.github.io/post/kindle/kindle-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%E5%88%86%E4%BA%AB/","tags":["kindle"],"title":"kindle ä½¿ç”¨æŠ€å·§åˆ†äº«"},{"categories":["code optimize"],"contents":"\u0026ndash; å­¦ä¹ é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™\nå•ä¸€èŒè´£\næ¦‚å¿µ åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹é¢†åŸŸä¸­ï¼Œå•ä¸€åŠŸèƒ½åŸåˆ™ï¼ˆSingle responsibility principleï¼‰è§„å®šæ¯ä¸ªç±»éƒ½åº”è¯¥æœ‰ä¸€ä¸ªå•ä¸€çš„åŠŸèƒ½ï¼Œå¹¶ä¸”è¯¥åŠŸèƒ½åº”è¯¥ç”±è¿™ä¸ªç±»å®Œå…¨å°è£…èµ·æ¥ã€‚æ‰€æœ‰å®ƒçš„ï¼ˆè¿™ä¸ªç±»çš„ï¼‰æœåŠ¡éƒ½åº”è¯¥ä¸¥å¯†çš„å’Œè¯¥åŠŸèƒ½å¹³è¡Œï¼ˆåŠŸèƒ½å¹³è¡Œï¼Œæ„å‘³ç€æ²¡æœ‰ä¾èµ–ï¼‰ã€‚\né”™è¯¯ä¾‹å­ï¼Œ 1private static TLServerCommonParam.CommonResponseMessage guildPushMessageLogic(TLGameGuild.GuildPushMessage pushMessage) { 2 int[] index = {0}; 3 switch (pushMessage.getType()) { 4 case GuildApplyType: 5 pushMessage.getUidList().forEach(u -\u0026gt; { 6 TLUserProfile tlUserProfile = GameEngine.getInstance().getTLUserProfile(u); 7 if (tlUserProfile.getUstUser() == null) { 8 index[0]++; 9 return ; 10 } 11 try { 12 USTObject message = new USTObject(); 13 message.buildData(TLGameGuild.LoginGuildG2C.class.getName(), pushMessage.getDetail(index[0]).unpack(TLGameGuild.LoginGuildG2C.class)); 14 PushUtils.pushMessage(tlUserProfile.getUstUser(), PushCMD.PUSH_JOIN_GUILD.getId(), message, true); 15 } catch (Exception e) { 16 LoggerUtil.getInstance().recordException(e); 17 } 18 index[0]++; 19 }); 20 break; é”™è¯¯åŸå›  è¿™ä¸ªç±»æ˜¯GameGServiceManagerï¼Œè´Ÿè´£gameçš„grpcè°ƒç”¨ï¼Œä½†è¿™é‡ŒåŠ äº†ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œä¸ç¬¦åˆå•ä¸€èŒè´£\nä¿®æ”¹ å‰¥ç¦»ä¸šåŠ¡é€»è¾‘\n1 private static TLServerCommonParam.CommonResponseMessage guildPushMessageLogic(TorchLightGuildServiceInfo.GuildGrpcParamMessage pushMessage) { 2 try { 3 GuildGrpcService.getInstance().handler(pushMessage.getType(), pushMessage); 4 } catch (Exception e) { 5 LoggerUtil.getInstance().recordException(e, String.format(\u0026#34;param = %s\u0026#34;, TLUtils.messageToStr(pushMessage))); 6 } 7 return null; }\nå¼€é—­åŸåˆ™\næ¦‚å¿µ åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹é¢†åŸŸä¸­ï¼Œå¼€é—­åŸåˆ™è§„å®šâ€œè½¯ä»¶ä¸­çš„å¯¹è±¡ï¼ˆç±»ï¼Œæ¨¡å—ï¼Œå‡½æ•°ç­‰ç­‰ï¼‰åº”è¯¥å¯¹äºæ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹æ˜¯å°é—­çš„â€ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªå®ä½“æ˜¯å…è®¸åœ¨ä¸æ”¹å˜å®ƒçš„æºä»£ç çš„å‰æä¸‹å˜æ›´å®ƒçš„è¡Œä¸ºã€‚è¯¥ç‰¹æ€§åœ¨äº§å“åŒ–çš„ç¯å¢ƒä¸­æ˜¯ç‰¹åˆ«æœ‰ä»·å€¼çš„ï¼Œåœ¨è¿™ç§ç¯å¢ƒä¸­ï¼Œæ”¹å˜æºä»£ç éœ€è¦ä»£ç å®¡æŸ¥ï¼Œå•å…ƒæµ‹è¯•ä»¥åŠè¯¸å¦‚æ­¤ç±»çš„ç”¨ä»¥ç¡®ä¿äº§å“ä½¿ç”¨å“è´¨çš„è¿‡ç¨‹ã€‚éµå¾ªè¿™ç§åŸåˆ™çš„ä»£ç åœ¨æ‰©å±•æ—¶å¹¶ä¸å‘ç”Ÿæ”¹å˜ï¼Œå› æ­¤æ— éœ€ä¸Šè¿°çš„è¿‡ç¨‹ã€‚\né”™è¯¯ä¾‹å­ 1 switch (pushMessage.getType()) { 2 case GuildApplyType: 3 ...ï¼ˆä¸šåŠ¡å¤„ç†ï¼‰ 4 break; 5 case GuildKickUser: 6 ... 7 break; 8 case GuildModifyRank: 9 ... 10 break; 11 case GuildRedDot: 12 ... 13 break; 14 default: 15 break; é”™è¯¯åŸå›  æ¯æ¬¡æ–°å¢ï¼Œéƒ½è¦ä¿®æ”¹æ–¹æ³•ï¼Œä¸ç¬¦åˆå¼€é—­åŸåˆ™\nä¿®æ”¹ å»ºä¸€ä¸ªæ¥å£ï¼Œå„è‡ªå®ç° æœåŠ¡å™¨å¯åŠ¨ï¼Œç±»å‹ä¸ºkeyï¼Œå®ç°ç±»ä¸ºvalueï¼Œæ”¾åˆ°mapä¸­ã€‚è°ƒç”¨æ—¶ï¼Œç›´æ¥æ ¹æ®ç±»å‹è·å–å®ç°ç±»ï¼› åšåˆ°äº†å¯¹æ‰©å±•å¼€æ”¾ï¼Œæ–°å¢éœ€æ±‚ï¼Œåªéœ€è¦æ–°å¢å®ç°ç±» 1public interface IGuildGrpcHandler { 2 /** 3 * å®ç°æ–¹æ³• 4 */ 5 void handle(TorchLightGuildServiceInfo.GuildGrpcParamMessage paramMessage) throws Exception; 6} é‡Œæ°ä»£æ¢åŸåˆ™\næ¦‚å¿µ åœ¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡ä¸­ï¼Œé‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution principleï¼‰æ˜¯å¯¹å­ç±»å‹çš„ç‰¹åˆ«å®šä¹‰ã€‚å®ƒç”±èŠ­èŠ­æ‹‰Â·åˆ©æ–¯ç§‘å¤«ï¼ˆBarbara Liskovï¼‰åœ¨1987å¹´åœ¨ä¸€æ¬¡ä¼šè®®ä¸Šåä¸ºâ€œæ•°æ®çš„æŠ½è±¡ä¸å±‚æ¬¡â€çš„æ¼”è¯´ä¸­é¦–å…ˆæå‡ºã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™çš„å†…å®¹å¯ä»¥æè¿°ä¸ºï¼š â€œæ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰å¯¹è±¡å¯ä»¥åœ¨ç¨‹åºä¸­ä»£æ›¿å…¶åŸºç±»ï¼ˆè¶…ç±»ï¼‰å¯¹è±¡ã€‚â€\nå®ç°ä¾‹å­ GMç³»ç»Ÿä¿®æ”¹æ•°æ®ï¼Œä¾‹å¦‚ï¼Œä¿®æ”¹ç©å®¶ï¼Œä¿®æ”¹å…¬ä¼šæ•°æ®ã€‚è€Œç©å®¶æ•°æ®åœ¨gameæ¨¡å—ï¼Œå…¬ä¼šæ•°æ®åœ¨guildæ¨¡å—ã€‚ä¸€ä¸ªæœ€åº•å±‚çš„æ¥å£ï¼Œä¸¤ä¸ªæ¨¡å—å®ç°å„è‡ªçš„æŠ½è±¡å…±é€šç±»\nä¾èµ–å€’ç½®åŸåˆ™\næ¦‚å¿µ åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹é¢†åŸŸä¸­ï¼Œä¾èµ–åè½¬åŸåˆ™ï¼ˆDependency inversion principleï¼ŒDIPï¼‰æ˜¯æŒ‡ä¸€ç§ç‰¹å®šçš„è§£è€¦ï¼ˆä¼ ç»Ÿçš„ä¾èµ–å…³ç³»åˆ›å»ºåœ¨é«˜å±‚æ¬¡ä¸Šï¼Œè€Œå…·ä½“çš„ç­–ç•¥è®¾ç½®åˆ™åº”ç”¨åœ¨ä½å±‚æ¬¡çš„æ¨¡å—ä¸Šï¼‰å½¢å¼ï¼Œä½¿å¾—é«˜å±‚æ¬¡çš„æ¨¡å—ä¸ä¾èµ–äºä½å±‚æ¬¡çš„æ¨¡å—çš„å®ç°ç»†èŠ‚ï¼Œä¾èµ–å…³ç³»è¢«é¢ å€’ï¼ˆåè½¬ï¼‰ï¼Œä»è€Œä½¿å¾—ä½å±‚æ¬¡æ¨¡å—ä¾èµ–äºé«˜å±‚æ¬¡æ¨¡å—çš„éœ€æ±‚æŠ½è±¡ã€‚\né”™è¯¯ä¾‹å­ å‚è€ƒå¼€é—­åŸåˆ™é”™è¯¯ä¾‹å­ æ¥å£éš”ç¦»åŸåˆ™\næ¦‚å¿µ æ¥å£éš”ç¦»åŸåˆ™ï¼ˆè‹±è¯­ï¼šinterface-segregation principlesï¼Œ ç¼©å†™ï¼šISPï¼‰æŒ‡æ˜å®¢æˆ·ï¼ˆclientï¼‰ä¸åº”è¢«è¿«ä½¿ç”¨å¯¹å…¶è€Œè¨€æ— ç”¨çš„æ–¹æ³•æˆ–åŠŸèƒ½ã€‚æ¥å£éš”ç¦»åŸåˆ™(ISP)æ‹†åˆ†éå¸¸åºå¤§è‡ƒè‚¿çš„æ¥å£æˆä¸ºæ›´å°çš„å’Œæ›´å…·ä½“çš„æ¥å£ï¼Œè¿™æ ·å®¢æˆ·å°†ä¼šåªéœ€è¦çŸ¥é“ä»–ä»¬æ„Ÿå…´è¶£çš„æ–¹æ³•ã€‚è¿™ç§ç¼©å°çš„æ¥å£ä¹Ÿè¢«ç§°ä¸ºè§’è‰²æ¥å£ï¼ˆrole interfacesï¼‰ã€‚æ¥å£éš”ç¦»åŸåˆ™(ISP)çš„ç›®çš„æ˜¯ç³»ç»Ÿè§£å¼€è€¦åˆï¼Œä»è€Œå®¹æ˜“é‡æ„ï¼Œæ›´æ”¹å’Œé‡æ–°éƒ¨ç½²\né”™è¯¯ä¾‹å­ 1 public interface IUserRank\u0026lt;I extends IScoreProvider\u0026gt; { 2 /** 3 * è·å–ç©å®¶æ’è¡Œæ¦œ 4 * @param uid ç©å®¶uid 5 * @param categoryEnum åˆ†ç»„ç±»å‹ 6 * @return TLRankParam.RankDataG2C è¿”å›æ’è¡Œæ¦œæ•°æ® 7 */ 8 TLRankParam.RankDataG2C getUserRankG2C(long uid, ConfigEnum.EnumRankCategory categoryEnum, int logicId); 9 /** 10 * åŠ ç©å®¶ç§¯åˆ† 11 * @param inParam 12 */ 13 List\u0026lt;Double\u0026gt; addUserScore(AbstractRankParam\u0026lt;I\u0026gt; inParam); 14 /** 15 * å…¬ä¼šæ’è¡Œæ¦œå¥–åŠ± 16 */ 17 void rewardGuildRank(); 18 } é”™è¯¯åŸå›  æ’è¡Œæ¦œåŠŸèƒ½æ¥å£ï¼ŒåŒ…å«è·å–æ’è¡Œæ¦œå’Œå‘å¥–æ¥å£ï¼Œè€Œæœ‰çš„æ’è¡Œæ¦œæ²¡æœ‰å‘å¥–\nä¿®æ”¹ åˆ é™¤æ’è¡Œæ¦œå‘å¥–æ¥å£æ–¹æ³•ï¼Œå¢åŠ æ’è¡Œæ¦œå‘å¥–æ¥å£ç±»\n1 public interface IUserRankReward { 2 /** 3 * å…¬ä¼šæ’è¡Œæ¦œå¥–åŠ± 4 */ 5 void rewardGuildRank(); 6 } è¿ªç±³ç‰¹æ³•åˆ™\næ¦‚å¿µ æ¯ä¸ªå•å…ƒå¯¹äºå…¶ä»–çš„å•å…ƒåªèƒ½æ‹¥æœ‰æœ‰é™çš„çŸ¥è¯†ï¼šåªæ˜¯ä¸å½“å‰å•å…ƒç´§å¯†è”ç³»çš„å•å…ƒï¼› æ¯ä¸ªå•å…ƒåªèƒ½å’Œå®ƒçš„æœ‹å‹äº¤è°ˆï¼šä¸èƒ½å’Œé™Œç”Ÿå•å…ƒäº¤è°ˆï¼› åªå’Œè‡ªå·±ç›´æ¥çš„æœ‹å‹äº¤è°ˆã€‚ é”™è¯¯ä¾‹å­ è·å–é…ç½®æ•°æ®ï¼Œå…ˆä»parserè·å–mapï¼Œç„¶åå†æ ¹æ®idï¼Œè·å–value\nä¿®æ”¹ åº”è¯¥ä¼ å…¥idï¼Œä»parserç›´æ¥è·å–value\nåˆæˆ/å¤åˆåŸåˆ™\næ¦‚å¿µ å°½é‡é‡‡ç”¨ç»„åˆ(contains-a)ã€èšåˆ(has-a)çš„æ–¹å¼è€Œä¸æ˜¯ç»§æ‰¿(is-a)çš„å…³ç³»æ¥è¾¾åˆ°è½¯ä»¶çš„å¤ç”¨ç›®çš„\nä¼˜åŠ¿ å‡å°‘ä»£ç è€¦åˆï¼Œå¢åŠ ä»£ç çµæ´»åº¦\n","permalink":"https://omgkill.github.io/post/codeoptimize/%E5%AD%A6%E4%B9%A0%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/","tags":["code","optimize"],"title":"å­¦ä¹ é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™"},{"categories":["system"],"contents":"æ“ä½œç³»ç»Ÿé¢è¯•é¢˜ ä¸ºè§£å†³\nâ€¢ è®¡ç®—æœºç³»ç»Ÿå­˜å‚¨ä½“ç³»\ncpuå¯„å­˜å™¨ã€é«˜é€Ÿç¼“å­˜ã€å†…å­˜ã€ç¡¬ç›˜\nâ€¢ ç¨‹åºè¿è¡Œæ—¶çš„å†…å­˜ç»“æ„\nç¨‹åºä»£ç ã€å †ã€æ ˆ\nâ€¢ è®¡ç®—æœºæ–‡ä»¶ç³»ç»Ÿï¼Œé¡µè¡¨ç»“æ„\nä¸€ä¸ªæ–‡ä»¶ç”±ç›®å½•é¡¹ã€inodeå’Œæ•°æ®å—ç»„æˆã€‚\n1 **1. ç›®å½•é¡¹ï¼šåŒ…æ‹¬æ–‡ä»¶åå’ŒinodeèŠ‚ç‚¹å·ã€‚ 2 3 2. Inodeï¼šåˆç§°æ–‡ä»¶ç´¢å¼•èŠ‚ç‚¹ï¼ŒåŒ…å«æ–‡ä»¶çš„åŸºç¡€ä¿¡æ¯ä»¥åŠæ•°æ®å—çš„æŒ‡é’ˆã€‚ 4 5 3. æ•°æ®å—ï¼šåŒ…å«æ–‡ä»¶çš„å…·ä½“å†…å®¹ã€‚** é¡µè¡¨ä¸»è¦ç”¨äºè®¡ç®—æœºå†…å­˜çš„è™šæ‹ŸåŒ–ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„å†…å­˜åœ°å€ã€‚ç„¶åé€šè¿‡é¡µè¡¨å»æ˜ å°„åˆ°å¯¹åº”å†…å­˜ä¸Šã€‚\nâ€¢ æ­£æ•°å’Œè´Ÿæ•°åŠå…¶æµ®ç‚¹æ•°æ˜¯å¦‚ä½•åœ¨è®¡ç®—æœºä¸­è¡¨ç¤ºçš„?\næ­£æ•°ä½¿ç”¨åŸç \nè´Ÿæ•°ä½¿ç”¨è¡¥ç \næµ®ç‚¹æ•°æ˜¯ä¸€ä¸ªæ•´æ•°ä¹˜ä»¥2çš„æ•´æ•°æ¬¡å¹‚å¾—åˆ°ã€‚\nå¯¹äºfloatæ˜¯1ä½æ­£è´Ÿï¼Œ8ä½æŒ‡æ•°ï¼Œå…¶ä»–ä½æ˜¯å°¾æ•°\nè°ˆè°ˆä½ å¯¹çº¿ç¨‹çš„è®¤è¯†ï¼Ÿ\nçº¿ç¨‹çš„ç»“æ„æœ‰çº¿ç¨‹ä¸Šä¸‹æ–‡ã€æ‰§è¡Œæ ˆã€å±€éƒ¨å˜é‡ã€‚\nçº¿ç¨‹ä¾èµ–è¿›ç¨‹è·å–è¿›ç¨‹è·å–èµ„æº\nçº¿ç¨‹ç›¸å½“äºè¿›ç¨‹å†…çš„ä¸€ä¸ªç‹¬ç«‹æ“ä½œçš„ç¨‹åºè®¡æ•°å™¨ çº¿ç¨‹åˆ›å»ºé”€æ¯æ¯”è¿›ç¨‹å°‘ å¦‚æœæ˜¯è¿›ç¨‹çš„çº¿ç¨‹åˆ‡æ¢ä¹Ÿå¾ˆå° åŒè¿›ç¨‹çš„çº¿ç¨‹æ›´æ˜“äºé€šä¿¡ å¦‚æœé»˜è®¤æ¯ä¸ªçº¿ç¨‹ä½¿ç”¨1mbå †æ ˆç©ºé—´ï¼Œåˆ™32ä½åœ°å€ç©ºé—´ï¼Œå“ªä¹ˆç†è®ºä¸Šæœ€å¤§å¯ä»¥å¼€å¤šå°‘ç»„çº¿ç¨‹ï¼Ÿ\n3000ä¸ªçº¿ç¨‹\n*è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ*\nå¯ä»¥ç®¡ç†å’Œè¿è¡Œç¡¬ä»¶ï¼Œç¡¬ä»¶å¯ä»¥é€šè¿‡é©±åŠ¨æ‰©å±• ç»™è½¯ä»¶æä¾›äº†ä¸€ä¸ªå¹³å°ã€‚è½¯ä»¶æ— éœ€å…³å¿ƒç¡¬ä»¶å¤„ç†ï¼Œæ›´å®¹æ˜“å»ä½¿ç”¨ç¡¬ä»¶çš„åŠŸèƒ½ æ›´æœ‰æ•ˆåœ°ä½¿ç”¨èµ„æºã€‚æ¯”å¦‚å†…å­˜å’Œcpuèµ„æºï¼Œéœ€è¦ä¸€ç§æœ‰æ•ˆçš„æ–¹å¼å»ç®¡ç† è®¡ç®—æœºåŒ…å«ä»€ä¹ˆ\nå¤„ç†å™¨ã€å­˜å‚¨è®¾å¤‡å’Œè¾“å…¥è¾“å‡ºéƒ¨ä»¶ç»„æˆ cpuã€å¯„å­˜å™¨ã€å†…å­˜ã€ç£ç›˜ã€ç³»ç»Ÿæ€»çº¿ã€gpuã€ä¸»æ¿ã€é”®ç›˜ã€é¼ æ ‡ã€ç”µæº *è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ*\nè¿›ç¨‹\nè¿›ç¨‹æœ‰èµ„æºæ‰€æœ‰æƒï¼ŒåŒ…æ‹¬å†…å­˜ï¼Œioè®¾å¤‡ï¼Œioé€šé“ï¼Œæ–‡ä»¶ è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè°ƒåº¦ è¿›ç¨‹æ˜¯å¤„ç†å™¨æ‰§è¡Œçš„å®ä½“ çº¿ç¨‹\nä¸ºä»€ä¹ˆè¦æœ‰çº¿ç¨‹å‘¢ï¼šæ¯”å¦‚è¯´ï¼Œæˆ‘æœ‰å¤šä¸ªé€»è¾‘æƒ³è¦å¹¶å‘å¤„ç†ï¼Œé‚£æˆ‘åˆ›å»ºå¤šä¸ªè¿›ç¨‹ï¼Œè¿™é‡Œå°±æœ‰å‡ ä¸ªé—®é¢˜ï¼š è¿›ç¨‹çš„åˆ›å»ºå’Œåœæ­¢æ¯”è¾ƒè€—æ—¶ ä¸€ä¸ªæ˜¯è¿›ç¨‹çš„åˆ‡æ¢è€—è´¹èµ„æºï¼Œ å¦ä¸€ä¸ªæ˜¯å¤šä¸ªè¿›ç¨‹å¦‚æœå…±äº«ä¸€ä¸ªèµ„æºè¿˜è¦è¿›ç¨‹é—´åŠ é”å¤„ç†ã€‚ è¿›ç¨‹é—´çš„é€šä¿¡ä¹Ÿæ¯”è¾ƒè€—æ—¶ è¿›ç¨‹é—´æ˜¯å¦‚ä½•é€šä¿¡çš„ çº¿ç¨‹æ˜¯åœ¨è¿›ç¨‹é‡Œåˆ›å»ºçš„ï¼ŒåªåŒ…å«å¤„ç†é€»è¾‘ï¼Œå…±äº«æ•´ä¸ªè¿›ç¨‹çš„èµ„æº çº¿ç¨‹æ¯”è¿›ç¨‹åˆ›å»ºæ—¶é—´å°‘è®¸å¤š ç»ˆæ­¢çº¿ç¨‹æ¯”è¿›ç¨‹èŠ±è´¹æ—¶é—´å°‘ çº¿ç¨‹åˆ‡æ¢æ¯”è¿›ç¨‹åˆ‡æ¢æ—¶é—´å°‘ çº¿ç¨‹æé«˜äº†ä¸åŒçš„æ‰§è¡Œç¨‹åºé—´é€šä¿¡çš„æ•ˆç‡ è¿›ç¨‹ä¹‹é—´å¦‚ä½•é€šä¿¡ ä¸¾ä¾‹è¯´æ˜ï¼šæ–‡ä»¶æœåŠ¡å™¨ã€‚å½“æ¯ä¸ªæ–°æ–‡ä»¶è¯·æ±‚åˆ°è¾¾æ˜¯ï¼Œä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹ï¼Œç»“æŸåè¦é”€æ¯ã€‚ä¸€ä¸ªè¿›ç¨‹çš„å¤šçº¿ç¨‹å¯ä»¥åœ¨å¤šä¸ªå¤„ç†å™¨æ‰§è¡Œã€‚çº¿ç¨‹å…±äº«æ•°æ®ï¼Œçº¿ç¨‹é—´ä¼ é€’æ¶ˆæ¯æ¯”è¿›ç¨‹æ›´å¿«\nlinux å¤šæ ¸å¦‚ä½•è°ƒåº¦ä¸€ä¸ªè¿›ç¨‹é‡Œçš„å¤šä¸ªçº¿ç¨‹\nçº¿ç¨‹åˆ†ç±»\nå†…æ ¸çº¿ç¨‹\næœ‰å…³çº¿ç¨‹ç®¡ç†çš„æ‰€æœ‰å·¥ä½œéƒ½æ˜¯å†…æ ¸å®Œæˆçš„ï¼ŒåŒ…æ‹¬åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢éƒ½æ˜¯å†…æ ¸å®ç°çš„\nç”¨æˆ·çº¿ç¨‹\nç”±ç”¨æˆ·ç¨‹åºæ¥ç®¡ç†çº¿ç¨‹çš„ï¼Œé€šè¿‡çº¿ç¨‹åº“æ¥åˆ›å»ºå’Œé”€é­‚çº¿ç¨‹ï¼Œå†…æ ¸æ„è¯†ä¸åˆ°çº¿ç¨‹çš„å­˜åœ¨\nçº¿ç¨‹åº“æ˜¯ä»€ä¹ˆ\nçº¿ç¨‹åº“äº‹ç”¨äºç”¨æˆ·çº§çº¿ç¨‹ç®¡ç†çš„ä¸€ä¸ªä¾‹ç¨‹åŒ…ï¼Œå®ƒåŒ…å«ç”¨äºåˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„ä»£ç ã€åœ¨çº¿ç¨‹é—´ä¼ é€’æ¶ˆæ¯å’Œæ•°æ®çš„ä»£ç ã€è°ƒåº¦çº¿ç¨‹æ‰§è¡Œçš„ä»£ç ï¼Œä»¥åŠä¿æŠ¤å’Œæ¢å¤çº¿ç¨‹ä¸Šä¸‹æ–‡çš„ä»£ç \nå†…æ ¸çº¿ç¨‹ä¸ç”¨æˆ·çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹\nç”¨æˆ·çº¿ç¨‹æ¯”å†…æ ¸çº¿ç¨‹ä¼˜ç‚¹ ç”±äºæ‰€æœ‰çº¿ç¨‹ç®¡ç†çš„æ•°æ®ç»“æ„éƒ½åœ¨ä¸€ä¸ªè¿›ç¨‹çš„ç”¨æˆ·ç©ºé—´åœ°å€ä¸­ï¼Œçº¿ç¨‹åˆ‡æ¢ä¸éœ€è¦å†…æ ¸æ€ç‰¹æƒï¼Œå› æ­¤ï¼Œè¿›ç¨‹ä¸éœ€è¦ä¸ºäº†çº¿ç¨‹ç®¡ç†è€Œåˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œè¿™èŠ‚çœäº†ä¸¤æ¬¡çŠ¶æ€è½¬æ¢ï¼ˆä»ç”¨æˆ·æ€åˆ°å†…æ ¸æ€ï¼›ä»å†…æ ¸æ€è¿”å›åˆ°ç”¨æˆ·æ€ï¼‰çš„å¼€é”€ è°ƒåº¦å¯ä»¥æ˜¯åº”ç”¨ç¨‹åºç›¸å…³çš„ã€‚å¯ä»¥æ ¹æ®åº”ç”¨çš„ä¸šåŠ¡è‡ªå·±è°ƒåº¦çº¿ç¨‹ ç”¨æˆ·çº§çº¿ç¨‹å¯ä»¥åœ¨ä»»ä½•æ“ä½œç³»ç»Ÿè¿è¡Œï¼Œä¸éœ€è¦å¯¹åº•å±‚å†…æ ¸è¿›è¡Œä¿®æ”¹ä»¥æ”¯æŒç”¨æˆ·çº§çº¿ç¨‹ã€‚çº¿ç¨‹åº“æ˜¯ä¸€ç»„ä¾›æ‰€æœ‰åº”ç”¨ç¨‹åºå…±äº«çš„åº”ç”¨ç¨‹åºçº§åˆ«çš„å‡½æ•° ç”¨æˆ·çº¿ç¨‹æ¯”å†…æ ¸çº¿ç¨‹ç¼ºç‚¹ åœ¨å…¸å‹çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè®¸å¤šç³»ç»Ÿè°ƒç”¨éƒ½ä¼šå¼•èµ·é˜»å¡ã€‚ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ï¼Œå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„çº¿ç¨‹éƒ½é˜»å¡ åœ¨çº¯ç²¹çš„ç”¨æˆ·çº§çº¿ç¨‹ç­–ç•¥ä¸­ï¼Œä¸€ä¸ªå¤šçº¿ç¨‹åº”ç”¨ç¨‹åºä¸èƒ½åˆ©ç”¨å¤šå¤„ç†å™¨ çº¿ç¨‹çš„çŠ¶æ€\nå°±ç»ªã€è¿è¡Œã€ç»“æŸã€é˜»å¡ è¿›ç¨‹çš„çŠ¶æ€\næ–°å»ºã€å°±ç»ªã€è¿è¡Œã€æ¨å‡ºã€æŒ‚èµ·ã€é˜»å¡ã€å°±ç»ª/æŒ‚èµ·ã€é˜»å¡/æŒ‚èµ·\nçº¿ç¨‹æ‹¥æœ‰ä»€ä¹ˆ\nçº¿ç¨‹æ‰§è¡ŒçŠ¶æ€ï¼ˆè¿è¡Œï¼Œå°±ç»ªï¼‰ åœ¨æœªè¿è¡Œæ—¶ä¿å­˜çš„çº¿ç¨‹ä¸Šä¸‹æ–‡ï¼›ä»æŸç§æ„ä¹‰ä¸Šçœ‹ï¼Œçº¿ç¨‹å¯è¢«è§†ä¸ºè¿›ç¨‹å†…çš„ä¸€ä¸ªç‹¬ç«‹æ“ä½œçš„ç¨‹åºè®¡æ•°å™¨ ä¸€ä¸ªæ‰§è¡Œæ ˆ ç”¨äºæ¯ä¸ªçº¿ç¨‹å±€éƒ¨å˜é‡çš„é™æ€å­˜å‚¨ç©ºé—´ ä¸è¿›ç¨‹å†…çš„å…¶ä»–çº¿ç¨‹å…±äº«çš„å¯¹è¿›ç¨‹çš„å†…å­˜å’Œèµ„æºè®¿é—® *åç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«*\nåç¨‹ åç¨‹å°±æ˜¯å¯ä»¥ç”±ç¨‹åºè‡ªè¡Œæ§åˆ¶æŒ‚èµ·ï¼ˆæš‚åœæ‰§è¡Œï¼‰ã€æ¢å¤ï¼ˆç»§ç»­åœ¨åŸæ¥æš‚åœçš„åœ°æ–¹æ‰§è¡Œï¼‰çš„ç¨‹åº ä»–å¯ä»¥ç”¨æ¥å®ç°å¤šä»»åŠ¡çš„åä½œæ‰§è¡Œ åç¨‹æ˜¯åœ¨çº¿ç¨‹é‡Œåˆ›å»ºçš„ï¼Œæ‰€ä»¥åç¨‹æ˜¯ä¸²è¡Œå¤„ç†çš„ã€‚ åç¨‹åˆ›å»ºå’Œæš‚åœçš„æ¶ˆè€—ä½ *å¹¶å‘å’Œå¹¶è¡Œæœ‰ä»€ä¹ˆåŒºåˆ«*\nå¹¶è¡Œæ˜¯å¤šä¸ªä»»åŠ¡åœ¨å¤šä¸ªå¤„ç†å™¨æ‰§è¡Œã€‚ å¹¶å‘æ˜¯å¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œï¼Œå¯èƒ½æ˜¯å¤šä¸ªå¤„ç†å™¨ï¼Œä¹Ÿå¯èƒ½æ˜¯å•ä¸ªå¤„ç†å™¨ï¼Œç„¶ååˆ†ç‰‡æ‰§è¡Œ\n*è¿›ç¨‹ä¸çº¿ç¨‹çš„åˆ‡æ¢æµç¨‹ï¼Ÿ*\nè¿›ç¨‹åˆ‡æ¢ï¼š\nè¿›å…¥å†…æ ¸æ€\n1ï¼‰ä¿å­˜å¤„ç†å™¨ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ŒåŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨å’Œå…¶ä»–å¯„å­˜å™¨ã€‚ 2ï¼‰æ›´æ–°å½“å‰å¤„äºè¿è¡Œæ€è¿›ç¨‹çš„è¿›ç¨‹æ§åˆ¶å—ï¼ŒåŒ…æ‹¬å°†è¿›ç¨‹çš„çŠ¶æ€æ”¹å˜åˆ°å¦ä¸€çŠ¶æ€ï¼ˆå°±ç»ªæ€ã€é˜»å¡æ€ã€å°±ç»ªæŒ‚èµ·æ€æˆ–é€€å‡ºæ€ï¼‰è¿˜å¿…é¡»æ›´æ–°å…¶ä»–ç›¸å…³åŸŸï¼ŒåŒ…æ‹¬ç¦»å¼€è¿è¡Œæ€çš„åŸå› å’Œè®°è´¦ä¿¡æ¯ã€‚ 3ï¼‰å°†è¿›ç¨‹çš„è¿›ç¨‹æ§åˆ¶å—ç§»åˆ°ç›¸åº”çš„é˜Ÿåˆ—ï¼ˆå°±ç»ªã€åœ¨äº‹ä»¶iå¤„é˜»å¡ã€å°±ç»ªæŒ‚èµ·ï¼‰ã€‚ 4ï¼‰é€‰æ‹©å¦ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œï¼Œè¿™æ–¹é¢çš„å†…å®¹å°†åœ¨æœ¬ä¹¦çš„ç¬¬å››éƒ¨åˆ†æ¢è®¨ã€‚ 5ï¼‰æ›´æ–°æ‰€é€‰æ‹©è¿›ç¨‹çš„è¿›ç¨‹æ§åˆ¶å—ï¼ŒåŒ…æ‹¬å°†è¿›ç¨‹çš„çŠ¶æ€å˜ä¸ºè¿è¡Œæ€ã€‚ 6ï¼‰æ›´æ–°å†…å­˜ç®¡ç†çš„æ•°æ®ç»“æ„ï¼Œè¿™å–å†³äºå¦‚ä½•ç®¡ç†åœ°å€è½¬æ¢ï¼Œè¿™æ–¹é¢çš„å†…å®¹å°†åœ¨ç¬¬ä¸‰éƒ¨åˆ†æ¢è®¨ã€‚ 7ï¼‰æ¢å¤å¤„ç†å™¨åœ¨è¢«é€‰æ‹©çš„è¿›ç¨‹æœ€è¿‘ä¸€æ¬¡åˆ‡æ¢å‡ºè¿è¡ŒçŠ¶æ€æ—¶çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œè¿™å¯ä»¥é€šè¿‡è½½äººç¨‹åºè®¡æ•°å™¨å’Œå…¶ä»–å¯„å­˜å™¨ä»¥å‰çš„å€¼æ¥å®ç°ï¼Œ\nè¿›å…¥ç”¨æˆ·æ€\nå¯¹äºlinuxæ¥è¯´ï¼Œçº¿ç¨‹å’Œè¿›ç¨‹çš„æœ€å¤§åŒºåˆ«å°±åœ¨äºåœ°å€ç©ºé—´ï¼Œå¯¹äºçº¿ç¨‹åˆ‡æ¢ï¼Œç¬¬1æ­¥æ˜¯ä¸éœ€è¦åšçš„ï¼Œç¬¬2æ­¥æ˜¯è¿›ç¨‹å’Œçº¿ç¨‹åˆ‡æ¢éƒ½è¦åšçš„ã€‚\nå› ä¸ºæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œè€Œçº¿ç¨‹æ˜¯å…±äº«æ‰€åœ¨è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´çš„ï¼Œå› æ­¤åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹è¿›è¡Œçº¿ç¨‹åˆ‡æ¢æ—¶ä¸æ¶‰åŠè™šæ‹Ÿåœ°å€ç©ºé—´çš„è½¬æ¢ã€‚\nè¿›ç¨‹åˆ‡æ¢åŸå› \nä¸­æ–­ï¼ˆæ—¶é’Ÿä¸­æ–­ï¼‰ï¼Œé™·é˜±ï¼ˆè¿è¡Œå¼‚å¸¸ï¼‰ï¼Œç³»ç»Ÿè°ƒç”¨ï¼ˆå†…å­˜å¤±æ•ˆï¼‰\n*ä¸ºä»€ä¹ˆè™šæ‹Ÿåœ°å€ç©ºé—´åˆ‡æ¢ä¼šæ¯”è¾ƒè€—æ—¶ï¼Ÿ*\nåˆ«äººè¯´çš„ï¼š\nè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼ŒæŠŠè™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€éœ€è¦æŸ¥æ‰¾é¡µè¡¨ï¼Œé¡µè¡¨æŸ¥æ‰¾æ˜¯ä¸€ä¸ªå¾ˆæ…¢çš„è¿‡ç¨‹ï¼Œå› æ­¤é€šå¸¸ä½¿ç”¨Cacheæ¥ç¼“å­˜å¸¸ç”¨çš„åœ°å€æ˜ å°„ï¼Œè¿™æ ·å¯ä»¥åŠ é€Ÿé¡µè¡¨æŸ¥æ‰¾ï¼Œè¿™ä¸ªCacheå°±æ˜¯TLBï¼ˆtranslation Lookaside Bufferï¼ŒTLBæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªCacheï¼Œæ˜¯ç”¨æ¥åŠ é€Ÿé¡µè¡¨æŸ¥æ‰¾çš„ï¼‰ã€‚\nç”±äºæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œé‚£ä¹ˆæ˜¾ç„¶æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„é¡µè¡¨ï¼Œé‚£ä¹ˆå½“è¿›ç¨‹åˆ‡æ¢åé¡µè¡¨ä¹Ÿè¦è¿›è¡Œåˆ‡æ¢ï¼Œé¡µè¡¨åˆ‡æ¢åTLBå°±å¤±æ•ˆäº†ï¼ŒCacheå¤±æ•ˆå¯¼è‡´å‘½ä¸­ç‡é™ä½ï¼Œé‚£ä¹ˆè™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€å°±ä¼šå˜æ…¢ï¼Œè¡¨ç°å‡ºæ¥çš„å°±æ˜¯ç¨‹åºè¿è¡Œä¼šå˜æ…¢ï¼Œè€Œçº¿ç¨‹åˆ‡æ¢åˆ™ä¸ä¼šå¯¼è‡´TLBå¤±æ•ˆï¼Œå› ä¸ºçº¿ç¨‹æ— éœ€åˆ‡æ¢åœ°å€ç©ºé—´ï¼Œå› æ­¤æˆ‘ä»¬é€šå¸¸è¯´çº¿ç¨‹åˆ‡æ¢è¦æ¯”è¾ƒè¿›ç¨‹åˆ‡æ¢å—ï¼ŒåŸå› å°±åœ¨è¿™é‡Œã€‚\nè‡ªå·±æƒ³çš„ï¼š\næˆ‘ä»¬è¯»å–ä¸€ä¸ªåœ°å€ï¼Œå®é™…éœ€è¦è®¿é—®ä¸¤æ¬¡å†…å­˜ã€‚ä¸€æ¬¡æ˜¯æ ¹æ®é¡µå·æ‰¾åˆ°é¡µè¡¨æ•°æ®ï¼Œä¸€æ¬¡æ ¹æ®ç‰©ç†åœ°å€è¯»å–æ•°æ®ã€‚è¿™ä¸ªæ˜¯éå¸¸è€—æ—¶çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªç¼“å­˜æ¥ä¿å­˜é€»è¾‘åœ°å€ä¸ç‰©ç†çš„åœ°å€çš„æ˜ å°„ï¼Œè¿™ä¸ªå°±å®TLBã€‚ä¿å­˜åœ¨å¯„å­˜å™¨äº†ã€‚å¦‚æœæˆ‘ä»¬åˆ‡æ¢è¿›ç¨‹äº†ï¼Œé‚£è¿™ä¸ªå°±å¤±æ•ˆäº†ï¼Œå°±å¯¼è‡´éœ€è¦é‡æ–°ç¼“å­˜ã€‚\n*è¿›ç¨‹é—´é€šä¿¡æ–¹å¼æœ‰å“ªäº›ï¼Ÿ*\nç®¡é“/ç®¡ç¨‹ï¼šç®¡é“è¿™ç§é€šè®¯æ–¹å¼æœ‰ä¸¤ç§é™åˆ¶ï¼Œä¸€æ˜¯åŠåŒå·¥çš„é€šä¿¡ï¼Œæ•°æ®åªèƒ½å•å‘æµåŠ¨ï¼ŒäºŒæ˜¯åªèƒ½åœ¨å…·æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚è¿›ç¨‹çš„äº²ç¼˜å…³ç³»é€šå¸¸æ˜¯æŒ‡çˆ¶å­è¿›ç¨‹å…³ç³»ã€‚\nç®¡é“å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šåŒ¿åç®¡é“å’Œå‘½åç®¡é“ã€‚åŒ¿åç®¡é“æ˜¯å•å‘çš„ï¼Œåªèƒ½åœ¨æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡ï¼›å‘½åç®¡é“ä»¥ç£ç›˜æ–‡ä»¶çš„æ–¹å¼å­˜åœ¨ï¼Œå¯ä»¥å®ç°æœ¬æœºä»»æ„ä¸¤ä¸ªè¿›ç¨‹é€šä¿¡ã€‚\nä¿¡å· ï¼š ä¿¡å·æ˜¯ä¸€ç§æ¯”è¾ƒå¤æ‚çš„é€šä¿¡æ–¹å¼ï¼Œä¿¡å·å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å‘ç»™æŸä¸€è¿›ç¨‹ï¼Œè€Œæ— éœ€çŸ¥é“è¯¥è¿›ç¨‹çš„çŠ¶æ€ã€‚\nLinuxç³»ç»Ÿä¸­å¸¸ç”¨ä¿¡å·ï¼šï¼ˆ1ï¼‰SIGHUPï¼šç”¨æˆ·ä»ç»ˆç«¯æ³¨é”€ï¼Œæ‰€æœ‰å·²å¯åŠ¨è¿›ç¨‹éƒ½å°†æ”¶åˆ°è¯¥è¿›ç¨‹ã€‚ç³»ç»Ÿç¼ºçœçŠ¶æ€ä¸‹å¯¹è¯¥ä¿¡å·çš„å¤„ç†æ˜¯ç»ˆæ­¢è¿›ç¨‹ã€‚\nï¼ˆ2ï¼‰SIGINTï¼šç¨‹åºç»ˆæ­¢ä¿¡å·ã€‚ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒæŒ‰Ctrl+Cé”®å°†äº§ç”Ÿè¯¥ä¿¡å·ã€‚\nï¼ˆ3ï¼‰SIGQUITï¼šç¨‹åºé€€å‡ºä¿¡å·ã€‚ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒæŒ‰Ctrl+\\\\\\\\é”®å°†äº§ç”Ÿè¯¥ä¿¡å·ã€‚\nï¼ˆ4ï¼‰SIGBUSå’ŒSIGSEGVï¼šè¿›ç¨‹è®¿é—®éæ³•åœ°å€ã€‚\nï¼ˆ5ï¼‰SIGFPEï¼šè¿ç®—ä¸­å‡ºç°è‡´å‘½é”™è¯¯ï¼Œå¦‚é™¤é›¶æ“ä½œã€æ•°æ®æº¢å‡ºç­‰ã€‚\nï¼ˆ6ï¼‰SIGKILLï¼šç”¨æˆ·ç»ˆæ­¢è¿›ç¨‹æ‰§è¡Œä¿¡å·ã€‚shellä¸‹æ‰§è¡Œkill -9å‘é€è¯¥ä¿¡å·ã€‚\nï¼ˆ7ï¼‰SIGTERMï¼šç»“æŸè¿›ç¨‹ä¿¡å·ã€‚shellä¸‹æ‰§è¡Œkill è¿›ç¨‹pidå‘é€è¯¥ä¿¡å·ã€‚\nï¼ˆ8ï¼‰SIGALRMï¼šå®šæ—¶å™¨ä¿¡å·ã€‚\nï¼ˆ9ï¼‰SIGCLDï¼šå­è¿›ç¨‹é€€å‡ºä¿¡å·ã€‚å¦‚æœå…¶çˆ¶è¿›ç¨‹æ²¡æœ‰å¿½ç•¥è¯¥ä¿¡å·ä¹Ÿæ²¡æœ‰å¤„ç†è¯¥ä¿¡å·ï¼Œåˆ™å­è¿›ç¨‹é€€å‡ºåå°†å½¢æˆåƒµå°¸è¿›ç¨‹ã€‚\nä¿¡å·é‡ï¼šä¿¡å·é‡æ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå¯ä»¥ç”¨æ¥æ§åˆ¶å¤šä¸ªè¿›ç¨‹å¯¹å…±äº«èµ„æºçš„è®¿é—®ã€‚å®ƒå¸¸ä½œä¸ºä¸€ç§é”æœºåˆ¶ï¼Œé˜²æ­¢æŸè¿›ç¨‹æ­£åœ¨è®¿é—®å…±äº«èµ„æºæ—¶ï¼Œå…¶ä»–è¿›ç¨‹ä¹Ÿè®¿é—®è¯¥èµ„æºã€‚å› æ­¤ï¼Œä¸»è¦ä½œä¸ºè¿›ç¨‹é—´ä»¥åŠåŒä¸€è¿›ç¨‹å†…ä¸åŒçº¿ç¨‹ä¹‹é—´çš„åŒæ­¥æ‰‹æ®µã€‚\næ¶ˆæ¯é˜Ÿåˆ—ï¼šæ¶ˆæ¯é˜Ÿåˆ—æ˜¯æ¶ˆæ¯çš„é“¾æ¥è¡¨ï¼ŒåŒ…æ‹¬Posixæ¶ˆæ¯é˜Ÿåˆ—å’ŒSystem Væ¶ˆæ¯é˜Ÿåˆ—ã€‚æœ‰è¶³å¤Ÿæƒé™çš„è¿›ç¨‹å¯ä»¥å‘é˜Ÿåˆ—ä¸­æ·»åŠ æ¶ˆæ¯ï¼Œè¢«èµ‹äºˆè¯»æƒé™çš„è¿›ç¨‹åˆ™å¯ä»¥è¯»èµ°é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚æ¶ˆæ¯é˜Ÿåˆ—å…‹æœäº†ä¿¡å·æ‰¿è½½ä¿¡æ¯é‡å°‘ï¼Œç®¡é“åªèƒ½æ‰¿è½½æ— æ ¼å¼å­—èŠ‚æµä»¥åŠç¼“å†²åŒºå¤§å°å—é™ç­‰ç¼ºç‚¹ã€‚\nå…±äº«å†…å­˜ï¼šå…±äº«å†…å­˜å°±æ˜¯æ˜ å°„ä¸€æ®µèƒ½è¢«å…¶ä»–è¿›ç¨‹æ‰€è®¿é—®çš„å†…å­˜ï¼Œè¿™æ®µå…±äº«å†…å­˜ç”±ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºï¼Œä½†å¤šä¸ªè¿›ç¨‹éƒ½å¯ä»¥è®¿é—®ã€‚å…±äº«å†…å­˜æ˜¯æœ€å¿«çš„ IPC æ–¹å¼ï¼Œå®ƒæ˜¯é’ˆå¯¹å…¶ä»–è¿›ç¨‹é—´é€šä¿¡æ–¹å¼è¿è¡Œæ•ˆç‡ä½è€Œä¸“é—¨è®¾è®¡çš„ã€‚å®ƒå¾€å¾€ä¸å…¶ä»–é€šä¿¡æœºåˆ¶ï¼Œå¦‚ä¿¡å·é‡ï¼Œé…åˆä½¿ç”¨ï¼Œæ¥å®ç°è¿›ç¨‹é—´çš„åŒæ­¥å’Œé€šä¿¡ã€‚\nSocketï¼šä¸å…¶ä»–é€šä¿¡æœºåˆ¶ä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ç”¨äºä¸åŒæœºå™¨é—´çš„è¿›ç¨‹é€šä¿¡ã€‚\nä¼˜ç¼ºç‚¹ï¼š\nç®¡é“ï¼šé€Ÿåº¦æ…¢ï¼Œå®¹é‡æœ‰é™ï¼› Socketï¼šä»»ä½•è¿›ç¨‹é—´éƒ½èƒ½é€šè®¯ï¼Œä½†é€Ÿåº¦æ…¢ï¼› æ¶ˆæ¯é˜Ÿåˆ—ï¼šå®¹é‡å—åˆ°ç³»ç»Ÿé™åˆ¶ï¼Œä¸”è¦æ³¨æ„ç¬¬ä¸€æ¬¡è¯»çš„æ—¶å€™ï¼Œè¦è€ƒè™‘ä¸Šä¸€æ¬¡æ²¡æœ‰è¯»å®Œæ•°æ®çš„é—®é¢˜ï¼› ä¿¡å·é‡ï¼šä¸èƒ½ä¼ é€’å¤æ‚æ¶ˆæ¯ï¼Œåªèƒ½ç”¨æ¥åŒæ­¥ï¼› å…±äº«å†…å­˜åŒºï¼šèƒ½å¤Ÿå¾ˆå®¹æ˜“æ§åˆ¶å®¹é‡ï¼Œé€Ÿåº¦å¿«ï¼Œä½†è¦ä¿æŒåŒæ­¥ï¼Œæ¯”å¦‚ä¸€ä¸ªè¿›ç¨‹åœ¨å†™çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹è¦æ³¨æ„è¯»å†™çš„é—®é¢˜ï¼Œç›¸å½“äºçº¿ç¨‹ä¸­çš„çº¿ç¨‹å®‰å…¨ï¼Œå½“ç„¶ï¼Œå…±äº«å†…å­˜åŒºåŒæ ·å¯ä»¥ç”¨ä½œçº¿ç¨‹é—´é€šè®¯ï¼Œä¸è¿‡æ²¡è¿™ä¸ªå¿…è¦ï¼Œçº¿ç¨‹é—´æœ¬æ¥å°±å·²ç»å…±äº«äº†åŒä¸€è¿›ç¨‹å†…çš„ä¸€å—å†…å­˜ã€‚ *è¿›ç¨‹é—´åŒæ­¥çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ*\n1ã€ä¸´ç•ŒåŒºï¼šé€šè¿‡å¯¹å¤šçº¿ç¨‹çš„ä¸²è¡ŒåŒ–æ¥è®¿é—®å…¬å…±èµ„æºæˆ–ä¸€æ®µä»£ç ï¼Œé€Ÿåº¦å¿«ï¼Œé€‚åˆæ§åˆ¶æ•°æ®è®¿é—®ã€‚\nä¼˜ç‚¹ï¼šä¿è¯åœ¨æŸä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è®¿é—®æ•°æ®çš„ç®€ä¾¿åŠæ³•ã€‚\nç¼ºç‚¹ï¼šè™½ç„¶ä¸´ç•ŒåŒºåŒæ­¥é€Ÿåº¦å¾ˆå¿«ï¼Œä½†å´åªèƒ½ç”¨æ¥åŒæ­¥æœ¬è¿›ç¨‹å†…çš„çº¿ç¨‹ï¼Œè€Œä¸å¯ç”¨æ¥åŒæ­¥å¤šä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹ã€‚\n2ã€äº’æ–¥é‡ï¼šä¸ºåè°ƒå…±åŒå¯¹ä¸€ä¸ªå…±äº«èµ„æºçš„å•ç‹¬è®¿é—®è€Œè®¾è®¡çš„ã€‚äº’æ–¥é‡è·Ÿä¸´ç•ŒåŒºå¾ˆç›¸ä¼¼ï¼Œæ¯”ä¸´ç•ŒåŒºå¤æ‚ï¼Œäº’æ–¥å¯¹è±¡åªæœ‰ä¸€ä¸ªï¼Œåªæœ‰æ‹¥æœ‰äº’æ–¥å¯¹è±¡çš„çº¿ç¨‹æ‰å…·æœ‰è®¿é—®èµ„æºçš„æƒé™ã€‚\nä¼˜ç‚¹ï¼šä½¿ç”¨äº’æ–¥ä¸ä»…ä»…èƒ½å¤Ÿåœ¨åŒä¸€åº”ç”¨ç¨‹åºä¸åŒçº¿ç¨‹ä¸­å®ç°èµ„æºçš„å®‰å…¨å…±äº«ï¼Œè€Œä¸”å¯ä»¥åœ¨ä¸åŒåº”ç”¨ç¨‹åºçš„çº¿ç¨‹ä¹‹é—´å®ç°å¯¹èµ„æºçš„å®‰å…¨å…±äº«ã€‚\nç¼ºç‚¹ï¼š\näº’æ–¥é‡æ˜¯å¯ä»¥å‘½åçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯ä»¥è·¨è¶Šè¿›ç¨‹ä½¿ç”¨ï¼Œæ‰€ä»¥åˆ›å»ºäº’æ–¥é‡éœ€è¦çš„èµ„æºæ›´å¤šï¼Œæ‰€ä»¥å¦‚æœåªä¸ºäº†åœ¨è¿›ç¨‹å†…éƒ¨æ˜¯ç”¨çš„è¯ä½¿ç”¨ä¸´ç•ŒåŒºä¼šå¸¦æ¥é€Ÿåº¦ä¸Šçš„ä¼˜åŠ¿å¹¶èƒ½å¤Ÿå‡å°‘èµ„æºå ç”¨é‡ã€‚ é€šè¿‡äº’æ–¥é‡å¯ä»¥æŒ‡å®šèµ„æºè¢«ç‹¬å çš„æ–¹å¼ä½¿ç”¨ï¼Œä½†å¦‚æœæœ‰ä¸‹é¢ä¸€ç§æƒ…å†µé€šè¿‡äº’æ–¥é‡å°±æ— æ³•å¤„ç†ï¼Œæ¯”å¦‚ç°åœ¨ä¸€ä½ç”¨æˆ·è´­ä¹°äº†ä¸€ä»½ä¸‰ä¸ªå¹¶å‘è®¿é—®è®¸å¯çš„æ•°æ®åº“ç³»ç»Ÿï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·è´­ä¹°çš„è®¿é—®è®¸å¯æ•°é‡æ¥å†³å®šæœ‰å¤šå°‘ä¸ªçº¿ç¨‹/è¿›ç¨‹èƒ½åŒæ—¶è¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œè¿™æ—¶å€™å¦‚æœåˆ©ç”¨äº’æ–¥é‡å°±æ²¡æœ‰åŠæ³•å®Œæˆè¿™ä¸ªè¦æ±‚ï¼Œä¿¡å·é‡å¯¹è±¡å¯ä»¥è¯´æ˜¯ä¸€ç§èµ„æºè®¡æ•°å™¨ã€‚ 3ã€ä¿¡å·é‡ï¼šä¸ºæ§åˆ¶ä¸€ä¸ªå…·æœ‰æœ‰é™æ•°é‡ç”¨æˆ·èµ„æºè€Œè®¾è®¡ã€‚å®ƒå…è®¸å¤šä¸ªçº¿ç¨‹åœ¨åŒä¸€æ—¶åˆ»è®¿é—®åŒä¸€èµ„æºï¼Œä½†æ˜¯éœ€è¦é™åˆ¶åœ¨åŒä¸€æ—¶åˆ»è®¿é—®æ­¤èµ„æºçš„æœ€å¤§çº¿ç¨‹æ•°ç›®ã€‚äº’æ–¥é‡æ˜¯ä¿¡å·é‡çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå½“ä¿¡å·é‡çš„æœ€å¤§èµ„æºæ•°=1å°±æ˜¯äº’æ–¥é‡äº†ã€‚\nä¼˜ç‚¹ï¼šé€‚ç”¨äºå¯¹Socketï¼ˆå¥—æ¥å­—ï¼‰ç¨‹åºä¸­çº¿ç¨‹çš„åŒæ­¥ã€‚\nç¼ºç‚¹:\nä¿¡å·é‡æœºåˆ¶å¿…é¡»æœ‰å…¬å…±å†…å­˜ï¼Œä¸èƒ½ç”¨äºåˆ†å¸ƒå¼æ“ä½œç³»ç»Ÿï¼Œè¿™æ˜¯å®ƒæœ€å¤§çš„å¼±ç‚¹ï¼› ä¿¡å·é‡æœºåˆ¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†ä½¿ç”¨æ—¶å¯¹ä¿¡å·é‡çš„æ“ä½œåˆ†æ•£ï¼Œ è€Œä¸”éš¾ä»¥æ§åˆ¶ï¼Œè¯»å†™å’Œç»´æŠ¤éƒ½å¾ˆå›°éš¾ï¼ŒåŠ é‡äº†ç¨‹åºå‘˜çš„ç¼–ç è´Ÿæ‹…ï¼› æ ¸å¿ƒæ“ä½œP-Våˆ†æ•£åœ¨å„ç”¨æˆ·ç¨‹åºçš„ä»£ç ä¸­ï¼Œä¸æ˜“æ§åˆ¶å’Œç®¡ç†ï¼Œä¸€æ—¦é”™è¯¯ï¼Œåæœä¸¥é‡ï¼Œä¸”ä¸æ˜“å‘ç°å’Œçº æ­£ã€‚ 4ã€äº‹ä»¶ï¼š ç”¨æ¥é€šçŸ¥çº¿ç¨‹æœ‰ä¸€äº›äº‹ä»¶å·²å‘ç”Ÿï¼Œä»è€Œå¯åŠ¨åç»§ä»»åŠ¡çš„å¼€å§‹ã€‚\nä¼˜ç‚¹ï¼šäº‹ä»¶å¯¹è±¡é€šè¿‡é€šçŸ¥æ“ä½œçš„æ–¹å¼æ¥ä¿æŒçº¿ç¨‹çš„åŒæ­¥ï¼Œå¹¶ä¸”å¯ä»¥å®ç°ä¸åŒè¿›ç¨‹ä¸­çš„çº¿ç¨‹åŒæ­¥æ“ä½œã€‚\n*çº¿ç¨‹åŒæ­¥çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ*\nä¸€ä¸ªå›ç­”ï¼š\nçº¿ç¨‹åŒæ­¥æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ªå…±äº«å…³é”®èµ„æºçš„çº¿ç¨‹çš„å¹¶å‘æ‰§è¡Œã€‚åº”è¯¥åŒæ­¥çº¿ç¨‹ä»¥é¿å…å…³é”®çš„èµ„æºä½¿ç”¨å†²çªã€‚æ“ä½œç³»ç»Ÿä¸€èˆ¬æœ‰ä¸‹é¢ä¸‰ç§çº¿ç¨‹åŒæ­¥çš„æ–¹å¼ï¼š\näº’æ–¥é‡(Mutex)ï¼šé‡‡ç”¨äº’æ–¥å¯¹è±¡æœºåˆ¶ï¼Œåªæœ‰æ‹¥æœ‰äº’æ–¥å¯¹è±¡çš„çº¿ç¨‹æ‰æœ‰è®¿é—®å…¬å…±èµ„æºçš„æƒé™ã€‚å› ä¸ºäº’æ–¥å¯¹è±¡åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥å¯ä»¥ä¿è¯å…¬å…±èµ„æºä¸ä¼šè¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ã€‚æ¯”å¦‚ Java ä¸­çš„ synchronized å…³é”®è¯å’Œå„ç§ Lock éƒ½æ˜¯è¿™ç§æœºåˆ¶ã€‚ ä¿¡å·é‡(Semaphore) ï¼šå®ƒå…è®¸åŒä¸€æ—¶åˆ»å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€èµ„æºï¼Œä½†æ˜¯éœ€è¦æ§åˆ¶åŒä¸€æ—¶åˆ»è®¿é—®æ­¤èµ„æºçš„æœ€å¤§çº¿ç¨‹æ•°é‡ã€‚ äº‹ä»¶(Event) :Wait/Notifyï¼šé€šè¿‡é€šçŸ¥æ“ä½œçš„æ–¹å¼æ¥ä¿æŒå¤šçº¿ç¨‹åŒæ­¥ï¼Œè¿˜å¯ä»¥æ–¹ä¾¿çš„å®ç°å¤šçº¿ç¨‹ä¼˜å…ˆçº§çš„æ¯”è¾ƒæ“ä½œã€‚ å¦ä¸€ä¸ªå›ç­”ï¼š\n1ã€ä¸´ç•ŒåŒºï¼šå½“å¤šä¸ªçº¿ç¨‹è®¿é—®ä¸€ä¸ªç‹¬å æ€§å…±äº«èµ„æºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸´ç•ŒåŒºå¯¹è±¡ã€‚æ‹¥æœ‰ä¸´ç•ŒåŒºçš„çº¿ç¨‹å¯ä»¥è®¿é—®è¢«ä¿æŠ¤èµ·æ¥çš„èµ„æºæˆ–ä»£ç æ®µï¼Œå…¶ä»–çº¿ç¨‹è‹¥æƒ³è®¿é—®ï¼Œåˆ™è¢«æŒ‚èµ·ï¼Œç›´åˆ°æ‹¥æœ‰ä¸´ç•ŒåŒºçš„çº¿ç¨‹æ”¾å¼ƒä¸´ç•ŒåŒºä¸ºæ­¢ï¼Œä»¥æ­¤è¾¾åˆ°ç”¨åŸå­æ–¹å¼æ“ ä½œå…±äº«èµ„æºçš„ç›®çš„ã€‚\n2ã€äº‹ä»¶ï¼šäº‹ä»¶æœºåˆ¶ï¼Œåˆ™å…è®¸ä¸€ä¸ªçº¿ç¨‹åœ¨å¤„ç†å®Œä¸€ä¸ªä»»åŠ¡åï¼Œä¸»åŠ¨å”¤é†’å¦å¤–ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚\n3ã€äº’æ–¥é‡ï¼šäº’æ–¥å¯¹è±¡å’Œä¸´ç•ŒåŒºå¯¹è±¡éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯å…¶å…è®¸åœ¨è¿›ç¨‹é—´ä½¿ç”¨ï¼Œè€Œä¸´ç•ŒåŒºåªé™åˆ¶ä¸åŒä¸€è¿›ç¨‹çš„å„ä¸ªçº¿ç¨‹ä¹‹é—´ä½¿ç”¨ï¼Œä½†æ˜¯æ›´èŠ‚çœèµ„æºï¼Œæ›´æœ‰æ•ˆç‡ã€‚\n4ã€ä¿¡å·é‡ï¼šå½“éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨æ¥é™åˆ¶å¯ä»¥ä½¿ç”¨æŸå…±äº«èµ„æºçš„çº¿ç¨‹æ•°ç›®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨â€œä¿¡å·é‡â€å¯¹è±¡ã€‚\nåŒºåˆ«ï¼š\näº’æ–¥é‡ä¸ä¸´ç•ŒåŒºçš„ä½œç”¨éå¸¸ç›¸ä¼¼ï¼Œä½†äº’æ–¥é‡æ˜¯å¯ä»¥å‘½åçš„ï¼Œä¹Ÿå°±æ˜¯è¯´äº’æ–¥é‡å¯ä»¥è·¨è¶Šè¿›ç¨‹ä½¿ç”¨ï¼Œä½†åˆ›å»ºäº’æ–¥é‡éœ€è¦çš„èµ„æºæ›´å¤šï¼Œæ‰€ä»¥å¦‚æœåªä¸ºäº†åœ¨è¿›ç¨‹å†…éƒ¨æ˜¯ç”¨çš„è¯ä½¿ç”¨ä¸´ç•ŒåŒºä¼šå¸¦æ¥é€Ÿåº¦ä¸Šçš„ä¼˜åŠ¿å¹¶èƒ½å¤Ÿå‡å°‘èµ„æºå ç”¨é‡ ã€‚å› ä¸ºäº’æ–¥é‡æ˜¯è·¨è¿›ç¨‹çš„äº’æ–¥é‡ä¸€æ—¦è¢«åˆ›å»ºï¼Œå°±å¯ä»¥é€šè¿‡åå­—æ‰“å¼€å®ƒã€‚ äº’æ–¥é‡ï¼Œä¿¡å·é‡ï¼Œäº‹ä»¶éƒ½å¯ä»¥è¢«è·¨è¶Šè¿›ç¨‹ä½¿ç”¨æ¥è¿›è¡ŒåŒæ­¥æ•°æ®æ“ä½œã€‚ *ä»€ä¹ˆæ˜¯ä¸´ç•ŒåŒºï¼Œå¦‚ä½•è§£å†³å†²çªï¼Ÿ*\næ¯ä¸ªè¿›ç¨‹ä¸­è®¿é—®ä¸´ç•Œèµ„æºçš„é‚£æ®µç¨‹åºç§°ä¸ºä¸´ç•ŒåŒºï¼Œä¸€æ¬¡ä»…å…è®¸ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºç§°ä¸ºä¸´ç•Œèµ„æºã€‚\nè§£å†³å†²çªçš„åŠæ³•ï¼š\nå¦‚æœæœ‰è‹¥å¹²è¿›ç¨‹è¦æ±‚è¿›å…¥ç©ºé—²çš„ä¸´ç•ŒåŒºï¼Œä¸€æ¬¡ä»…å…è®¸ä¸€ä¸ªè¿›ç¨‹è¿›å…¥ï¼Œå¦‚å·²æœ‰è¿›ç¨‹è¿›å…¥è‡ªå·±çš„ä¸´ç•ŒåŒºï¼Œåˆ™å…¶å®ƒæ‰€æœ‰è¯•å›¾è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼› è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹è¦åœ¨æœ‰é™æ—¶é—´å†…é€€å‡ºã€‚ å¦‚æœè¿›ç¨‹ä¸èƒ½è¿›å…¥è‡ªå·±çš„ä¸´ç•ŒåŒºï¼Œåˆ™åº”è®©å‡ºCPUï¼Œé¿å…è¿›ç¨‹å‡ºç°â€œå¿™ç­‰â€ç°è±¡ã€‚ *ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿæ­»é”äº§ç”Ÿçš„æ¡ä»¶ï¼Ÿ*\nä»€ä¹ˆæ˜¯æ­»é”ï¼š\nåœ¨ä¸¤ä¸ªæˆ–è€…å¤šä¸ªå¹¶å‘è¿›ç¨‹ä¸­ï¼Œå¦‚æœæ¯ä¸ªè¿›ç¨‹æŒæœ‰æŸç§èµ„æºè€Œåˆç­‰å¾…å…¶å®ƒè¿›ç¨‹é‡Šæ”¾å®ƒæˆ–å®ƒä»¬ç°åœ¨ä¿æŒç€çš„èµ„æºï¼Œåœ¨æœªæ”¹å˜è¿™ç§çŠ¶æ€ä¹‹å‰éƒ½ä¸èƒ½å‘å‰æ¨è¿›ï¼Œç§°è¿™ä¸€ç»„è¿›ç¨‹äº§ç”Ÿäº†æ­»é”ã€‚é€šä¿—çš„è®²å°±æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹æ— é™æœŸçš„é˜»å¡ã€ç›¸äº’ç­‰å¾…çš„ä¸€ç§çŠ¶æ€ã€‚\næ­»é”äº§ç”Ÿçš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼šï¼ˆæœ‰ä¸€ä¸ªæ¡ä»¶ä¸æˆç«‹ï¼Œåˆ™ä¸ä¼šäº§ç”Ÿæ­»é”ï¼‰\näº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºä¸€æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—èµ„æºä¿æŒä¸æ”¾ ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹è·å¾—çš„èµ„æºï¼Œåœ¨æœªå®Œå…¨ä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤º å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„ç¯å½¢ç­‰å¾…èµ„æºå…³ç³» å¦‚ä½•å¤„ç†æ­»é”é—®é¢˜ï¼š\nè§£å†³æ­»é”çš„æ–¹æ³•å¯ä»¥ä»å¤šä¸ªè§’åº¦å»åˆ†æï¼Œä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œæœ‰é¢„é˜²ï¼Œé¿å…ï¼Œæ£€æµ‹å’Œè§£é™¤å››ç§ã€‚\né¢„é˜² æ˜¯é‡‡ç”¨æŸç§ç­–ç•¥ï¼Œé™åˆ¶å¹¶å‘è¿›ç¨‹å¯¹èµ„æºçš„è¯·æ±‚ï¼Œä»è€Œä½¿å¾—æ­»é”çš„å¿…è¦æ¡ä»¶åœ¨ç³»ç»Ÿæ‰§è¡Œçš„ä»»ä½•æ—¶é—´ä¸Šéƒ½ä¸æ»¡è¶³ã€‚ é¿å…åˆ™æ˜¯ç³»ç»Ÿåœ¨åˆ†é…èµ„æºæ—¶ï¼Œæ ¹æ®èµ„æºçš„ä½¿ç”¨æƒ…å†µæå‰åšå‡ºé¢„æµ‹ï¼Œä»è€Œé¿å…æ­»é”çš„å‘ç”Ÿ æ£€æµ‹æ˜¯æŒ‡ç³»ç»Ÿè®¾æœ‰ä¸“é—¨çš„æœºæ„ï¼Œå½“æ­»é”å‘ç”Ÿæ—¶ï¼Œè¯¥æœºæ„èƒ½å¤Ÿæ£€æµ‹æ­»é”çš„å‘ç”Ÿï¼Œå¹¶ç²¾ç¡®åœ°ç¡®å®šä¸æ­»é”æœ‰å…³çš„è¿›ç¨‹å’Œèµ„æºã€‚ è§£é™¤ æ˜¯ä¸æ£€æµ‹ç›¸é…å¥—çš„ä¸€ç§æªæ–½ï¼Œç”¨äºå°†è¿›ç¨‹ä»æ­»é”çŠ¶æ€ä¸‹è§£è„±å‡ºæ¥ã€‚ *è¿›ç¨‹è°ƒåº¦ç­–ç•¥æœ‰å“ªå‡ ç§ï¼Ÿ*\nå…ˆæ¥å…ˆæœåŠ¡ï¼šéæŠ¢å å¼çš„è°ƒåº¦ç®—æ³•ï¼ŒæŒ‰ç…§è¯·æ±‚çš„é¡ºåºè¿›è¡Œè°ƒåº¦ã€‚æœ‰åˆ©äºé•¿ä½œä¸šï¼Œä½†ä¸åˆ©äºçŸ­ä½œä¸šï¼Œå› ä¸ºçŸ­ä½œä¸šå¿…é¡»ä¸€ç›´ç­‰å¾…å‰é¢çš„é•¿ä½œä¸šæ‰§è¡Œå®Œæ¯•æ‰èƒ½æ‰§è¡Œï¼Œè€Œé•¿ä½œä¸šåˆéœ€è¦æ‰§è¡Œå¾ˆé•¿æ—¶é—´ï¼Œé€ æˆäº†çŸ­ä½œä¸šç­‰å¾…æ—¶é—´è¿‡é•¿ã€‚å¦å¤–ï¼Œå¯¹I/Oå¯†é›†å‹è¿›ç¨‹ä¹Ÿä¸åˆ©ï¼Œå› ä¸ºè¿™ç§è¿›ç¨‹æ¯æ¬¡è¿›è¡ŒI/Oæ“ä½œä¹‹ååˆå¾—é‡æ–°æ’é˜Ÿã€‚\nçŸ­ä½œä¸šä¼˜å…ˆï¼šéæŠ¢å å¼çš„è°ƒåº¦ç®—æ³•ï¼ŒæŒ‰ä¼°è®¡è¿è¡Œæ—¶é—´æœ€çŸ­çš„é¡ºåºè¿›è¡Œè°ƒåº¦ã€‚é•¿ä½œä¸šæœ‰å¯èƒ½ä¼šé¥¿æ­»ï¼Œå¤„äºä¸€ç›´ç­‰å¾…çŸ­ä½œä¸šæ‰§è¡Œå®Œæ¯•çš„çŠ¶æ€ã€‚å› ä¸ºå¦‚æœä¸€ç›´æœ‰çŸ­ä½œä¸šåˆ°æ¥ï¼Œé‚£ä¹ˆé•¿ä½œä¸šæ°¸è¿œå¾—ä¸åˆ°è°ƒåº¦ã€‚\næœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆï¼šæœ€çŸ­ä½œä¸šä¼˜å…ˆçš„æŠ¢å å¼ç‰ˆæœ¬ï¼ŒæŒ‰å‰©ä½™è¿è¡Œæ—¶é—´çš„é¡ºåºè¿›è¡Œè°ƒåº¦ã€‚ å½“ä¸€ä¸ªæ–°çš„ä½œä¸šåˆ°è¾¾æ—¶ï¼Œå…¶æ•´ä¸ªè¿è¡Œæ—¶é—´ä¸å½“å‰è¿›ç¨‹çš„å‰©ä½™æ—¶é—´ä½œæ¯”è¾ƒã€‚å¦‚æœæ–°çš„è¿›ç¨‹éœ€è¦çš„æ—¶é—´æ›´å°‘ï¼Œåˆ™æŒ‚èµ·å½“å‰è¿›ç¨‹ï¼Œè¿è¡Œæ–°çš„è¿›ç¨‹ã€‚å¦åˆ™æ–°çš„è¿›ç¨‹ç­‰å¾…ã€‚\næ—¶é—´ç‰‡è½®è½¬ï¼šå°†æ‰€æœ‰å°±ç»ªè¿›ç¨‹æŒ‰ FCFS çš„åŸåˆ™æ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯æ¬¡è°ƒåº¦æ—¶ï¼ŒæŠŠ CPU æ—¶é—´åˆ†é…ç»™é˜Ÿé¦–è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹å¯ä»¥æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡ã€‚å½“æ—¶é—´ç‰‡ç”¨å®Œæ—¶ï¼Œç”±è®¡æ—¶å™¨å‘å‡ºæ—¶é’Ÿä¸­æ–­ï¼Œè°ƒåº¦ç¨‹åºä¾¿åœæ­¢è¯¥è¿›ç¨‹çš„æ‰§è¡Œï¼Œå¹¶å°†å®ƒé€å¾€å°±ç»ªé˜Ÿåˆ—çš„æœ«å°¾ï¼ŒåŒæ—¶ç»§ç»­æŠŠ CPU æ—¶é—´åˆ†é…ç»™é˜Ÿé¦–çš„è¿›ç¨‹ã€‚\næ—¶é—´ç‰‡è½®è½¬ç®—æ³•çš„æ•ˆç‡å’Œæ—¶é—´ç‰‡çš„å¤§å°æœ‰å¾ˆå¤§å…³ç³»ï¼šå› ä¸ºè¿›ç¨‹åˆ‡æ¢éƒ½è¦ä¿å­˜è¿›ç¨‹çš„ä¿¡æ¯å¹¶ä¸”è½½å…¥æ–°è¿›ç¨‹çš„ä¿¡æ¯ï¼Œå¦‚æœæ—¶é—´ç‰‡å¤ªå°ï¼Œä¼šå¯¼è‡´è¿›ç¨‹åˆ‡æ¢å¾—å¤ªé¢‘ç¹ï¼Œåœ¨è¿›ç¨‹åˆ‡æ¢ä¸Šå°±ä¼šèŠ±è¿‡å¤šæ—¶é—´ã€‚ è€Œå¦‚æœæ—¶é—´ç‰‡è¿‡é•¿ï¼Œé‚£ä¹ˆå®æ—¶æ€§å°±ä¸èƒ½å¾—åˆ°ä¿è¯ã€‚\nä¼˜å…ˆçº§è°ƒåº¦ï¼šä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ªä¼˜å…ˆçº§ï¼ŒæŒ‰ä¼˜å…ˆçº§è¿›è¡Œè°ƒåº¦ã€‚ä¸ºäº†é˜²æ­¢ä½ä¼˜å…ˆçº§çš„è¿›ç¨‹æ°¸è¿œç­‰ä¸åˆ°è°ƒåº¦ï¼Œå¯ä»¥éšç€æ—¶é—´çš„æ¨ç§»å¢åŠ ç­‰å¾…è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚\nå¤šçº§åé¦ˆé˜Ÿåˆ—ï¼Œæ ¹æ®é˜Ÿåˆ—é¢„æµ‹æœªæ¥ã€‚ æ¯”å¦‚ä¸çŸ¥é“è¿›ç¨‹çš„è¿è¡Œæ—¶é—´ï¼Œä¸çŸ¥é“è¿è¡Œå¯†é›†å‹ï¼Œè¿˜æ˜¯äº¤äº’å‹ã€‚æˆ‘ä»¬æƒ³è¦æŠŠäº¤äº’å‹çš„å“åº”æ—¶é—´è¦çŸ­ï¼Œè¿è¡Œå¯†é›†å‹è°ƒåº¦æ—¶é—´è¦å°‘ã€‚\n*ä»€ä¹ˆæ˜¯åˆ†é¡µï¼Ÿ*\næŠŠå†…å­˜ç©ºé—´åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰ä¸”å›ºå®šçš„å—ï¼Œä½œä¸ºä¸»å­˜çš„åŸºæœ¬å•ä½ã€‚å› ä¸ºç¨‹åºæ•°æ®å­˜å‚¨åœ¨ä¸åŒçš„é¡µé¢ä¸­ï¼Œè€Œé¡µé¢åˆç¦»æ•£çš„åˆ†å¸ƒåœ¨å†…å­˜ä¸­ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªé¡µè¡¨æ¥è®°å½•æ˜ å°„å…³ç³»ï¼Œä»¥å®ç°ä»é¡µå·åˆ°ç‰©ç†å—å·çš„æ˜ å°„ã€‚\nè®¿é—®åˆ†é¡µç³»ç»Ÿä¸­å†…å­˜æ•°æ®éœ€è¦ä¸¤æ¬¡çš„å†…å­˜è®¿é—® (ä¸€æ¬¡æ˜¯ä»å†…å­˜ä¸­è®¿é—®é¡µè¡¨ï¼Œä»ä¸­æ‰¾åˆ°æŒ‡å®šçš„ç‰©ç†å—å·ï¼ŒåŠ ä¸Šé¡µå†…åç§»å¾—åˆ°å®é™…ç‰©ç†åœ°å€ï¼›ç¬¬äºŒæ¬¡å°±æ˜¯æ ¹æ®ç¬¬ä¸€æ¬¡å¾—åˆ°çš„ç‰©ç†åœ°å€è®¿é—®å†…å­˜å–å‡ºæ•°æ®)ã€‚\nhttps://segmentfault.com/img/bVcSKjQ\nä»€ä¹ˆæ˜¯åˆ†æ®µï¼Ÿ\nåˆ†é¡µæ˜¯ä¸ºäº†æé«˜å†…å­˜åˆ©ç”¨ç‡ï¼Œè€Œåˆ†æ®µæ˜¯ä¸ºäº†æ»¡è¶³ç¨‹åºå‘˜åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™çš„ä¸€äº›é€»è¾‘éœ€æ±‚(æ¯”å¦‚æ•°æ®å…±äº«ï¼Œæ•°æ®ä¿æŠ¤ï¼ŒåŠ¨æ€é“¾æ¥ç­‰)ã€‚\nåˆ†æ®µå†…å­˜ç®¡ç†å½“ä¸­ï¼Œåœ°å€æ˜¯äºŒç»´çš„ï¼Œä¸€ç»´æ˜¯æ®µå·ï¼ŒäºŒç»´æ˜¯æ®µå†…åœ°å€ï¼›å…¶ä¸­æ¯ä¸ªæ®µçš„é•¿åº¦æ˜¯ä¸ä¸€æ ·çš„ï¼Œè€Œä¸”æ¯ä¸ªæ®µå†…éƒ¨éƒ½æ˜¯ä»0å¼€å§‹ç¼–å€çš„ã€‚ç”±äºåˆ†æ®µç®¡ç†ä¸­ï¼Œæ¯ä¸ªæ®µå†…éƒ¨æ˜¯è¿ç»­å†…å­˜åˆ†é…ï¼Œä½†æ˜¯æ®µå’Œæ®µä¹‹é—´æ˜¯ç¦»æ•£åˆ†é…çš„ï¼Œå› æ­¤ä¹Ÿå­˜åœ¨ä¸€ä¸ªé€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„å…³ç³»ï¼Œç›¸åº”çš„å°±æ˜¯æ®µè¡¨æœºåˆ¶ã€‚\nhttps://segmentfault.com/img/bVcSKjR\n*åˆ†é¡µå’Œåˆ†æ®µæœ‰ä»€åŒºåˆ«ï¼Ÿ*\nåˆ†é¡µå¯¹ç¨‹åºå‘˜æ˜¯é€æ˜çš„ï¼Œä½†æ˜¯åˆ†æ®µéœ€è¦ç¨‹åºå‘˜æ˜¾å¼åˆ’åˆ†æ¯ä¸ªæ®µã€‚ åˆ†é¡µçš„åœ°å€ç©ºé—´æ˜¯ä¸€ç»´åœ°å€ç©ºé—´ï¼Œåˆ†æ®µæ˜¯äºŒç»´çš„ã€‚ é¡µçš„å¤§å°ä¸å¯å˜ï¼Œæ®µçš„å¤§å°å¯ä»¥åŠ¨æ€æ”¹å˜ã€‚ åˆ†é¡µä¸»è¦ç”¨äºå®ç°è™šæ‹Ÿå†…å­˜ï¼Œä»è€Œè·å¾—æ›´å¤§çš„åœ°å€ç©ºé—´ï¼›åˆ†æ®µä¸»è¦æ˜¯ä¸ºäº†ä½¿ç¨‹åºå’Œæ•°æ®å¯ä»¥è¢«åˆ’åˆ†ä¸ºé€»è¾‘ä¸Šç‹¬ç«‹çš„åœ°å€ç©ºé—´å¹¶ä¸”æœ‰åŠ©äºå…±äº«å’Œä¿æŠ¤ã€‚ å¦ä¸€ä¸ªå›ç­”ï¼š\nå…±åŒç‚¹\nï¼š\nåˆ†é¡µæœºåˆ¶å’Œåˆ†æ®µæœºåˆ¶éƒ½æ˜¯ä¸ºäº†æé«˜å†…å­˜åˆ©ç”¨ç‡ï¼Œå‡å°‘å†…å­˜ç¢ç‰‡ã€‚ é¡µå’Œæ®µéƒ½æ˜¯ç¦»æ•£å­˜å‚¨çš„ï¼Œæ‰€ä»¥ä¸¤è€…éƒ½æ˜¯ç¦»æ•£åˆ†é…å†…å­˜çš„æ–¹å¼ã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªé¡µå’Œæ®µä¸­çš„å†…å­˜æ˜¯è¿ç»­çš„ã€‚ åŒºåˆ«\nï¼š\né¡µçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œç”±æ“ä½œç³»ç»Ÿå†³å®šï¼›è€Œæ®µçš„å¤§å°ä¸å›ºå®šï¼Œå–å†³äºæˆ‘ä»¬å½“å‰è¿è¡Œçš„ç¨‹åºã€‚ åˆ†é¡µä»…ä»…æ˜¯ä¸ºäº†æ»¡è¶³æ“ä½œç³»ç»Ÿå†…å­˜ç®¡ç†çš„éœ€æ±‚ï¼Œè€Œæ®µæ˜¯é€»è¾‘ä¿¡æ¯çš„å•ä½ï¼Œåœ¨ç¨‹åºä¸­å¯ä»¥ä½“ç°ä¸ºä»£ç æ®µï¼Œæ•°æ®æ®µï¼Œèƒ½å¤Ÿæ›´å¥½æ»¡è¶³ç”¨æˆ·çš„éœ€è¦ è‘—ä½œæƒå½’æ‰€æœ‰ åŸæ–‡é“¾æ¥ï¼šhttps://javaguide.cn/cs-basics/operating-system/operating-system-basic-questions-01.html\n*ä»€ä¹ˆæ˜¯äº¤æ¢ç©ºé—´ï¼Ÿ*\næ“ä½œç³»ç»ŸæŠŠç‰©ç†å†…å­˜(physical RAM)åˆ†æˆä¸€å—ä¸€å—çš„å°å†…å­˜ï¼Œæ¯ä¸€å—å†…å­˜è¢«ç§°ä¸ºé¡µ(page)ã€‚å½“å†…å­˜èµ„æºä¸è¶³æ—¶ï¼ŒLinuxæŠŠæŸäº›é¡µçš„å†…å®¹è½¬ç§»è‡³ç¡¬ç›˜ä¸Šçš„ä¸€å—ç©ºé—´ä¸Šï¼Œä»¥é‡Šæ”¾å†…å­˜ç©ºé—´ã€‚ç¡¬ç›˜ä¸Šçš„é‚£å—ç©ºé—´å«åšäº¤æ¢ç©ºé—´(swap space),è€Œè¿™ä¸€è¿‡ç¨‹è¢«ç§°ä¸ºäº¤æ¢(swapping)ã€‚ç‰©ç†å†…å­˜å’Œäº¤æ¢ç©ºé—´çš„æ€»å®¹é‡å°±æ˜¯è™šæ‹Ÿå†…å­˜çš„å¯ç”¨å®¹é‡ã€‚\nç”¨é€”ï¼š\nç‰©ç†å†…å­˜ä¸è¶³æ—¶ä¸€äº›ä¸å¸¸ç”¨çš„é¡µå¯ä»¥è¢«äº¤æ¢å‡ºå»ï¼Œè…¾ç»™ç³»ç»Ÿã€‚ ç¨‹åºå¯åŠ¨æ—¶å¾ˆå¤šå†…å­˜é¡µè¢«ç”¨æ¥åˆå§‹åŒ–ï¼Œä¹‹åä¾¿ä¸å†éœ€è¦ï¼Œå¯ä»¥äº¤æ¢å‡ºå»ã€‚ *é¡µé¢æ›¿æ¢ç®—æ³•æœ‰å“ªäº›ï¼Ÿ*\nåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœè¦è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜ä¸­ï¼Œå°±å‘ç”Ÿç¼ºé¡µä¸­æ–­ä»è€Œå°†è¯¥é¡µè°ƒå…¥å†…å­˜ä¸­ã€‚æ­¤æ—¶å¦‚æœå†…å­˜å·²æ— ç©ºé—²ç©ºé—´ï¼Œç³»ç»Ÿå¿…é¡»ä»å†…å­˜ä¸­è°ƒå‡ºä¸€ä¸ªé¡µé¢åˆ°ç£ç›˜å¯¹æ¢åŒºä¸­æ¥è…¾å‡ºç©ºé—´ã€‚\nåŒ…æ‹¬ä»¥ä¸‹ç®—æ³•ï¼š\næœ€ä½³ç®—æ³•ï¼šæ‰€é€‰æ‹©çš„è¢«æ¢å‡ºçš„é¡µé¢å°†æ˜¯æœ€é•¿æ—¶é—´å†…ä¸å†è¢«è®¿é—®ï¼Œé€šå¸¸å¯ä»¥ä¿è¯è·å¾—æœ€ä½çš„ç¼ºé¡µç‡ã€‚è¿™æ˜¯ä¸€ç§ç†è®ºä¸Šçš„ç®—æ³•ï¼Œå› ä¸ºæ— æ³•çŸ¥é“ä¸€ä¸ªé¡µé¢å¤šé•¿æ—¶é—´ä¸å†è¢«è®¿é—®ã€‚ å…ˆè¿›å…ˆå‡ºï¼šé€‰æ‹©æ¢å‡ºçš„é¡µé¢æ˜¯æœ€å…ˆè¿›å…¥çš„é¡µé¢ã€‚è¯¥ç®—æ³•å°†é‚£äº›ç»å¸¸è¢«è®¿é—®çš„é¡µé¢ä¹Ÿè¢«æ¢å‡ºï¼Œä»è€Œä½¿ç¼ºé¡µç‡å‡é«˜ã€‚ LRUï¼šè™½ç„¶æ— æ³•çŸ¥é“å°†æ¥è¦ä½¿ç”¨çš„é¡µé¢æƒ…å†µï¼Œä½†æ˜¯å¯ä»¥çŸ¥é“è¿‡å»ä½¿ç”¨é¡µé¢çš„æƒ…å†µã€‚LRU å°†æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨çš„é¡µé¢æ¢å‡ºã€‚ä¸ºäº†å®ç° LRUï¼Œéœ€è¦åœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€ä¸ªæ‰€æœ‰é¡µé¢çš„é“¾è¡¨ã€‚å½“ä¸€ä¸ªé¡µé¢è¢«è®¿é—®æ—¶ï¼Œå°†è¿™ä¸ªé¡µé¢ç§»åˆ°é“¾è¡¨è¡¨å¤´ã€‚è¿™æ ·å°±èƒ½ä¿è¯é“¾è¡¨è¡¨å°¾çš„é¡µé¢æ˜¯æœ€è¿‘æœ€ä¹…æœªè®¿é—®çš„ã€‚å› ä¸ºæ¯æ¬¡è®¿é—®éƒ½éœ€è¦æ›´æ–°é“¾è¡¨ï¼Œå› æ­¤è¿™ç§æ–¹å¼å®ç°çš„ LRU ä»£ä»·å¾ˆé«˜ã€‚ æ—¶é’Ÿç®—æ³•ï¼šæ—¶é’Ÿç®—æ³•ä½¿ç”¨ç¯å½¢é“¾è¡¨å°†é¡µé¢è¿æ¥èµ·æ¥ï¼Œå†ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æœ€è€çš„é¡µé¢ã€‚å®ƒå°†æ•´ä¸ªç¯å½¢é“¾è¡¨çš„æ¯ä¸€ä¸ªé¡µé¢åšä¸€ä¸ªæ ‡è®°ï¼Œå¦‚æœæ ‡è®°æ˜¯0ï¼Œé‚£ä¹ˆæš‚æ—¶å°±ä¸ä¼šè¢«æ›¿æ¢ï¼Œç„¶åæ—¶é’Ÿç®—æ³•éå†æ•´ä¸ªç¯ï¼Œé‡åˆ°æ ‡è®°ä¸º1çš„å°±æ›¿æ¢ï¼Œå¦åˆ™å°†æ ‡è®°ä¸º0çš„æ ‡è®°ä¸º1ã€‚ *ä»€ä¹ˆæ˜¯ç¼“å†²åŒºæº¢å‡ºï¼Ÿæœ‰ä»€ä¹ˆå±å®³ï¼Ÿ*\nç¼“å†²åŒºæº¢å‡ºæ˜¯æŒ‡å½“è®¡ç®—æœºå‘ç¼“å†²åŒºå¡«å……æ•°æ®æ—¶è¶…å‡ºäº†ç¼“å†²åŒºæœ¬èº«çš„å®¹é‡ï¼Œæº¢å‡ºçš„æ•°æ®è¦†ç›–åœ¨åˆæ³•æ•°æ®ä¸Šã€‚\nå±å®³æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š\nç¨‹åºå´©æºƒï¼Œå¯¼è‡´æ‹’ç»é¢æœåŠ¡ è·³è½¬å¹¶ä¸”æ‰§è¡Œä¸€æ®µæ¶æ„ä»£ç  é€ æˆç¼“å†²åŒºæº¢å‡ºçš„ä¸»è¦åŸå› æ˜¯ç¨‹åºä¸­æ²¡æœ‰ä»”ç»†æ£€æŸ¥ç”¨æˆ·è¾“å…¥ã€‚\n*ä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜ï¼Ÿ*\nè™šæ‹Ÿå†…å­˜å°±æ˜¯è¯´ï¼Œè®©ç‰©ç†å†…å­˜æ‰©å……æˆæ›´å¤§çš„é€»è¾‘å†…å­˜ï¼Œä»è€Œè®©ç¨‹åºè·å¾—æ›´å¤šçš„å¯ç”¨å†…å­˜ã€‚è™šæ‹Ÿå†…å­˜ä½¿ç”¨éƒ¨åˆ†åŠ è½½çš„æŠ€æœ¯ï¼Œè®©ä¸€ä¸ªè¿›ç¨‹æˆ–è€…èµ„æºçš„æŸäº›é¡µé¢åŠ è½½è¿›å†…å­˜ï¼Œä»è€Œèƒ½å¤ŸåŠ è½½æ›´å¤šçš„è¿›ç¨‹ï¼Œç”šè‡³èƒ½åŠ è½½æ¯”å†…å­˜å¤§çš„è¿›ç¨‹ï¼Œè¿™æ ·çœ‹èµ·æ¥å¥½åƒå†…å­˜å˜å¤§äº†ï¼Œè¿™éƒ¨åˆ†å†…å­˜å…¶å®åŒ…å«äº†ç£ç›˜æˆ–è€…ç¡¬ç›˜ï¼Œå¹¶ä¸”å°±å«åšè™šæ‹Ÿå†…å­˜ã€‚\n*è®²ä¸€è®²IOå¤šè·¯å¤ç”¨ï¼Ÿ*\nIOå¤šè·¯å¤ç”¨æ˜¯æŒ‡å†…æ ¸ä¸€æ—¦å‘ç°è¿›ç¨‹æŒ‡å®šçš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªIOæ¡ä»¶å‡†å¤‡è¯»å–ï¼Œå®ƒå°±é€šçŸ¥è¯¥è¿›ç¨‹ã€‚IOå¤šè·¯å¤ç”¨é€‚ç”¨å¦‚ä¸‹åœºåˆï¼š\nå½“å®¢æˆ·å¤„ç†å¤šä¸ªæè¿°å­—æ—¶ï¼ˆä¸€èˆ¬æ˜¯äº¤äº’å¼è¾“å…¥å’Œç½‘ç»œå¥—æ¥å£ï¼‰ï¼Œå¿…é¡»ä½¿ç”¨I/Oå¤ç”¨ã€‚ å½“ä¸€ä¸ªå®¢æˆ·åŒæ—¶å¤„ç†å¤šä¸ªå¥—æ¥å£æ—¶ï¼Œè€Œè¿™ç§æƒ…å†µæ˜¯å¯èƒ½çš„ï¼Œä½†å¾ˆå°‘å‡ºç°ã€‚ å¦‚æœä¸€ä¸ªTCPæœåŠ¡å™¨æ—¢è¦å¤„ç†ç›‘å¬å¥—æ¥å£ï¼Œåˆè¦å¤„ç†å·²è¿æ¥å¥—æ¥å£ï¼Œä¸€èˆ¬ä¹Ÿè¦ç”¨åˆ°I/Oå¤ç”¨ã€‚ å¦‚æœä¸€ä¸ªæœåŠ¡å™¨å³è¦å¤„ç†TCPï¼Œåˆè¦å¤„ç†UDPï¼Œä¸€èˆ¬è¦ä½¿ç”¨I/Oå¤ç”¨ã€‚ å¦‚æœä¸€ä¸ªæœåŠ¡å™¨è¦å¤„ç†å¤šä¸ªæœåŠ¡æˆ–å¤šä¸ªåè®®ï¼Œä¸€èˆ¬è¦ä½¿ç”¨I/Oå¤ç”¨ã€‚ ä¸å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹æŠ€æœ¯ç›¸æ¯”ï¼ŒI/Oå¤šè·¯å¤ç”¨æŠ€æœ¯çš„æœ€å¤§ä¼˜åŠ¿æ˜¯ç³»ç»Ÿå¼€é”€å°ï¼Œç³»ç»Ÿä¸å¿…åˆ›å»ºè¿›ç¨‹/çº¿ç¨‹ï¼Œä¹Ÿä¸å¿…ç»´æŠ¤è¿™äº›è¿›ç¨‹/çº¿ç¨‹ï¼Œä»è€Œå¤§å¤§å‡å°äº†ç³»ç»Ÿçš„å¼€é”€ã€‚ *ç¡¬é“¾æ¥å’Œè½¯é“¾æ¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ*\nç¡¬é“¾æ¥å°±æ˜¯åœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ¡ç›®ï¼Œè®°å½•ç€æ–‡ä»¶åä¸ inode ç¼–å·ï¼Œè¿™ä¸ª inode å°±æ˜¯æºæ–‡ä»¶çš„ inodeã€‚åˆ é™¤ä»»æ„ä¸€ä¸ªæ¡ç›®ï¼Œæ–‡ä»¶è¿˜æ˜¯å­˜åœ¨ï¼Œåªè¦å¼•ç”¨æ•°é‡ä¸ä¸º 0ã€‚ä½†æ˜¯ç¡¬é“¾æ¥æœ‰é™åˆ¶ï¼Œå®ƒä¸èƒ½è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿä¸èƒ½å¯¹ç›®å½•è¿›è¡Œé“¾æ¥ã€‚ ç¬¦å·é“¾æ¥æ–‡ä»¶ä¿å­˜ç€æºæ–‡ä»¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„ï¼Œåœ¨è¯»å–æ—¶ä¼šå®šä½åˆ°æºæ–‡ä»¶ä¸Šï¼Œå¯ä»¥ç†è§£ä¸º Windows çš„å¿«æ·æ–¹å¼ã€‚å½“æºæ–‡ä»¶è¢«åˆ é™¤äº†ï¼Œé“¾æ¥æ–‡ä»¶å°±æ‰“ä¸å¼€äº†ã€‚å› ä¸ºè®°å½•çš„æ˜¯è·¯å¾„ï¼Œæ‰€ä»¥å¯ä»¥ä¸ºç›®å½•å»ºç«‹ç¬¦å·é“¾æ¥ã€‚ ä¸­æ–­çš„å¤„ç†è¿‡ç¨‹?\nä¿æŠ¤ç°åœºï¼šå°†å½“å‰æ‰§è¡Œç¨‹åºçš„ç›¸å…³æ•°æ®ä¿å­˜åœ¨å¯„å­˜å™¨ä¸­ï¼Œç„¶åå…¥æ ˆã€‚ å¼€ä¸­æ–­ï¼šä»¥ä¾¿æ‰§è¡Œä¸­æ–­æ—¶èƒ½å“åº”è¾ƒé«˜çº§åˆ«çš„ä¸­æ–­è¯·æ±‚ã€‚ ä¸­æ–­å¤„ç† å…³ä¸­æ–­ï¼šä¿è¯æ¢å¤ç°åœºæ—¶ä¸è¢«æ–°ä¸­æ–­æ‰“æ‰° æ¢å¤ç°åœºï¼šä»å †æ ˆä¸­æŒ‰åºå–å‡ºç¨‹åºæ•°æ®ï¼Œæ¢å¤ä¸­æ–­å‰çš„æ‰§è¡ŒçŠ¶æ€ã€‚ *ä¸­æ–­å’Œè½®è¯¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ*\nè½®è¯¢ï¼šCPUå¯¹ç‰¹å®šè®¾å¤‡è½®æµè¯¢é—®ã€‚ä¸­æ–­ï¼šé€šè¿‡ç‰¹å®šäº‹ä»¶æé†’CPUã€‚ è½®è¯¢ï¼šæ•ˆç‡ä½ç­‰å¾…æ—¶é—´é•¿ï¼ŒCPUåˆ©ç”¨ç‡ä¸é«˜ã€‚ä¸­æ–­ï¼šå®¹æ˜“é—æ¼é—®é¢˜ï¼ŒCPUåˆ©ç”¨ç‡ä¸é«˜ã€‚ **ä»€ä¹ˆæ˜¯ç³»ç»Ÿè°ƒç”¨å‘¢ï¼Ÿ**èƒ½ä¸èƒ½è¯¦ç»†ä»‹ç»ä¸€ä¸‹ã€‚\nä»‹ç»ç³»ç»Ÿè°ƒç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ç”¨æˆ·æ€å’Œç³»ç»Ÿæ€ã€‚\næ ¹æ®è¿›ç¨‹è®¿é—®èµ„æºçš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿›ç¨‹åœ¨ç³»ç»Ÿä¸Šçš„è¿è¡Œåˆ†ä¸ºä¸¤ä¸ªçº§åˆ«ï¼š\nç”¨æˆ·æ€(user mode) : ç”¨æˆ·æ€è¿è¡Œçš„è¿›ç¨‹å¯ä»¥ç›´æ¥è¯»å–ç”¨æˆ·ç¨‹åºçš„æ•°æ®ã€‚ ç³»ç»Ÿæ€(kernel mode):å¯ä»¥ç®€å•çš„ç†è§£ç³»ç»Ÿæ€è¿è¡Œçš„è¿›ç¨‹æˆ–ç¨‹åºå‡ ä¹å¯ä»¥è®¿é—®è®¡ç®—æœºçš„ä»»ä½•èµ„æºï¼Œä¸å—é™åˆ¶ã€‚ è¯´äº†ç”¨æˆ·æ€å’Œç³»ç»Ÿæ€ä¹‹åï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯ç³»ç»Ÿè°ƒç”¨å‘¢ï¼Ÿ\næˆ‘ä»¬è¿è¡Œçš„ç¨‹åºåŸºæœ¬éƒ½æ˜¯è¿è¡Œåœ¨ç”¨æˆ·æ€ï¼Œå¦‚æœæˆ‘ä»¬è°ƒç”¨æ“ä½œç³»ç»Ÿæä¾›çš„ç³»ç»Ÿæ€çº§åˆ«çš„å­åŠŸèƒ½å’‹åŠå‘¢ï¼Ÿé‚£å°±éœ€è¦ç³»ç»Ÿè°ƒç”¨äº†ï¼\nä¹Ÿå°±æ˜¯è¯´åœ¨æˆ‘ä»¬è¿è¡Œçš„ç”¨æˆ·ç¨‹åºä¸­ï¼Œå‡¡æ˜¯ä¸ç³»ç»Ÿæ€çº§åˆ«çš„èµ„æºæœ‰å…³çš„æ“ä½œï¼ˆå¦‚æ–‡ä»¶ç®¡ç†ã€è¿›ç¨‹æ§åˆ¶ã€å†…å­˜ç®¡ç†ç­‰)ï¼Œéƒ½å¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ–¹å¼å‘æ“ä½œç³»ç»Ÿæå‡ºæœåŠ¡è¯·æ±‚ï¼Œå¹¶ç”±æ“ä½œç³»ç»Ÿä»£ä¸ºå®Œæˆã€‚\nè¿™äº›ç³»ç»Ÿè°ƒç”¨æŒ‰åŠŸèƒ½å¤§è‡´å¯åˆ†ä¸ºå¦‚ä¸‹å‡ ç±»ï¼š\nè®¾å¤‡ç®¡ç†ã€‚å®Œæˆè®¾å¤‡çš„è¯·æ±‚æˆ–é‡Šæ”¾ï¼Œä»¥åŠè®¾å¤‡å¯åŠ¨ç­‰åŠŸèƒ½ã€‚ æ–‡ä»¶ç®¡ç†ã€‚å®Œæˆæ–‡ä»¶çš„è¯»ã€å†™ã€åˆ›å»ºåŠåˆ é™¤ç­‰åŠŸèƒ½ã€‚ è¿›ç¨‹æ§åˆ¶ã€‚å®Œæˆè¿›ç¨‹çš„åˆ›å»ºã€æ’¤é”€ã€é˜»å¡åŠå”¤é†’ç­‰åŠŸèƒ½ã€‚ è¿›ç¨‹é€šä¿¡ã€‚å®Œæˆè¿›ç¨‹ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’æˆ–ä¿¡å·ä¼ é€’ç­‰åŠŸèƒ½ã€‚ å†…å­˜ç®¡ç†ã€‚å®Œæˆå†…å­˜çš„åˆ†é…ã€å›æ”¶ä»¥åŠè·å–ä½œä¸šå ç”¨å†…å­˜åŒºå¤§å°åŠåœ°å€ç­‰åŠŸèƒ½ã€‚ è‘—ä½œæƒå½’æ‰€æœ‰ åŸæ–‡é“¾æ¥ï¼šhttps://javaguide.cn/cs-basics/operating-system/operating-system-basic-questions-01.html\næ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†ä¸»è¦æ˜¯åšä»€ä¹ˆï¼Ÿ\næ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†ä¸»è¦è´Ÿè´£å†…å­˜çš„åˆ†é…ä¸å›æ”¶ï¼ˆmalloc å‡½æ•°ï¼šç”³è¯·å†…å­˜ï¼Œfree å‡½æ•°ï¼šé‡Šæ”¾å†…å­˜ï¼‰ï¼Œå¦å¤–åœ°å€è½¬æ¢ä¹Ÿå°±æ˜¯å°†é€»è¾‘åœ°å€è½¬æ¢æˆç›¸åº”çš„ç‰©ç†åœ°å€ç­‰åŠŸèƒ½ä¹Ÿæ˜¯æ“ä½œç³»ç»Ÿå†…å­˜ç®¡ç†åšçš„äº‹æƒ…\n*å±€éƒ¨æ€§åŸç†*\nå±€éƒ¨æ€§åŸç†æ˜¯è™šæ‹Ÿå†…å­˜æŠ€æœ¯çš„åŸºç¡€ï¼Œæ­£æ˜¯å› ä¸ºç¨‹åºè¿è¡Œå…·æœ‰å±€éƒ¨æ€§åŸç†ï¼Œæ‰å¯ä»¥åªè£…å…¥éƒ¨åˆ†ç¨‹åºåˆ°å†…å­˜å°±å¼€å§‹è¿è¡Œã€‚\nä»¥ä¸‹å†…å®¹æ‘˜è‡ªã€Šè®¡ç®—æœºæ“ä½œç³»ç»Ÿæ•™ç¨‹ã€‹ ç¬¬ 4 ç« å­˜å‚¨å™¨ç®¡ç†ã€‚\næ—©åœ¨ 1968 å¹´çš„æ—¶å€™ï¼Œå°±æœ‰äººæŒ‡å‡ºæˆ‘ä»¬çš„ç¨‹åºåœ¨æ‰§è¡Œçš„æ—¶å€™å¾€å¾€å‘ˆç°å±€éƒ¨æ€§è§„å¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æŸä¸ªè¾ƒçŸ­çš„æ—¶é—´æ®µå†…ï¼Œç¨‹åºæ‰§è¡Œå±€é™äºæŸä¸€å°éƒ¨åˆ†ï¼Œç¨‹åºè®¿é—®çš„å­˜å‚¨ç©ºé—´ä¹Ÿå±€é™äºæŸä¸ªåŒºåŸŸã€‚\nå±€éƒ¨æ€§åŸç†è¡¨ç°åœ¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š\næ—¶é—´å±€éƒ¨æ€§ ï¼šå¦‚æœç¨‹åºä¸­çš„æŸæ¡æŒ‡ä»¤ä¸€æ—¦æ‰§è¡Œï¼Œä¸ä¹…ä»¥åè¯¥æŒ‡ä»¤å¯èƒ½å†æ¬¡æ‰§è¡Œï¼›å¦‚æœæŸæ•°æ®è¢«è®¿é—®è¿‡ï¼Œä¸ä¹…ä»¥åè¯¥æ•°æ®å¯èƒ½å†æ¬¡è¢«è®¿é—®ã€‚äº§ç”Ÿæ—¶é—´å±€éƒ¨æ€§çš„å…¸å‹åŸå› ï¼Œæ˜¯ç”±äºåœ¨ç¨‹åºä¸­å­˜åœ¨ç€å¤§é‡çš„å¾ªç¯æ“ä½œã€‚ ç©ºé—´å±€éƒ¨æ€§ ï¼šä¸€æ—¦ç¨‹åºè®¿é—®äº†æŸä¸ªå­˜å‚¨å•å…ƒï¼Œåœ¨ä¸ä¹…ä¹‹åï¼Œå…¶é™„è¿‘çš„å­˜å‚¨å•å…ƒä¹Ÿå°†è¢«è®¿é—®ï¼Œå³ç¨‹åºåœ¨ä¸€æ®µæ—¶é—´å†…æ‰€è®¿é—®çš„åœ°å€ï¼Œå¯èƒ½é›†ä¸­åœ¨ä¸€å®šçš„èŒƒå›´ä¹‹å†…ï¼Œè¿™æ˜¯å› ä¸ºæŒ‡ä»¤é€šå¸¸æ˜¯é¡ºåºå­˜æ”¾ã€é¡ºåºæ‰§è¡Œçš„ï¼Œæ•°æ®ä¹Ÿä¸€èˆ¬æ˜¯ä»¥å‘é‡ã€æ•°ç»„ã€è¡¨ç­‰å½¢å¼ç°‡èšå­˜å‚¨çš„ã€‚ æ—¶é—´å±€éƒ¨æ€§æ˜¯é€šè¿‡å°†è¿‘æ¥ä½¿ç”¨çš„æŒ‡ä»¤å’Œæ•°æ®ä¿å­˜åˆ°é«˜é€Ÿç¼“å­˜å­˜å‚¨å™¨ä¸­ï¼Œå¹¶ä½¿ç”¨é«˜é€Ÿç¼“å­˜çš„å±‚æ¬¡ç»“æ„å®ç°ã€‚ç©ºé—´å±€éƒ¨æ€§é€šå¸¸æ˜¯ä½¿ç”¨è¾ƒå¤§çš„é«˜é€Ÿç¼“å­˜ï¼Œå¹¶å°†é¢„å–æœºåˆ¶é›†æˆåˆ°é«˜é€Ÿç¼“å­˜æ§åˆ¶é€»è¾‘ä¸­å®ç°ã€‚è™šæ‹Ÿå†…å­˜æŠ€æœ¯å®é™…ä¸Šå°±æ˜¯å»ºç«‹äº† â€œå†…å­˜ä¸€å¤–å­˜â€çš„ä¸¤çº§å­˜å‚¨å™¨çš„ç»“æ„ï¼Œåˆ©ç”¨å±€éƒ¨æ€§åŸç†å®ç°é«™é€Ÿç¼“å­˜\nè‘—ä½œæƒå½’æ‰€æœ‰ åŸæ–‡é“¾æ¥ï¼šhttps://javaguide.cn/cs-basics/operating-system/operating-system-basic-questions-01.html\nä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜(Virtual Memory)?\nè¿™ä¸ªåœ¨æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨ç”µè„‘ç‰¹åˆ«æ˜¯ Windows ç³»ç»Ÿçš„æ—¶å€™å¤ªå¸¸è§äº†ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä½¿ç”¨äº†å¾ˆå¤šå å†…å­˜çš„è½¯ä»¶ï¼Œè¿™äº›è½¯ä»¶å ç”¨çš„å†…å­˜å¯èƒ½å·²ç»è¿œè¿œè¶…å‡ºäº†æˆ‘ä»¬ç”µè„‘æœ¬èº«å…·æœ‰çš„ç‰©ç†å†…å­˜ã€‚ä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·å‘¢ï¼Ÿ æ­£æ˜¯å› ä¸º è™šæ‹Ÿå†…å­˜ çš„å­˜åœ¨ï¼Œé€šè¿‡ è™šæ‹Ÿå†…å­˜ å¯ä»¥è®©ç¨‹åºæ‹¥æœ‰è¶…è¿‡ç³»ç»Ÿç‰©ç†å†…å­˜å¤§å°çš„å¯ç”¨å†…å­˜ç©ºé—´ã€‚å¦å¤–ï¼Œè™šæ‹Ÿå†…å­˜ä¸ºæ¯ä¸ªè¿›ç¨‹æä¾›äº†ä¸€ä¸ªä¸€è‡´çš„ã€ç§æœ‰çš„åœ°å€ç©ºé—´ï¼Œå®ƒè®©æ¯ä¸ªè¿›ç¨‹äº§ç”Ÿäº†ä¸€ç§è‡ªå·±åœ¨ç‹¬äº«ä¸»å­˜çš„é”™è§‰ï¼ˆæ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰ä¸€ç‰‡è¿ç»­å®Œæ•´çš„å†…å­˜ç©ºé—´ï¼‰ã€‚è¿™æ ·ä¼šæ›´åŠ æœ‰æ•ˆåœ°ç®¡ç†å†…å­˜å¹¶å‡å°‘å‡ºé”™ã€‚\nè™šæ‹Ÿå†…å­˜æ˜¯è®¡ç®—æœºç³»ç»Ÿå†…å­˜ç®¡ç†çš„ä¸€ç§æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è®¾ç½®è‡ªå·±ç”µè„‘çš„è™šæ‹Ÿå†…å­˜ã€‚ä¸è¦å•çº¯è®¤ä¸ºè™šæ‹Ÿå†…å­˜åªæ˜¯â€œä½¿ç”¨ç¡¬ç›˜ç©ºé—´æ¥æ‰©å±•å†…å­˜â€œçš„æŠ€æœ¯ã€‚è™šæ‹Ÿå†…å­˜çš„é‡è¦æ„ä¹‰æ˜¯å®ƒå®šä¹‰äº†ä¸€ä¸ªè¿ç»­çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œå¹¶ä¸” æŠŠå†…å­˜æ‰©å±•åˆ°ç¡¬ç›˜ç©ºé—´ã€‚æ¨èé˜…è¯»ï¼šã€Šè™šæ‹Ÿå†…å­˜çš„é‚£ç‚¹äº‹å„¿ã€‹open in new window\nç»´åŸºç™¾ç§‘ä¸­æœ‰å‡ å¥è¯æ˜¯è¿™æ ·ä»‹ç»è™šæ‹Ÿå†…å­˜çš„ã€‚\nè™šæ‹Ÿå†…å­˜ ä½¿å¾—åº”ç”¨ç¨‹åºè®¤ä¸ºå®ƒæ‹¥æœ‰è¿ç»­çš„å¯ç”¨çš„å†…å­˜ï¼ˆä¸€ä¸ªè¿ç»­å®Œæ•´çš„åœ°å€ç©ºé—´ï¼‰ï¼Œè€Œå®é™…ä¸Šï¼Œå®ƒé€šå¸¸æ˜¯è¢«åˆ†éš”æˆå¤šä¸ªç‰©ç†å†…å­˜ç¢ç‰‡ï¼Œè¿˜æœ‰éƒ¨åˆ†æš‚æ—¶å­˜å‚¨åœ¨å¤–éƒ¨ç£ç›˜å­˜å‚¨å™¨ä¸Šï¼Œåœ¨éœ€è¦æ—¶è¿›è¡Œæ•°æ®äº¤æ¢ã€‚ä¸æ²¡æœ‰ä½¿ç”¨è™šæ‹Ÿå†…å­˜æŠ€æœ¯çš„ç³»ç»Ÿç›¸æ¯”ï¼Œä½¿ç”¨è¿™ç§æŠ€æœ¯çš„ç³»ç»Ÿä½¿å¾—å¤§å‹ç¨‹åºçš„ç¼–å†™å˜å¾—æ›´å®¹æ˜“ï¼Œå¯¹çœŸæ­£çš„ç‰©ç†å†…å­˜ï¼ˆä¾‹å¦‚ RAMï¼‰çš„ä½¿ç”¨ä¹Ÿæ›´æœ‰æ•ˆç‡ã€‚ç›®å‰ï¼Œå¤§å¤šæ•°æ“ä½œç³»ç»Ÿéƒ½ä½¿ç”¨äº†è™šæ‹Ÿå†…å­˜ï¼Œå¦‚ Windows å®¶æ—çš„â€œè™šæ‹Ÿå†…å­˜â€ï¼›Linux çš„â€œäº¤æ¢ç©ºé—´â€ç­‰ã€‚From:https://zh.wikipedia.org/wiki/è™šæ‹Ÿå†…å­˜\nè‘—ä½œæƒå½’æ‰€æœ‰ åŸæ–‡é“¾æ¥ï¼šhttps://javaguide.cn/cs-basics/operating-system/operating-system-basic-questions-01.html\nè™šæ‹Ÿå†…å­˜æŠ€æœ¯çš„å®ç°å‘¢ï¼Ÿ\nè™šæ‹Ÿå†…å­˜çš„å®ç°éœ€è¦å»ºç«‹åœ¨ç¦»æ•£åˆ†é…çš„å†…å­˜ç®¡ç†æ–¹å¼çš„åŸºç¡€ä¸Šã€‚ è™šæ‹Ÿå†…å­˜çš„å®ç°æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š\nè¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç† ï¼šå»ºç«‹åœ¨åˆ†é¡µç®¡ç†ä¹‹ä¸Šï¼Œä¸ºäº†æ”¯æŒè™šæ‹Ÿå­˜å‚¨å™¨åŠŸèƒ½è€Œå¢åŠ äº†è¯·æ±‚è°ƒé¡µåŠŸèƒ½å’Œé¡µé¢ç½®æ¢åŠŸèƒ½ã€‚è¯·æ±‚åˆ†é¡µæ˜¯ç›®å‰æœ€å¸¸ç”¨çš„ä¸€ç§å®ç°è™šæ‹Ÿå­˜å‚¨å™¨çš„æ–¹æ³•ã€‚è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†ç³»ç»Ÿä¸­ï¼Œåœ¨ä½œä¸šå¼€å§‹è¿è¡Œä¹‹å‰ï¼Œä»…è£…å…¥å½“å‰è¦æ‰§è¡Œçš„éƒ¨åˆ†æ®µå³å¯è¿è¡Œã€‚å‡å¦‚åœ¨ä½œä¸šè¿è¡Œçš„è¿‡ç¨‹ä¸­å‘ç°è¦è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜ï¼Œåˆ™ç”±å¤„ç†å™¨é€šçŸ¥æ“ä½œç³»ç»ŸæŒ‰ç…§å¯¹åº”çš„é¡µé¢ç½®æ¢ç®—æ³•å°†ç›¸åº”çš„é¡µé¢è°ƒå…¥åˆ°ä¸»å­˜ï¼ŒåŒæ—¶æ“ä½œç³»ç»Ÿä¹Ÿå¯ä»¥å°†æš‚æ—¶ä¸ç”¨çš„é¡µé¢ç½®æ¢åˆ°å¤–å­˜ä¸­ã€‚ è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç† ï¼šå»ºç«‹åœ¨åˆ†æ®µå­˜å‚¨ç®¡ç†ä¹‹ä¸Šï¼Œå¢åŠ äº†è¯·æ±‚è°ƒæ®µåŠŸèƒ½ã€åˆ†æ®µç½®æ¢åŠŸèƒ½ã€‚è¯·æ±‚åˆ†æ®µå‚¨å­˜ç®¡ç†æ–¹å¼å°±å¦‚åŒè¯·æ±‚åˆ†é¡µå‚¨å­˜ç®¡ç†æ–¹å¼ä¸€æ ·ï¼Œåœ¨ä½œä¸šå¼€å§‹è¿è¡Œä¹‹å‰ï¼Œä»…è£…å…¥å½“å‰è¦æ‰§è¡Œçš„éƒ¨åˆ†æ®µå³å¯è¿è¡Œï¼›åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä½¿ç”¨è¯·æ±‚è°ƒå…¥ä¸­æ–­åŠ¨æ€è£…å…¥è¦è®¿é—®ä½†åˆä¸åœ¨å†…å­˜çš„ç¨‹åºæ®µï¼›å½“å†…å­˜ç©ºé—´å·²æ»¡ï¼Œè€Œåˆéœ€è¦è£…å…¥æ–°çš„æ®µæ—¶ï¼Œæ ¹æ®ç½®æ¢åŠŸèƒ½é€‚å½“è°ƒå‡ºæŸä¸ªæ®µï¼Œä»¥ä¾¿è…¾å‡ºç©ºé—´è€Œè£…å…¥æ–°çš„æ®µã€‚ è¯·æ±‚æ®µé¡µå¼å­˜å‚¨ç®¡ç† è¿™é‡Œå¤šè¯´ä¸€ä¸‹ï¼Ÿå¾ˆå¤šäººå®¹æ˜“ææ··è¯·æ±‚åˆ†é¡µä¸åˆ†é¡µå­˜å‚¨ç®¡ç†ï¼Œä¸¤è€…æœ‰ä½•ä¸åŒå‘¢ï¼Ÿ\nè¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†å»ºç«‹åœ¨åˆ†é¡µç®¡ç†ä¹‹ä¸Šã€‚ä»–ä»¬çš„æ ¹æœ¬åŒºåˆ«æ˜¯æ˜¯å¦å°†ç¨‹åºæ‰€éœ€çš„å…¨éƒ¨åœ°å€ç©ºé—´éƒ½è£…å…¥ä¸»å­˜ï¼Œè¿™ä¹Ÿæ˜¯è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†å¯ä»¥æä¾›è™šæ‹Ÿå†…å­˜çš„åŸå› ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»åˆ†æè¿‡äº†ã€‚\nå®ƒä»¬ä¹‹é—´çš„æ ¹æœ¬åŒºåˆ«åœ¨äºæ˜¯å¦å°†ä¸€ä½œä¸šçš„å…¨éƒ¨åœ°å€ç©ºé—´åŒæ—¶è£…å…¥ä¸»å­˜ã€‚è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†ä¸è¦æ±‚å°†ä½œä¸šå…¨éƒ¨åœ°å€ç©ºé—´åŒæ—¶è£…å…¥ä¸»å­˜ã€‚åŸºäºè¿™ä¸€ç‚¹ï¼Œè¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†å¯ä»¥æä¾›è™šå­˜ï¼Œè€Œåˆ†é¡µå­˜å‚¨ç®¡ç†å´ä¸èƒ½æä¾›è™šå­˜ã€‚\nä¸ç®¡æ˜¯ä¸Šé¢é‚£ç§å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½éœ€è¦ï¼š\nä¸€å®šå®¹é‡çš„å†…å­˜å’Œå¤–å­˜ï¼šåœ¨è½½å…¥ç¨‹åºçš„æ—¶å€™ï¼Œåªéœ€è¦å°†ç¨‹åºçš„ä¸€éƒ¨åˆ†è£…å…¥å†…å­˜ï¼Œè€Œå°†å…¶ä»–éƒ¨åˆ†ç•™åœ¨å¤–å­˜ï¼Œç„¶åç¨‹åºå°±å¯ä»¥æ‰§è¡Œäº†ï¼› ç¼ºé¡µä¸­æ–­ï¼šå¦‚æœéœ€æ‰§è¡Œçš„æŒ‡ä»¤æˆ–è®¿é—®çš„æ•°æ®å°šæœªåœ¨å†…å­˜ï¼ˆç§°ä¸ºç¼ºé¡µæˆ–ç¼ºæ®µï¼‰ï¼Œåˆ™ç”±å¤„ç†å™¨é€šçŸ¥æ“ä½œç³»ç»Ÿå°†ç›¸åº”çš„é¡µé¢æˆ–æ®µè°ƒå…¥åˆ°å†…å­˜ï¼Œç„¶åç»§ç»­æ‰§è¡Œç¨‹åºï¼› è™šæ‹Ÿåœ°å€ç©ºé—´ ï¼šé€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„å˜æ¢ã€‚ è‘—ä½œæƒå½’æ‰€æœ‰ åŸæ–‡é“¾æ¥ï¼šhttps://javaguide.cn/cs-basics/operating-system/operating-system-basic-questions-01.html\nä»€ä¹ˆæ˜¯é“¶è¡Œå®¶ç®—æ³•ï¼Ÿæ˜¯ä¸æ˜¯å¯ä»¥æŠŠå…¶ä»–ç®—æ³•éƒ½æ‹‰å‡ºæ¥çœ‹çœ‹\né“¶è¡Œå®¶ç®—æ³•æ˜¯ä¸€ç§æœ€æœ‰ä»£è¡¨æ€§çš„é¿å…æ­»é”çš„ç®—æ³•ã€‚åœ¨é¿å…æ­»é”æ–¹æ³•ä¸­å…è®¸è¿›ç¨‹åŠ¨æ€åœ°ç”³è¯·èµ„æºï¼Œä½†ç³»ç»Ÿåœ¨è¿›è¡Œèµ„æºåˆ†é…ä¹‹å‰ï¼Œåº”å…ˆè®¡ç®—æ­¤æ¬¡åˆ†é…èµ„æºçš„å®‰å…¨æ€§ï¼Œè‹¥åˆ†é…ä¸ä¼šå¯¼è‡´ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œåˆ™åˆ†é…ï¼Œå¦åˆ™ç­‰å¾…ã€‚ä¸ºå®ç°é“¶è¡Œå®¶ç®—æ³•ï¼Œç³»ç»Ÿå¿…é¡»è®¾ç½®è‹¥å¹²æ•°æ®ç»“æ„ã€‚å®‰å…¨çš„çŠ¶æ€æŒ‡çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹åºåˆ—{P1,P2,\u0026hellip;Pn}ï¼Œå¯¹äºæ¯ä¸€ä¸ªè¿›ç¨‹Piï¼Œå®ƒä»¥åå°šéœ€è¦çš„èµ„æºä¸å¤§äºå½“å‰èµ„æºå‰©ä½™é‡å’Œå…¶ä½™è¿›ç¨‹æ‰€å æœ‰çš„èµ„æºé‡ä¹‹å’Œã€‚\nå‚è€ƒï¼š\n","permalink":"https://omgkill.github.io/post/system/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/","tags":["operation system","knowledge summary"],"title":"æ“ä½œç³»ç»Ÿé¢è¯•é¢˜"},{"categories":["linux"],"contents":" è¾“å‡ºç±»å‹\n/dev/stderr ä»£è¡¨æ ‡å‡†é”™è¯¯ /dev/stdin è¾“å‡ºå¯ä»¥ç”¨ - /dev/stdout ä»£è¡¨æ ‡å‡†è¾“å‡º è¾“å‡ºç¬¦å·æ„ä¹‰ \u0026gt; è¡¨ç¤ºå…ˆæ¸…ç©ºæ–‡ä»¶ï¼Œç„¶åå†å†™å†…å®¹ \u0026gt;\u0026gt; è¡¨ç¤ºå†…å®¹è¿½åŠ åˆ°ç°æœ‰æ–‡ä»¶çš„å°¾éƒ¨\n/dev/null æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è®¾å¤‡æ–‡ä»¶ï¼Œå®ƒæ¥æ”¶çš„ä»»ä½•æ•°æ®éƒ½ä¼šä¸¢å¼ƒ\nå°†è„šæœ¬å†…éƒ¨çš„æ–‡æœ¬å—è¿›è¡Œé‡å®šå‘\n1#! /bin/base 2cat \u0026lt;\u0026lt;EOF\u0026gt;\u0026gt; log.txt 3LOG FILE HEADER 4this is a test log file 5Function: System statics 6EOF \u0026lt; ä»æ–‡ä»¶è¯»å–stdin \u0026gt; æ“ä½œç¬¦ï¼Œç”¨äºæˆªæ–­æ¨¡å¼çš„æ–‡ä»¶å†™å…¥ \u0026gt;\u0026gt; æ“ä½œè¿½åŠ æ¨¡å¼çš„æ–‡ä»¶å†™å…¥ find å‘½ä»¤\n11. æŸ¥æ‰¾æ™®é€šæ¨¡å¼ find . -name(-iname å¿½ç•¥å¤§å°å†™) \u0026#39;aa.txt\u0026#39; 2 find . -name \u0026#39;a*\u0026#39; 3 ç‚¹ä»£è¡¨å½“å‰ç›®å½•ï¼Œä¸¤ä¸ªç‚¹ä»£è¡¨çˆ¶æ¯ç›®å½•ï¼Œ/ ä»£è¡¨æ ¹ç›®å½• 4 2. æ›´å¥½çš„æ–¹æ³• 5 æŸ¥æ‰¾ç›®å½• find . -type d -print 6 æŸ¥æ‰¾æ–‡ä»¶ find . -type f -print 7 å¦‚æœæƒ³çœ‹æ›´å¤šï¼Œå¦‚æƒé™ç­‰ã€‚åŠ  |xargs ls -l è¯´æ˜ï¼šhttps://www.cnblogs.com/kilometerwine/p/9872265.html 8 3. æ”¯æŒ ä¸/æˆ–é€»è¾‘ find . \\(-name \u0026#39;*.txt\u0026#39; -o -name \u0026#39;*.pdf\u0026#39;\\) -print 9 -a å°± 10 4. find /home/users -path \u0026#39;*/slynux/*\u0026#39; -name \u0026#39;*.txt\u0026#39; -print 11 5. åŸºäºæ­£åˆ™è¡¨è¾¾å¼ 12 find . -regex \u0026#39;.*\\.(py\\|sh\\)$\u0026#39; 13 -iregex å¿½ç•¥å¤§å°å†™ 14 find . -iregex \u0026#39;.*\\(\\.py\\|\\.sh\\)$\u0026#39; 15 6. å¦å®šå‚æ•° 16 find . ! -name \u0026#34;*.txt\u0026#34; -print 17 7. åŸºäºç›®å½•æ·±åº¦çš„æœç´¢ 18 find -L /proc -maxdepth 1 -name \u0026#39;bundlemaker.def\u0026#39; 2 \u0026gt; /dev/null 19 8. æ–‡ä»¶ç±»å‹ æ™®é€šæ–‡ä»¶\u0026lt;=\u0026gt; f | ç¬¦å·é“¾æ¥ \u0026lt;=\u0026gt; l | ç›®å½• -\u0026gt; d | å­—ç¬¦è®¾å¤‡ -\u0026gt; c 20 å—è®¾å¤‡ -\u0026gt; b | å¥—æ¥å­— -\u0026gt; s | FIFO -\u0026gt; p 21 9. æ ¹æ® æ–‡ä»¶çš„æ—¶é—´æˆ³è¿›è¡Œæœç´¢ 22 è®¿é—®æ—¶é—´ -atime 23 ä¿®æ”¹æ—¶é—´ -mtime 24 å˜åŒ–æ—¶é—´ -ctime 25 7å¤©å†…è®¿é—® find . -type f -atime -7 -print 26 7å¤©å‰è®¿é—® find . -type f -atime +7 -print 27 10. è®°å½•æ–‡ä»¶å¤§å° 28 find . -type f -size +2k 29 11. åˆ©ç”¨findæ‰§è¡Œç›¸åº”æ“ä½œ 30 find . -type f -name \u0026#34;*.swp\u0026#34; -delete grep\n1 1. åŒ¹é…å¤šä¸ªæ–‡ä»¶ 2 grep \u0026#34;match.text\u0026#34; file1 file2 file 3 3 2. ç€é‡æ ‡è®° 4 grep --color=auto world filename 5 3. ä½¿ç”¨æ­£åˆ™ 6 egrep \u0026#34;[a-z]+\u0026#34; filename 7 4. åªè¾“å‡ºåŒ¹é…åˆ°çš„æ–‡æœ¬ 8 egrep -o \u0026#34;[a-z]+\\.\u0026#34; 9 5. æ‰“å°ä¸åŒ¹é…ç»“æœ 10 grep -v match_patttern filename 11 6. ç»Ÿè®¡åŒ¹é…çš„æ–‡æœ¬è¡Œæ•° 12 grep -c \u0026#34;text\u0026#34; filename 13 7. ç»Ÿè®¡åŒ¹é…æ•°é‡ 14 egrep -o \u0026#34;{0-9}\u0026#34; | wc -l 15 8. æ‰“å°åŒ¹é…æ‰€åœ¨è¡Œ 16 grep linux -n sample1.txt 17 9. åŒ¹é…æ¨¡å¼æ‰€åœ¨çš„æ–‡ä»¶ 18 grep -l \u0026#39;linux\u0026#39; simaple.txt simple2.txt ï¼ˆå¦‚æœç›¸åæ˜¯å¤§å†™ï¼‰ 19 10. é€’å½’æœç´¢å¤šä¸ªæ–‡ä»¶ 20 grep \u0026#34;txt\u0026#34; . -R -n åŒç­‰ä¸ find . -type f | xarge grep \u0026#34;test _function()\u0026#34; . -R -n 21 æˆ– find . -type f | xargs grep \u0026#34;test_function()\u0026#34; 22 11. å¿½ç•¥å¤§å°å†™ 23 echo hello world | grep -i \u0026#34;HELLO\u0026#34; 24 12. åŒ¹é…å¤šä¸ªæ¨¡å¼ 25 grep -e \u0026#34;pattern1\u0026#34; -e \u0026#34;pattern2\u0026#34; 26 åŒ¹é…åˆ°ä¸€ä¸ªï¼Œå°±æ˜¯ä¸€è¡Œ 27 echo this is a line of text | grep -o -e \u0026#34;this\u0026#34; -e \u0026#34;line\u0026#34; 28 å°†å¤šä¸ªæ¨¡å¼æ”¾åˆ°æ–‡ä»¶ä¸­ 29 grep -f pattern_filesource_filename 30 13. grep å¯ä»¥åœ¨æœç´¢ä¸­ä½¿ç”¨é€šé…ç¬¦æˆ–æ’é™¤æŸäº›æ–‡ä»¶ 31 ä½¿ç”¨--includeé€‰é¡¹åœ¨ç›®å½•ä¸­é€’å½’æœç´¢æ‰€æœ‰çš„.c å’Œ .cpp æ–‡ä»¶ï¼š 32 grep \u0026#34;main()\u0026#34; . -r --include *.{c,cpp} 33 ä½¿ç”¨--excludåœ¨æœç´¢è¿‡ç¨‹ä¸­æ’é™¤æ‰€æœ‰çš„READMEæ–‡ä»¶ 34 grep \u0026#34;main()\u0026#34; . -r --exclude \u0026#34;README\u0026#34; 35 é€‰é¡¹--exclude-dir å¯ä»¥æ’é™¤ç›®å½• 36 grep main . -r -exclude-dir cvs 37 14. ä½¿ç”¨0å€¼å­—èŠ‚åç¼€çš„xargs ä¸ grep 38 grep \u0026#34;test\u0026#34; file* -lZ | xargs -0 rm 39 15. grep é™é»˜è¾“å‡º, åªè·å–æ˜¯å¦åŒ¹é…æˆåŠŸ 40 ä¸€ä¸ªssh 41 #!/bin/base 42 # æ–‡ä»¶åï¼šsilent_grep.sh 43 #ç”¨é€”ï¼šæµ‹è¯•æ–‡ä»¶æ˜¯å¦åŒ…å«ç‰¹å®šçš„æ–‡æœ¬å†…å®¹ 44 if [$# -ne 2]; then 45 echo \u0026#34;Usage:$0 match_text filename*\u0026#34; 46 exit 1 47 fi 48 match_text=$1 49 filename=$2 50 grep -q \u0026#34;$match_text\u0026#34; $filename 51 if [$? -eq 0]; then 52 echo \u0026#34;the text exists in the file\u0026#34; 53 else 54 echo \u0026#34;text does not exists in the file\u0026#34; 55 fi 56 æ‰§è¡Œå‘½ä»¤ 57 ./silent_grep.sh Student student_data.txt 58 16. æ‰“å°å‡ºåŒ¹é…æ–‡æœ¬ä¹‹å‰æˆ–ä¹‹åçš„è¡Œ 59 é€‰é¡¹-Aå¯ä»¥æ‰“å°åŒ¹é…ç»“æœä¹‹åçš„è¡Œ 60 seq 10 | grep 5 -A 3 æ­£åˆ™è¡¨è¾¾å¼\n1 1. åŒ¹é…ä»»æ„å•è¯çš„æ­£åˆ™è¡¨è¾¾å¼ 2 ( +[a-zA-Z]+ +) 3 2. åŒ¹é…å¥å°¾æˆ–æ˜¯éƒ½å‰çš„å•è¯ 4 ( +[a-zA-Z]+[?,.]? +) 5 6 [?,.]? è¡¨ç¤ºä»…éœ€è¦åŒ¹é…é—®å·ã€é€—å·æˆ–ç‚¹å·ä¸­çš„ä¸€ä¸ª 7 3. [[:digit:]] è¡¨ç¤ºæ•°å­— ä½¿ç”¨cutæŒ‰åˆ—åˆ‡åˆ†æ–‡ä»¶\n1cutå‘½ä»¤å¯ä»¥æŒ‰åˆ—ï¼Œè€Œä¸æ˜¯æŒ‰è¡Œæ¥åˆ‡åˆ†æ–‡ä»¶ã€‚è¯¥å‘½ä»¤å¯ç”¨äºå¤„ç†ä½¿ç”¨ä½¿ç”¨å›ºå®šå®½åº¦å­—æ®µçš„æ–‡ä»¶ã€‚CSVæ–‡ä»¶æˆ–æ˜¯ç”±ç©ºæ ¼åˆ†éš”çš„æ–‡ä»¶ 2 31. é€‰é¡¹ -f å¯ä»¥æŒ‡å®šè¦æå–çš„å­—æ®µ 4 cut -f FIELD_LIST filename 5 $cut -f2,3 filename 62. --complement é€‰é¡¹æ˜¾ç¤ºå‡ºæ²¡æœ‰è¢«-f æŒ‡å®šçš„é‚£äº›å­—æ®µ 7 cut -f3 --complement student_data.txt 83. é€‰é¡¹-d èƒ½å¤Ÿè®¾ç½®åˆ†éš”ç¬¦ 9 cut -f2 -d\u0026#34;;\u0026#34; delimited_data.txt 104. æŒ‡å®šå­—æ®µçš„å­—ç¬¦æˆ–å­—èŠ‚èŒƒå›´ 11 N- ä»ç¬¬Nä¸ªå­—èŠ‚ã€å­—ç¬¦æˆ–å­—æ®µå¼€å§‹åˆ°è¡Œå°¾ 12 N-M ä»ç¬¬Nä¸ªå­—èŠ‚ã€å­—ç¬¦æˆ–å­—æ®µå¼€å§‹åˆ°ç¬¬Mä¸ª 13 -M ä»ç¬¬1ä¸ªå­—èŠ‚ï¼Œåˆ°ç¬¬Mä¸ª 145. æŒ‡å®šå­—æ®µçš„å­—ç¬¦æˆ–å­—èŠ‚èŒƒå›´ 15 -b è¡¨ç¤ºå­—èŠ‚ 16 -c è¡¨ç¤ºå­—ç¬¦ 17 -f ç”¨äºå®šä¹‰å­—æ®µ 186. --output -delimiter å¯ä»¥æŒ‡å®šè¾“å‡ºåˆ†éš”ç¬¦ 19 cut range_fields.txt -c-2ï¼Œ6-9 --output-delimiter \u0026#34;,\u0026#34; ä½¿ç”¨sedæ›¿æ¢æ–‡æœ¬\n11. æ›¿æ¢ 2 sed \u0026#39;s/pattern/replace_string/\u0026#39; file 3 cat etc/passwd/ | cut -d : -f1,3 | sed \u0026#39;s/:/ - UID: /\u0026#39; 42. é€‰é¡¹-i ä¼šä½¿å¾—sedç”¨ä¿®æ”¹åçš„æ•°æ®æ›¿æ¢åŸæ–‡ä»¶ 5 $sed -i \u0026#39;s/text/replace\u0026#39; file 63. gæ ‡è®°å¯ä»¥ä½¿sedæ‰§è¡Œå…¨å±€æ›¿æ¢ 7 /#g æ ‡è®°å¯ä»¥ä½¿sedæ›¿æ¢ç¬¬Næ¬¡å‡ºç°çš„åŒ¹é…ï¼š 8 - $ echo thisthisthisthis | sed \u0026#39;s/this/THIS/2g\u0026#39; 9 thisTHISTHISTHIS 10 - $ echo thisthisthisthis | sed \u0026#39;s/this/THIS/3g\u0026#39; 11 thisthisTHISTHIS 124. sedå‘½ä»¤ä¼šå°†sä¹‹åçš„å­—ç¬¦è§†ä¸ºå‘½ä»¤åˆ†éš”ç¬¦ 13 sed \u0026#39;s:text:replace:g\u0026#39; 14 è½¬ä¹‰ ï¼š sed \u0026#39;s|te\\|xt|replace|g\u0026#39; 155. æ­£åˆ™è¡¨è¾¾å¼ -- ç§»é™¤ç©ºè¡Œ ^$ åŒ¹é…ç©ºè¡Œï¼Œ /d æ‰§è¡Œåˆ é™¤ 16 sed \u0026#39;/^$d\u0026#39; file 176. ç›´æ¥åœ¨æ–‡ä»¶ä¸­æ›¿æ¢ 18 sed \u0026#39;s/PATTERN/replacement\u0026#39; -i filename 19 sed -i \u0026#39;s/\\b[0-9]\\{3\\}\\b/NUMBER/g\u0026#39; sed_data.txt 20 å…¶ä¸­\\b è¡¨ç¤ºå•è¯è¾¹ç•Œ 21 - è¿˜å¯ä»¥å…ˆä¸æ›¿æ¢æºæ–‡ä»¶ï¼Œæ–°å»ºä¸€ä¸ª 22 sed -i.bak \u0026#39;s/abc/def/\u0026#39; file 23 7. å·²åŒ¹é…å­—ç¬¦ä¸² æ ‡è®°(\u0026amp;) 24 $echo this is an example | sed \u0026#39;s/\\w\\+/[\u0026amp;]/g\u0026#39; 25 [this] [is] [an] [example] 26 \\w\\+ åŒ¹é…æ¯ä¸€ä¸ªå•è¯ 27 8. å­—ç¬¦ä¸²åŒ¹é…æ ‡è®° 28 $echo this is digit 7 in a number | sed \u0026#39;s/digit \\([0-9]\\)/\\1\u0026#39; 29 this is 7 in a number 30 \\(pattern\\) ç”¨äºåŒ¹é…å­ä¸² 31 \\1 åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªå­—æ®µ 32 - secho seven EIGHT | \u0026#39;s/\\([a-z]\\+\\) \\([A-Z]\\+\\)/\\2 \\1/\u0026#39; 33 9. ç»„åˆå¤šä¸ªè¡¨è¾¾å¼ 34 sed \u0026#39;expression\u0026#39; | sed \u0026#39;expression\u0026#39; 35 ç­‰åŒäºï¼Œsed \u0026#39;expression;expression\u0026#39; 36 æˆ–è€…ï¼š sed -e \u0026#39;expression\u0026#39; -e \u0026#39;expression\u0026#39; 37 ç¤ºä¾‹ï¼š 38 echo abc | sed \u0026#39;s/a/A/\u0026#39; sed \u0026#39;s/c/C/\u0026#39; 39 10. sed è¡¨è¾¾å¼é€šå¸¸ç”¨å•å¼•å·æ¥å¼•ç”¨ï¼Œshellä¼šåœ¨è°ƒç”¨sedå‰å…ˆæ‰©å±•åŒå¼•å·å†…å®¹ 40 $text = hello 41 $echo hello world | sed \u0026#34;s/$test/HELLO\u0026#34; 42 HELLO world 43 11. sed /s/pattern/replace/p, /p ä¼šæŠŠåŒ¹é…åˆ°çš„è¡Œå†è¾“å‡ºä¸€éï¼Œä¹Ÿå°±æ—¶åŒ¹é…åˆ°çš„è¡Œä¼šé‡å¤è¾“å‡º 44 12. sed -n /s/pattern/replace/p -n ä¸ /p å°±åªè¾“å‡ºåŒ¹é…åˆ°çš„è¡Œ 45 13. tac logs/smartfox.log | sed -n \u0026#39;/com.elex.cok.common.core.ThreadTask/ {/50*/ s/503/\u0026amp;\\n\\n\\n/;p}\u0026#39; | less -- ç›¸å½“äº tac file | sed -n \u0026#39;/A/ {B/ s/C/repace/;p}\u0026#39; (;p - é»˜è®¤è¾“å‡º) 46 14. å‚è€ƒç½‘å€https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2856901.html ä½¿ç”¨awkè¿›è¡Œé«˜çº§æ–‡æœ¬å¤„ç†\n1awk è„šæœ¬çš„ç»“æ„å¦‚ä¸‹ï¼š 2- awk \u0026#39;BEGIN{ print \u0026#34;start\u0026#34;} pattern {commands} END {print \u0026#34;end\u0026#34;}\u0026#39; file 3- awk \u0026#39;BEGIN {statements} {statements} END {end statements}\u0026#39; 4- awk \u0026#34;BEGIN {i =0} {i++} END {print i}\u0026#34; filename 51. ä¸­é—´{} é»˜è®¤æ‰§è¡Œ{print} 62. print èƒ½å¤Ÿæ¥å—å‚æ•°ï¼Œè¿™äº›å‚æ•°ä»¥é€—å·åˆ†éš” 7 echo | awk \u0026#39;{var1=\u0026#34;v1\u0026#34;;var2=\u0026#34;v2\u0026#34;;var3=\u0026#34;v3\u0026#34;;print var1,var2,var3;}\u0026#39; 83. ç‰¹æ®Šå˜é‡ 9 - NR: è¡¨ç¤ºè®°å½•ç¼–å·ï¼Œå½“awkå°†è¡Œä½œä¸ºè®°å½•æ—¶ï¼Œè¯¥å˜é‡ç›¸å½“äºå½“å‰è¡Œå· 10 - NF: è¡¨ç¤ºå­—æ®µæ•°é‡ï¼Œåœ¨å¤„ç†å½“å‰è®°å½•æ—¶ï¼Œç›¸å½“äºå­—æ®µæ•°é‡ï¼Œé»˜è®¤çš„å­—æ®µåˆ†éš”ç¬¦æ˜¯ç©ºæ ¼ 11 - $0: è¯¥å˜é‡åŒ…å«å½“å‰è®°å½•çš„æ–‡æœ¬å†…å®¹ 12 - $1: è¯¥å˜é‡åŒ…å«ç¬¬ä¸€ä¸ªå­—æ®µçš„æ–‡æœ¬å†…å®¹ 13 - $2: è¯¥å˜é‡åŒ…å«ç¬¬äºŒä¸ªå­—æ®µçš„æ–‡æœ¬å†…å®¹ 14 153.awkä½¿ç”¨æ­£åˆ™ 16 seq 10 | awk \u0026#39;BEGIN{print \u0026#34;start\u0026#34;} /6.*/ {print} END{print \u0026#34;end\u0026#34;}\u0026#39; 174. ä¾‹å­ 18 echo -e \u0026#34;line1 f2 f3\\nline2 f4 f5\\nline3 f6 f7\u0026#34; | \\ 19 awk \u0026#39;{ 20 print \u0026#34;Line no:\u0026#34;NR\u0026#34;,No of fields:\u0026#34;NF, \u0026#34;$0=\u0026#34;$0, 21 \u0026#34;$1=\u0026#34;$1,\u0026#34;$2=\u0026#34;$2,\u0026#34;$3=\u0026#34;$3 22 }\u0026#39; 235. æ‰“å°æ¯ä¸€è¡Œçš„ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªå­—æ®µ 24 awK \u0026#39;{print $3,$2}\u0026#39; file 256. æˆ‘ä»¬å¯ä»¥ä½¿ç”¨NRç»Ÿè®¡æ–‡ä»¶è¡Œæ•° 26 awk \u0026#39;END {print NR}\u0026#39; file 277. å€ŸåŠ©é€‰é¡¹-vï¼Œ æˆ‘ä»¬å¯ä»¥å°†å¤–éƒ¨å€¼ä¼ é€’ç»™awkï¼š 28 $VAR=10000 29 $ echo | awk -v VARIABLE = $VAR \u0026#39;{print VARIABLE}\u0026#39; 308. è¿˜æœ‰ä¸€ç§çµæ´»çš„æ–¹æ³•å¯ä»¥å°†å¤šä¸ªå¤–éƒ¨å˜é‡ä¼ é€’ç»™awk 31 $ var1 = \u0026#34;Variable1\u0026#34;; var2 = \u0026#34;Variable2\u0026#34; 32 $ echo | awk \u0026#39;{print v1, v2}\u0026#39; v1=$var1 v2 = $var2 33 å½“è¾“å…¥æ¥è‡ªäºæ–‡ä»¶è€Œéæ ‡å‡†è¾“å…¥æ—¶ï¼Œä½¿ç”¨ä¸‹åˆ—å‘½ä»¤ 34 $ awk \u0026#39;{print v1,v2}\u0026#39; v1=$var1 v2=$var2 filename 359. ç”¨getlineè¯»å–è¡Œ 36 seq 5 | awk \u0026#39;BEGIN {getline;print \u0026#34;Read ahead first line\u0026#34;, $0}\u0026#39; {print $0} 3710. ä½¿ç”¨è¿‡æ»¤æ¨¡å¼å¯¹awkå¤„ç†çš„è¡Œè¿›è¡Œè¿‡æ»¤ 38 $ awk \u0026#39;NR \u0026lt; 5\u0026#39; # è¡Œå·å°äº5çš„è¡Œ 39 $ awk \u0026#39;NR==1, NR==4\u0026#39; # è¡Œå·åœ¨1åˆ°5ä¹‹é—´çš„è¡Œ 40 $ awk \u0026#39;/linux/\u0026#39; #åŒ…å«æ¨¡å¼ä¸ºlinuxçš„è¡Œï¼ˆå¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æŒ‡å®šæ¨¡å¼ï¼‰ 41 $ awk \u0026#39;!/linux/\u0026#39; # ä¸åŒ…å«æ¨¡å¼ä¸ºlinuxçš„è¡Œ 4211. è®¾ç½®å­—æ®µåˆ†éš”ç¬¦ 43 awk -F: \u0026#39;{print $NF}\u0026#39; /etc/passwd 44 æˆ–è€… awk \u0026#39;BEGIN {FS=\u0026#34;:\u0026#34;} {print $NF}\u0026#39; /etc/passwd 4512. ä»awk ä¸­è¯»å–å‘½ä»¤è¾“å‡º 46 â€œcommandâ€ | getline output; 47 $awk \u0026#39;BEGIN {FS=\u0026#34;:\u0026#34;} {\u0026#34;grep root /etc/passwd\u0026#34; | getline; print $1,$6}\u0026#39; 4813. åœ¨awkä¸­ä½¿ç”¨å¾ªç¯ 49 awk \u0026#39;BEGIN {FS=\u0026#34;:\u0026#34;} {nam[$1]=$5}} END{for {i in name} {print i,nam[i]}}\u0026#39; /etc/passwd 5014. ä½¿ç”¨if 51\tnetstat -tanp | awk \u0026#39;{if ($2 \u0026gt; 0 || $3 \u0026gt; 0) print $0}\u0026#39; 5215. awkå†…å»ºçš„å­—ç¬¦ä¸²å¤„ç†å‡½æ•° 53 - length(string) : è¿”å›å­—ç¬¦ä¸²stringçš„é•¿åº¦ 54 - index(string,serach_string) : è¿”å›search_string åœ¨å­—ç¬¦ä¸²stringå‡ºç°çš„ä½ç½® 55 - split(string, array, delimiter):ä»¥delimiterä½œä¸ºåˆ†éš”ç¬¦ï¼Œåˆ†å‰²å­—ç¬¦ä¸²stringï¼Œå°†ç”Ÿæˆçš„å­—ç¬¦ä¸²å­˜å…¥æ•°ç»„array 56 - substr(string, start-position, end-position) : è¿”å›å­—ç¬¦ä¸²stringä¸­ä»¥start-position å’Œ end-position ä½œä¸ºèµ·æ­¢ä½ç½®çš„å­—ç¬¦ä¸² 57 - sub(regex, replancement_str, string): å°†æ­£åˆ™è¡¨è¾¾å¼regexåŒ¹é…åˆ°çš„ç¬¬ä¸€å¤„å†…å®¹æ›¿æ¢æˆreplacement_str 58 - gsub(regex, replacement_str, string) : å’Œsub()ç±»ä¼¼ã€‚ä¸è¿‡è¯¥å‡½æ•°ä¼šæ›¿æ¢æ­£åˆ™è¡¨è¾¾å¼ regexåŒ¹é…åˆ°çš„æ‰€æœ‰å†…å®¹ 59 - match(regex, string) : æ£€æŸ¥æ­£åˆ™è¡¨è¾¾å¼regexæ˜¯å¦èƒ½å¤Ÿåœ¨å­—ç¬¦ä¸²stringä¸­æ‰¾åˆ°åŒ¹é…ã€‚å¦‚æœèƒ½å¤Ÿæ‰¾åˆ°ï¼Œè¿”å›é0å€¼ï¼›å¦åˆ™ï¼Œè¿”å›0. match() æœ‰ä¸¤ä¸ªç›¸å…³çš„ç‰¹æ®Šå˜é‡ï¼Œåˆ†åˆ«æ˜¯RSTART å’Œ RLENGTHã€‚å˜é‡RSTATRTvåŒ…å«äº†åŒ¹é…å†…å®¹çš„èµ·æ­¢ä½ç½®ï¼Œè€Œå˜é‡RLENGTHåŒ…å«äº†åŒ¹é…å†…å®¹çš„é•¿åº¦ 6016. æ›´å¤šä¾‹å­ 61\thttps://blog.csdn.net/weixin_39953236/article/details/112127491 ç”¨trè¿›è¡Œè½¬æ¢\n1tr æ˜¯translateï¼ˆè½¬æ¢ï¼‰çš„ç®€å†™ 2 1. tr [options] set1 set2 3 2. è¦å°†è¾“å…¥ä¸­çš„å­—ç¬¦ç”±å¤§å†™è½¬æ¢ä¸ºå°å†™ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ 4 echo \u0026#34;HELLO WHO IS THIS\u0026#34; | tr \u0026#39;A-Z\u0026#39; \u0026#39;a-z\u0026#39; 5 hello who is this 6 3. tr è¿›è¡ŒåŠ å¯†å’Œè§£å¯† 7 echo 12345 | tr \u0026#39;0-9\u0026#39; \u0026#39;9876543210\u0026#39; 8 87654 # å·²åŠ å¯† 9 echo 87654 | tr \u0026#39;9876543210\u0026#39; \u0026#39;0-9\u0026#39; 10 12345 # å·²è§£å¯† 11 4. ç”¨tråˆ é™¤å­—ç¬¦ 12 cat file.txt | tr -d \u0026#39;[set1]\u0026#39; 13 ä¾‹å¦‚ï¼š 14 echo \u0026#34;Hello 123 world 456\u0026#34; | tr -d \u0026#39;0-9\u0026#39; 15 hello world 16 5. å­—ç¬¦ç»„è¡¥é›† 17 tr -c \\[set1\\] [set2] 18 - ä»è¾“å…¥æ–‡æœ¬ä¸­åˆ é™¤ä¸åœ¨è¡¥é›†ä¸­çš„æ‰€æœ‰å­—ç¬¦ 19 echo hello 1 char 2 next 4 | tr -d -c \u0026#39;0-9 \\n\u0026#39; 20 124 21 - ä¸åœ¨set1ä¸­çš„å­—ç¬¦æ›¿æ¢æˆç©ºæ ¼ 22 echo hello 1 char 2 next 4 | tr -c \u0026#39;0-9\u0026#39; \u0026#39;\u0026#39; 23 1 2 4 24 - åˆ é™¤å¤šä½™çš„ç©ºæ ¼ 25 tr -s \u0026#39; \u0026#39; 26 - åˆ é™¤å¤šä½™çš„æ¢è¡Œç¬¦ 27 tr -s \u0026#39;\\n\u0026#39; 28 - cat sum.txt | echo $[ $(tr \u0026#39;\\n\u0026#39; \u0026#39;+\u0026#39; ) 0 ] 29 30 - åŒ…å«å­—æ¯å’Œæ•°å­—çš„æ–‡ä»¶ï¼Œ è®¡ç®—æ•°å­—ä¹‹å’Œ 31 cat test.txt | tr -d [a-z] | echo \u0026#34;total: $[$(tr \u0026#39; \u0026#39; \u0026#39;+\u0026#39;\u0026#39;)]\u0026#34; 32 - å­—ç¬¦ç±» 33 alnum : å­—æ¯å’Œæ•°å­— 34 alpha : å­—æ¯ 35 cntrl : æ§åˆ¶ï¼ˆéæ‰“å°ï¼‰å­—ç¬¦ 36 digit : æ•°å­— 37 graph : å›¾å½¢å­—ç¬¦ 38 lower : å°å†™å­—æ¯ 39 print : å¯æ‰“å°å­—ç¬¦ 40 punct : æ ‡ç‚¹ç¬¦å· 41 space : ç©ºç™½å­—ç¬¦ 42 upper : å¤§å†™å­—æ¯ 43 xdigit : åå…­è¿›åˆ¶å­—ç¬¦ 44 45 å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼é€‰æ‹©æ‰€éœ€çš„å­—ç¬¦ç±» 46 tr [:class:] [:class:] 47 ä¾‹å¦‚ : 48 tr \u0026#39;[:lower:]\u0026#39; \u0026#39;[:upper:]\u0026#39; ç»Ÿè®¡ç‰¹å®šæ–‡ä»¶ä¸­è¯é¢‘\n1if [$# -ne 1]; 2then 3 echo \u0026#34;Usage: $0 filename\u0026#34;; 4 exit -1 5fi 6 7filename=$1 8egrep -o \u0026#34;\\b[[:alpha:]]+\\b\u0026#34; $filename | \\ 9 awk \u0026#39;{ count[$0]++ } 10 END{ printf{\u0026#34;%-14s%s\\n\u0026#34;,\u0026#34;World\u0026#34;,\u0026#34;count\u0026#34;}}\u0026#39; ; 11 for(ind in count) 12 { printf(\u0026#34;%-14s%d\\n\u0026#34;,ind,count[ind]); 13 } 14- å¯ä»¥åˆ©ç”¨trå‘½ä»¤å°†å¤§å†™å•è¯å’Œéå¤§å†™å•è¯åˆè®¡ä¸ºä¸€ä¸ªå•è¯ï¼Œç„¶åç”¨sortå‘½ä»¤æ’åºè¾“å‡ºï¼š 15 egrep -o \u0026#34;\\b[[:alpha:]]+\\b\u0026#34; $filename | tr [A-Z] [a-z] | \\ 16 awk \u0026#39;{ count[$0]++ }\u0026#39; 17 END{ printf{\u0026#34;%-14s%s\\n\u0026#34;,\u0026#34;World\u0026#34;,\u0026#34;count\u0026#34;} ; 18 for(ind in count) 19 { printf(\u0026#34;%-14s%d\\n\u0026#34;,ind,count[ind]); 20 } 21 }\u0026#39; | sort ä¾‹å­\n11. cat sample.js | \\ 2 tr -d \u0026#39;\\n\\t\u0026#39; | tr -s \u0026#39; \u0026#39; \\ 3 | sed \u0026#39;s:/\\*.*\\*/::g\u0026#39; \\ 4 | sed \u0026#39;s/ \\?\\([{}();,:]\\) \\?/\\1/g\u0026#39; 52. æ‰“å°ä»Mè¡Œåˆ°Nè¡Œä¹‹é—´çš„æ–‡æœ¬ï¼š 6 $ awk \u0026#39;NR==M, NR==N\u0026#39; filename 7 ä¾‹å¦‚ï¼š 8 seq 100 | awk \u0026#39;NR==4,NR==6\u0026#39; 93. æ‰“å°ä½äºæ¨¡å¼start_pattern ä¸ end_patternä¹‹é—´çš„æ–‡æœ¬ 10 $ awk \u0026#39;/start_pattern/, /end_pattern/\u0026#39; filename 11 awk \u0026#39;/pa.*3/, /end/\u0026#39; section.txt 124. tac å‘½ä»¤, å€’åº 13 - seq 5 | tac 14 - tacå‘½ä»¤é»˜è®¤ä½¿ç”¨\\nä½œä¸ºè¡Œåˆ†éš”ç¬¦ã€‚ä½¿ç”¨-s æŒ‡å®šå…¶ä»–åˆ†éš”ç¬¦ 15 echo \u0026#34;1,2\u0026#34; | tac-s, 16 - ä½¿ç”¨awkçš„å®ç°æ–¹å¼ 17 seq 9 | \\ 18 awk \u0026#39;{ lifo[NR]=$0 } \\ 19 END {for(lno=NR;lno\u0026gt;-1;lno--){print lifo[lno]; } 20 }\u0026#39; 21 5. find . -name *.cpp -print0 | \\ 22 xargs -I{} -0 sed -i \u0026#39;s/Copyright/Copyleft/g\u0026#39; {} ","permalink":"https://omgkill.github.io/post/linux/linux%E5%91%BD%E4%BB%A4/","tags":["linux","shell"],"title":"Linuxå‘½ä»¤"},{"categories":["ä»£ç ä¼˜åŒ–"],"contents":"å•ä¾‹æ¨¡å¼ æ¦‚å¿µ ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›å…¨å±€è®¿é—®ç‚¹\nä¾‹å­è¯´æ˜ single\næ˜¯åŒé‡é”å®šï¼Œé€šè¿‡åŒæ­¥synchronzedç¡®ä¿å¤šçº¿ç¨‹ä¸‹åªè¢«ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œå¹¶åœ¨åœ¨åŒæ­¥å‰ååˆ¤ç©ºï¼Œç¡®ä¿ä¸ä¼šé‡å¤å®ä¾‹åŒ–è¯¥ç±»ã€‚ voliatileç¡®ä¿æ‰§è¡Œçš„é¡ºåºä¸ä¼šæ”¹å˜ã€‚jvmä¼šå¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œå½“æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·å°±ä¼šå‡ºç°é—®é¢˜ã€‚1ã€åˆ†é…å†…å­˜\u0026ndash;\u0026gt;2ã€æŠŠå†…å­˜çš„å¼•ç”¨èµ‹å€¼ç»™instance\u0026ndash;\u0026gt;3ã€å†æŠŠå®ä¾‹åŒ–çš„å¯¹è±¡åˆå§‹åŒ–åˆ°è¯¥å†…å­˜ä¸‹ã€‚(äº‹å®ä¸ä¸€å®šè¿™æ ·ï¼Œå¯ä»¥å½“ä¸€ä¸ªåœºæ™¯)\nå½“çº¿ç¨‹AæŠŠ2æ‰§è¡Œå®Œï¼Œçº¿ç¨‹Båˆ¤æ–­instanceæ˜¯å¦ä¸ºç©ºï¼Œå‘ç°ä¸ä¸ºç©ºï¼Œè°ƒç”¨æ–¹æ³•ï¼Œè¿™æ—¶å°±æŠ¥nullpointException staticæ¨¡å¼\næœ‰äººè¯´è¿™æ˜¯é¥¿æ±‰æ¨¡å¼ï¼ŒæœåŠ¡ä¸€å¯åŠ¨å°±åŠ è½½ã€‚ enum\næšä¸¾æ¨¡å¼ï¼Œå¥½å¤„ï¼šé˜²æ­¢åå°„ã€åç¼–è¯‘ã€è¿”åºåˆ—åŒ–ã€ç¡®ä¿åŠ è½½ä¸€ä¸ªã€‚åœ¨æšä¸¾åˆå§‹åŒ–çš„æ—¶å€™å®ä¾‹åŒ– å¥½å¤„ å•ä¾‹æ¨¡å¼å‡å°‘é‡å¤åˆ›å»ºï¼ŒèŠ‚çœç©ºé—´ï¼ŒåŠ è½½é€Ÿåº¦æ›´å¿«ï¼ŒèŠ‚çœæ—¶é—´ã€‚å•ä¾‹æ¨¡å¼æ˜¯æ— çŠ¶æ€çš„\nå‘½ä»¤æ¨¡å¼ æ¦‚å¿µ å°†è¯·æ±‚å°è£…æˆå¯¹è±¡ï¼Œè¿™å¯ä»¥è®©ä½ ä½¿ç”¨ä¸åŒçš„è¯·æ±‚ã€é˜Ÿåˆ—ï¼Œæˆ–è€…æ—¥å¿—è¯·æ±‚ æ¥å‚æ•°åŒ–å…¶ä»–å¯¹è±¡ã€‚å‘½ä»¤æ¨¡å¼å¯ä»¥æ”¯æŒæ’¤é”€æ“ä½œ\nä¾‹å­ æ¯”å¦‚æˆ‘æœ‰ä¸ªé¥æ§ï¼Œåªæœ‰ä¸‰ä¸ªæŒ‰é’®ï¼Œæ‰“å¼€ã€å…³é—­ã€é€€å›ã€‚ç„¶åæˆ‘å¯ä»¥æ§åˆ¶æ‰€æœ‰çš„ç”µå™¨ã€‚è­¬å¦‚ï¼Œç©ºè°ƒã€ç”µè§†ã€ç”µæ‰‡ã€ç”µè„‘ã€æ‰‹æœºã€å†°ç®±ã€çƒ­æ°´å™¨ç­‰ç­‰ã€‚ ä½†æˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°çš„ä¾‹å­æ˜¯ï¼Œclientã€commondã€invokeã€receiverï¼Œä¸€ç‚¹éƒ½ä¸ç”ŸåŠ¨\nå¥½å¤„ è°ƒç”¨è€…ä¸è¢«è°ƒç”¨è€…å®Œå…¨è§£è€¦ å‘½ä»¤çš„æ‰©å±•æ€§æ¯”è¾ƒå¥½ å‘½ä»¤æ¨¡å¼ç»“åˆå…¶ä»–æ¨¡å¼ä¼šæ›´ä¼˜ç§€ï¼šå‘½ä»¤æ¨¡å¼å¯ä»¥ç»“åˆè´£ä»»é“¾æ¨¡å¼ï¼Œå®ç°å‘½ä»¤æ—è§£æä»»åŠ¡ï¼›ç»“åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼Œåˆ™å¯ä»¥å‡å°‘ Commandå­ç±»çš„è†¨èƒ€é—®é¢˜ã€‚ åŠ£åŠ¿ å¦‚æœæœ‰å¤§é‡å‘½ä»¤ï¼Œæ‹¿éœ€è¦åˆ›å»ºè¿™ä¹ˆå¤šå‘½ä»¤ æƒ³æ³• æˆ‘åˆšå¼€å§‹è§‰å¾—è°ƒç”¨è€…ï¼ˆinvokeï¼‰ç‰¹åˆ«å¤šä½™ï¼Œç›´æ¥è°ƒç”¨å‘½ä»¤å°±è¡Œï¼Œä½•å¿…å†åŠ ä¸€å±‚ã€‚\nåæ¥æƒ³äº†æƒ³ï¼Œè°ƒç”¨è€…å¯ä»¥åšä¸€äº›é¢å¤–çš„æ“ä½œã€‚è­¬å¦‚æ—¥å¿—ã€æƒé™ç­‰ç­‰ã€‚\nå¤–è§‚æ¨¡å¼ æ¦‚å¿µ æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œç”¨æ¥è®¿é—®å­ç³»ç»Ÿä¸­çš„ä¸€ç¾¤æ¥å£ã€‚å¤–è§‚å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè®©å­ç±»ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ä¼˜åŠ¿\nä¾‹å­è¯´æ˜ æˆ‘ä»¬è¦å¼€å¯ä¸€å°ç”µè„‘ï¼Œéœ€è¦å“ªäº›æ“ä½œã€‚é¦–å…ˆæ¥é€šç”µæºã€å¼€å¯cpuã€å¼€å¯å†…å­˜æ¡ã€å¼€å¯é£æ‰‡ã€å¼€å¯ç¡¬ç›˜ã€å¼€å¯æ˜¾ç¤ºå±ã€å¼€å¯æ˜¾å¡ç­‰ç­‰ã€‚ ä½†å®é™…æˆ‘ä»¬åªéœ€è¦ç‚¹å‡»ç”µè„‘å¼€å…³ï¼Œå°±ç›´æ¥å¼€æœºã€‚ç”µè„‘è‡ªå·±æŠŠè¿™äº›å…ƒä»¶éƒ½æ‰“å¼€äº†ã€‚è¿™å°±æ˜¯å¤–è§‚æ¨¡å¼\nå¥½å¤„ æ¾æ•£è€¦åˆ ä½¿å¾—å®¢æˆ·ç«¯å’Œå­ç³»ç»Ÿä¹‹é—´è§£è€¦ï¼Œè®©å­ç³»ç»Ÿå†…éƒ¨çš„æ¨¡å—åŠŸèƒ½æ›´å®¹æ˜“æ‰©å±•å’Œç»´æŠ¤ï¼›\nç®€å•æ˜“ç”¨ å®¢æˆ·ç«¯æ ¹æœ¬ä¸éœ€è¦çŸ¥é“å­ç³»ç»Ÿå†…éƒ¨çš„å®ç°ï¼Œæˆ–è€…æ ¹æœ¬ä¸éœ€è¦çŸ¥é“å­ç³»ç»Ÿå†…éƒ¨çš„æ„æˆï¼Œ å®ƒåªéœ€è¦è·ŸFacadeç±»äº¤äº’å³å¯ã€‚\næ›´å¥½çš„åˆ’åˆ†è®¿é—®å±‚æ¬¡ æœ‰äº›æ–¹æ³•æ˜¯å¯¹ç³»ç»Ÿå¤–çš„ï¼Œæœ‰äº›æ–¹æ³•æ˜¯ç³»ç»Ÿå†…éƒ¨ç›¸äº’äº¤äº’çš„ä½¿ç”¨çš„ã€‚ å­ç³»ç»ŸæŠŠé‚£äº›æš´éœ²ç»™å¤–éƒ¨çš„åŠŸèƒ½é›†ä¸­åˆ°é—¨é¢ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å®¢æˆ·ç«¯çš„ä½¿ç”¨ï¼Œ å¾ˆå¥½çš„éšè—äº†å­ç³»ç»Ÿå†…éƒ¨çš„ç»†èŠ‚ã€‚\nå·¥å‚æ¨¡å¼ æ¦‚å¿µ å·¥å‚æ–¹æ³•æ¨¡å¼ï¼š å®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œ ä½†ç”±äºå­ç±»å†³å®šè¦å®ä¾‹åŒ–çš„ç±»æ˜¯å“ªä¸€ä¸ªã€‚å·¥å‚æ–¹æ³• è®©ç±»æŠŠå®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»\nä¾‹å­è¯´æ˜ ä»¥pizzaåº—è¯´æ˜,æœ‰ä¸¤ä¸ªpizz storeï¼Œç„¶åéƒ½æœ¬åœ°åŒ–ï¼Œæœ‰å„è‡ªç‰¹è‰²çš„pizzaã€‚ä½†pizzaçš„æµç¨‹æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å…·ä½“çš„ç»†èŠ‚æœ‰åŒºåˆ«ã€‚\nå¥½å¤„ï¼š å·¥å‚æ¨¡å¼å¯å°†è¿™äº›åˆ›å»ºå¯¹è±¡çš„ä»£ç ç”¨æ …æ å›´èµ·æ¥ï¼Œå°±åƒä½ æŠŠæ‰€æœ‰çš„ç¾Šæ¯›å †åˆ°çœ¼å‰ ä¸€æ ·ï¼Œä¸€æ—¦å›´èµ·æ¥åï¼Œå°±å¯ä»¥ä¿æŠ¤è¿™äº›åˆ›å»ºå¯¹è±¡çš„ä»£ç ï¼Œå¦‚æœè®©åˆ›å»ºå¯¹è±¡çš„ä»£ç  å¯¼å‡ºä¹±è·‘ï¼Œå°±æ— æ³•æ”¶é›†äº†ã€‚è­¬å¦‚è¦ä¿®æ”¹ï¼Œå°±æ¯”è¾ƒéº»çƒ¦äº† å€’ç½®åŸåˆ™\u0026ndash;ä¾èµ–æŠ½è±¡ï¼Œä¸è¦ä¾èµ–å…·ä½“çš„ç±» åŒºåˆ« ç®€å•å·¥å‚äºå·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼š ä¸€ä¸ªç®€å•å·¥å‚ä¸èƒ½å˜æ›´æ­£åœ¨åˆ›å»ºçš„äº§å“ã€‚è¿™ä¸ªä¾‹å­ä¸é”™ï¼šhttps://blog.csdn.net/abc709272013/article/details/52654266 å·¥å‚æ¨¡å¼ å¥½å¤„ å·¥å‚æ¨¡å¼çš„å¥½å¤„å°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡å°è£…èµ·æ¥ï¼Œå‡å°‘å¯¹å…·ä½“\næŠ½è±¡å·¥å‚æ¨¡å¼ æ¦‚å¿µ æŠ½è±¡å·¥å‚æ¨¡å¼ï¼š æä¾›ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåˆ›å»ºç›¸å…³æˆ–ä¾èµ–å¯¹è±¡çš„å®¶æ—ï¼Œè€Œä¸éœ€è¦ æ˜ç¡®æŒ‡å®šå…·ä½“ç±»\nä¾‹å­è¯´æ˜ ä¸€ä¸ªpizzaåº—ï¼Œéœ€è¦å„ç§åŸæ–™ã€‚æ¯ä¸ªpizzaçš„åŸæ–™ç§ç±»ç›¸åŒï¼Œä½†å£å‘³ä¸ä¸€æ ·ã€‚æ¯”å¦‚ç”œçš„å¥¶é…ª å’¸çš„å¥¶é…ªï¼Œçº¯ç‰›å¥¶å’Œé…¸ç‰›å¥¶ï¼Œçƒ­çš„å’Œå†·çš„ã€‚é‚£å°±éœ€è¦ç»™æ¯ä¸ªpizzaåˆ›å»ºå”¯ä¸€çš„åŸæ–™å·¥å‚ã€‚\nä¸å·¥å‚æ¨¡å¼åŒºåˆ« å·¥å‚æ¨¡å¼æ˜¯åˆ›å»ºä¸åŒçš„å¯¹è±¡ï¼Œè€ŒæŠ½è±¡å·¥å‚æ›´å¤§ï¼Œåˆ›å»ºä¸åŒçš„ä¸€ç¾¤å¯¹è±¡ã€‚è€Œä¸”æŠ½è±¡å·¥å‚åˆ›å»ºçš„å¯¹è±¡æ˜¯ç¡®å®šçš„ã€‚\næ¨¡æ¿æ–¹æ³•æ¨¡å¼ æ¦‚å¿µ åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­å®šä¹‰ä¸€ä¸ªç®—æ³•çš„éª¨æ¶ï¼Œ è€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œ æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œ é‡æ–°å®šä¹‰ç®—æ³•ä¸­çš„æŸäº›æ­¥éª¤ã€‚\nä¾‹å­è¯´æ˜ æ¯”å¦‚åšé¦’å¤´å’ŒåŒ…å­ï¼Œéƒ½éœ€è¦å‡†å¤‡ï¼Œæ‰é¢ï¼Œè’¸ç…®ï¼Œ è¿™ä¸‰ä¸ªæ­¥éª¤ï¼Œä¸”é¡ºåºæ˜¯å›ºå®šçš„ã€‚è¿™ä¸ªå°±å¯ä»¥ç”¨æ¨¡æ¿æ–¹æ³•æ¥åš\nç­–ç•¥æ¨¡å¼ æ¦‚å¿µ ç­–ç•¥æ¨¡å¼ï¼š å®šä¹‰äº†ç®—æ³•æ—ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©å®ƒä»¬ä¹‹é—´å¯ä»¥ç›¸äº’æ›¿æ¢\nä¼˜åŠ¿ æ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ç‹¬ç«‹äºä½¿ç”¨ç®—æ³•çš„å®¢æˆ· å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿ è¿™ä¸ªç®—æ³•å¾ˆå¸¸è§ï¼Œä¸€ä¸ªæ¥å£ä¸åŒçš„å®ç°å°±æ˜¯ç­–ç•¥æ¨¡å¼å•Š è£…é¥°è€…æ¨¡å¼ æ¦‚å¿µ åŠ¨æ€åœ°å°†è´£ä»»é™„åŠ åˆ°å¯¹è±¡ä¸Šã€‚è‹¥è¦æ‰©å±•åŠŸèƒ½ï¼Œè£…é¥°è€…æä¾›äº† æ¯”ç»§æ‰¿æ›´æœ‰å¼¹æ€§çš„æ›¿ä»£æ–¹æ¡ˆæˆ–è€… å¯ä»¥è¿™æ ·è¯´åŒ…è£…å¯¹è±¡\nä¼˜ç‚¹: CondimentDecoratorç»§æ‰¿Beverageï¼Œè¿™æ˜¯åˆ©ç”¨ç»§æ‰¿è¾¾åˆ°â€œç±»å‹åŒ¹é…â€ è€Œä¸æ˜¯ç»§æ‰¿è·å¾—â€œè¡Œä¸ºâ€ å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ ç¼ºç‚¹ å½“ä¸€ä¸ªå¯¹è±¡ä¾èµ–ç‰¹å®šçš„ç±»å‹ï¼Œç„¶åå¿½ç„¶å¯¼å…¥ï¼Œå¯¼è‡´é”™è¯¯ã€‚æ’å…¥è£…é¥°è€…å¿…é¡»å°å¿ƒè°¨æ… å¢åŠ ä»£ç å¤æ‚åº¦ï¼Œä½¿ç”¨è€…ä¸çŸ¥é“åˆ°åº•å¯¼å…¥äº†å¤šå°‘ä¸ªè£…é¥°ç€ è£…é¥°è€…å¯¼è‡´è®¾è®¡ä¸­å‡ºç°è®¸å¤šå°å¯¹è±¡ï¼Œå¦‚æœè¿‡åº¦ä½¿ç”¨ï¼Œä¼šè®©ç¨‹åºå˜å¾—å¾ˆå¤æ‚ ä¾‹å­ æ•°æ®æµ\nçˆ¶ç±»ï¼šInputStream è£…é¥°ç±»ï¼šFilterInputStream è£…é¥°è€…ï¼šBufferedInputStream, CheckedInputStream, CipherInputStream,DataInputStream, DeflaterInputStream, DigestInputStream,InflaterInputStream, LineNumberInputStream, ProgressMonitorInputStream,PushbackInputStream è¢«è£…é¥°è€…ï¼šAudioInputStream, ByteArrayInputStream, FileInputStream,FilterInputStream,ObjectInputStream, PipedInputStream, SequenceInputStream,StringBufferInputStream\nè‡ªå·±ç”¨è¿‡çš„ä¾‹å­ å…±äº«sessionçš„ä¸€ä¸ªä¾‹å­ï¼Œ\rrequest,HttpServletRequestWrapperå°±æ˜¯HttpservletRequestçš„è£…é¥°ç±»ã€‚è€ŒhttpserverletReuestæ˜¯æ¥å£ï¼Œå…·ä½“çš„å¯¹è±¡è¿˜åœ¨tomcaté‡Œã€‚\rHttpServletRequestWrapperæ˜¯è£…é¥°ç±»ï¼Œé‚£è¿™ä¸ªç±»çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä½•ä¸ç›´æ¥ç»§æ‰¿å…·ä½“ç±»ï¼Œè¿™æ ·æ›´ç®€å•ã€‚ å› ä¸ºå…·ä½“ç±»æœ‰å¤šä¸ªæ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦è¿›è¡Œè§£è€¦ è§‚å¯Ÿè€…æ¨¡å¼ æ¦‚å¿µ åœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œè¿™æ ·ä¾èµ–ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€æ—¶ï¼Œå®ƒçš„æ‰€æœ‰ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°\nä¾‹å­è¯´æ˜ å¤©æ°”å±•ç¤ºæ ï¼Œå½“å¤©æ°”æœ‰æ”¹å˜æ—¶ï¼Œé€šçŸ¥å±•ç¤ºæ  é¦–å…ˆæŠŠå¤šä¸ªå±•ç¤ºæ æ³¨å†Œåˆ°å¤©æ°”å¤„ç†ä¸­å¿ƒï¼Œå½“å¤©æ°”æ”¹å˜æ—¶ï¼Œå°±éå†ä¸€ä¸ªä¸€ä¸ªé€šçŸ¥ã€‚\nSubjectã€Observerã€DisplayElementæ˜¯æ¥å£\nSubject æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨ä¸€ç§ç±»å‹ Observer æ˜¯è§‚å¯Ÿè€…ï¼Œupdateæ–¹æ³•\nDisplayElement æ˜¯å±•ç¤ºæ \nå…±äº«sessionä¾‹å­ ä½¿ç”¨çš„å°±æ˜¯java.utilçš„observerã€‚å…·ä½“æµç¨‹ï¼Œæ¯æ¬¡è¯·æ±‚å°è£…sessionï¼Œè¯·æ±‚ç»“æŸåï¼Œåˆ¤æ–­sessionæœ‰æ²¡æœ‰æ”¹å˜ï¼Œæ”¹å˜å°±æ›´æ–°redisçš„æ•°æ®ã€‚\nspringç›‘å¬å™¨ä¾‹å­ åœºæ™¯è¯´æ˜ï¼šå½“ç”¨æˆ·åšå®Œä¸€ä¸ªæ“ä½œåï¼Œæˆ‘ä»¬éœ€è¦å‘é‚®ä»¶é€šçŸ¥ã€‚å¦‚æœä¸€ä¸ªä¸ªé€šçŸ¥å°±å¤ªéº»çƒ¦ï¼Œè¿™æ—¶å¯ä»¥ç”¨äº‹ä»¶ç›‘å¬ã€‚\nç¤ºä¾‹ï¼šhttps://blog.csdn.net/erbao_2014/article/details/68924231?locationNum=9\u0026amp;fps=1 è¦ç´ ï¼š\näº‹ä»¶ ç›‘å¬ äº‹ä»¶å‘å¸ƒè€… å‘ç”Ÿçš„äº‹ é€‚é…å™¨æ¨¡å¼ æ¦‚å¿µ å°†ä¸€ä¸ªç±»çš„æ¥å£ï¼Œè½¬æ¢æˆå®¢æˆ·æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨è®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥åˆä½œæ— é—´\nä¾‹å­ æ¯”å¦‚æœåŠ¡æä¾›ä¸€ä¸ªæ¥å£æ˜¯jsonæ ¼å¼ï¼Œè€Œéœ€è¦çš„æ˜¯Stringæ ¼å¼çš„ã€‚\nå†æ¯”å¦‚ï¼Œä¸šåŠ¡éœ€è¦ä¸€ä¸ªæ¥å£æœ‰ç”¨æˆ·ä¿¡æ¯å’Œéƒ¨é—¨èŠ‚ç‚¹çš„ï¼Œè€Œæä¾›æ¥å£å¹¶æ²¡æœ‰ã€‚å°±éœ€è¦å¼€å‘ä¸€ä¸ªæ¥å£ï¼ŒæŠŠç”¨æˆ·ä¿¡æ¯æ¥å£ä¸éƒ¨é—¨èŠ‚ç‚¹æ¥å£èšåˆ\n","permalink":"https://omgkill.github.io/post/codeoptimize/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","tags":["è®¾è®¡æ¨¡å¼"],"title":"è®¾è®¡æ¨¡å¼"},{"categories":null,"contents":"#Docker è·¨ä¸»æœºå®¹å™¨é€šä¿¡å®è·µ\nDockerOverlayç½‘ç»œ\nOverlayæ˜¯ä¸€ç§è¦†ç›–åœ¨ä¸»æœºä¸Šçš„è™šæ‹Ÿç½‘ç»œï¼Œæˆ‘ç†è§£çš„overlayä»–éœ€è¦å€ŸåŠ©æ’ä»¶æˆ–å·¥å…·å®Œæˆå¯¹æ•°æ®çš„ä¿å­˜å’Œè½¬å‘ã€‚æˆ‘ä»¬è¿™é‡Œä½¿ç”¨etcdæ¥å®Œæˆoverlayçš„è·¨ä¸»æœºå®¹å™¨é€šä¿¡ æœ¬æ–‡ä»¥ä¸¤å°æœºå™¨ä¸ºä¾‹ï¼Œipåˆ†é…æ˜¯ 10.0.3.2 ä¸ 10.0.3.21\næ£€æŸ¥ä¸¤å°æœºå™¨hostnameæ˜¯å¦ä¸åŒï¼Œå¦‚æœç›¸åŒéœ€è¦ä¿®æ”¹ã€‚ä¸ç„¶æ— æ³•è”é€š\nä¸¤å°æœºå™¨å®‰è£…docker\nyum install -y docker ä¿®æ”¹dockeré…ç½®,æŒ‡å®šå¤–éƒ¨å­˜å‚¨ä½¿ç”¨etcdï¼Œ/etc/docker/daemon.json åŠ å¦‚ä¸‹æ•°æ®\nä¸»æœº10.0.3.2 \u0026ldquo;cluster-store\u0026rdquo;:\u0026ldquo;etcd://10.0.3.2:2379\u0026rdquo;,\u0026ldquo;cluster-advertise\u0026rdquo;:\u0026ldquo;10.0.3.2:2375\u0026rdquo; ä¸»æœº10.0.3.21 \u0026ldquo;cluster-store\u0026rdquo;:\u0026ldquo;etcd://10.0.3.21:2379\u0026rdquo;,\u0026ldquo;cluster-advertise\u0026rdquo;:\u0026ldquo;10.0.3.21:2375\u0026rdquo; é‡å¯docker\nsystemctl daemon-reload systemctl restart docker å¯åŠ¨etcd\nä¸»æœº10.0.3.2, etcdèŠ‚ç‚¹åä¸ºnode1 1 docker run -d --name etcd --rm \\ 2 --publish 2379:2379 \\ 3 --publish 2380:2380 \\ 4 --env ALLOW_NONE_AUTHENTICATION=yes \\ 5 --env ETCD_NAME=node1 \\ 6 --env ETCD_LISTEN_PEER_URLS=http://0.0.0.0:2380 \\ 7 --env ETCD_ADVERTISE_CLIENT_URLS=http://10.0.3.2:2379 \\ 8 --env ETCD_LISTEN_CLIENT_URLS=http://0.0.0.0:2379 \\ 9 --env ETCD_INITIAL_ADVERTISE_PEER_URLS=http://10.0.3.2:2380 \\ 10 --env ETCD_INITIAL_CLUSTER_TOKEN=etcd-cluster \\ 11 --env ETCD_INITIAL_CLUSTER=node1=http://10.0.3.2:2380,node2=http://10.0.3.21:2380 \\ 12 --env ETCD_INITIAL_CLUSTER_STATE=new \\ 13 bitnami/etcd:3.5.3 etcd --enable-v2 ä¸»æœº10.0.3.21, etcdèŠ‚ç‚¹åä¸ºnode1 1docker run -d --name etcd --rm \\ 2--publish 2379:2379 \\ 3--publish 2380:2380 \\ 4--env ALLOW_NONE_AUTHENTICATION=yes \\ 5--env ETCD_NAME=node2 \\ 6--env ETCD_LISTEN_PEER_URLS=http://0.0.0.0:2380 \\ 7--env ETCD_ADVERTISE_CLIENT_URLS=http://10.0.3.21:2379 \\ 8--env ETCD_LISTEN_CLIENT_URLS=http://0.0.0.0:2379 \\ 9--env ETCD_INITIAL_ADVERTISE_PEER_URLS=http://10.0.3.21:2380 \\ 10--env ETCD_INITIAL_CLUSTER_TOKEN=etcd-cluster \\ 11--env ETCD_INITIAL_CLUSTER=node1=http://10.0.3.2:2380,node2=http://10.0.3.21:2380 \\ 12--env ETCD_INITIAL_CLUSTER_STATE=new \\ 13bitnami/etcd:3.5.3 etcd --enable-v2 æŸ¥çœ‹etcd node\n1[root@ams2-10 ~]# docker exec -it etcd etcdctl member list 2796e13f38b3a972b, started, node2, http://10.0.3.21:2380, http://10.0.3.21:2379, false 3ff63796d3826f6b6, started, node1, http://10.0.3.2:2380, http://10.0.3.2:2379, false åˆ›å»ºoverlay network\nä¸»æœº10.0.3.2\n1 [root@ams2-10 SFS2X]# docker network create -d overlay etcdnet 2 f2c12e0259409c0f11c9c4a4a585753d46a80ac60c336625fd48e5322be9084e æŸ¥çœ‹ç½‘ç»œï¼Œå‘ç°å¤šäº†åˆšåˆšåˆ›å»ºçš„etcdnet.è€Œä¸”scopeæ˜¯globalçš„ 1 [root@ams2-10 SFS2X]# docker network ls 2 NETWORK ID NAME DRIVER SCOPE 3 f406ad6eb59c bridge bridge local 4 f2c12e025940 etcdnet overlay global 5 097d3b78ec65 host host local 6 02d4e89d5af5 none null local æˆ‘ä»¬inspectä¸‹etcdnetä¿¡æ¯ 1 [root@ams2-10 SFS2X]# docker network inspect etcdnet 2 [ 3 { 4 \u0026#34;Name\u0026#34;: \u0026#34;etcdnet\u0026#34;, 5 \u0026#34;Id\u0026#34;: \u0026#34;f2c12e0259409c0f11c9c4a4a585753d46a80ac60c336625fd48e5322be9084e\u0026#34;, 6 \u0026#34;Created\u0026#34;: \u0026#34;2022-04-18T14:18:10.96517192Z\u0026#34;, 7 \u0026#34;Scope\u0026#34;: \u0026#34;global\u0026#34;, 8 \u0026#34;Driver\u0026#34;: \u0026#34;overlay\u0026#34;, 9 \u0026#34;EnableIPv6\u0026#34;: false, 10 \u0026#34;IPAM\u0026#34;: { 11 \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, 12 \u0026#34;Options\u0026#34;: {}, 13 \u0026#34;Config\u0026#34;: [ 14 { 15 \u0026#34;Subnet\u0026#34;: \u0026#34;10.0.0.0/24\u0026#34;, 16 \u0026#34;Gateway\u0026#34;: \u0026#34;10.0.0.1\u0026#34; 17 } 18 ] 19 }, 20 \u0026#34;Internal\u0026#34;: false, 21 \u0026#34;Attachable\u0026#34;: false, 22 \u0026#34;Containers\u0026#34;: {}, 23 \u0026#34;Options\u0026#34;: {}, 24 \u0026#34;Labels\u0026#34;: {} 25 } 26 ] ä¸»æœº10.0.3.21\næŸ¥çœ‹ç½‘ç»œï¼Œå‘ç°ä¹Ÿæœ‰etcdnetäº†ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªä¸»æœºåˆ›å»ºï¼ŒåŒé›†ç¾¤ä¸‹çš„ä¸»æœºéƒ½ä¼šè‡ªåŠ¨åˆ›å»º 1 [root@ams2-10 ~]# docker network ls 2 NETWORK ID NAME DRIVER SCOPE 3 3ed479747a1e bridge bridge local 4 f2c12e025940 etcdnet overlay global 5 4097f7659809 host host local 6 e72e71890e1a none null local å¼€å¯ä¸€ä¸ªredisæœåŠ¡\nä¸»æœº 10.0.3.2 1 [root@ams2-10 SFS2X]# docker run -d --rm --name redis1 -h redis1 --net etcdnet 10.0.3.2:5001/base_redis 2 8769e01b7003bb42edf226c812405a2e955fb0e16fae0752c37a703efdcc2135 ä¸»æœº10.0.3.21 å°è¯•ä¹Ÿåˆ›å»ºä¸€ä¸ªdocker nameä¸ºredis1çš„å®¹å™¨. 1 [root@ams2-10 ~]# docker run -d --rm --name redis1 -h redis1 --net etcdnet 10.0.3.2:5001/base_redis 2 9499adbbce469022ec1bef41415d58398fa79bc1a155316a07182f0278657a4d 3 /usr/bin/docker-current: Error response from daemon: service endpoint with name redis1 already exists. æŠ¥é”™äº†ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½åˆ›å»ºç›¸åŒnameçš„å®¹å™¨ã€‚æˆ‘ä»¬èµ·ä¸€ä¸ªnameä¸ºredis2çš„å®¹å™¨ 1 [root@ams2-10 ~]# docker run -d --rm --name redis2 -h redis2 --net etcdnet 10.0.3.2:5001/base_redis 2 fea93e725e69f01ffa2e5431d470e230aa8496d8a9106a10ea738c0ff411e340 æŸ¥çœ‹ç½‘ç»œä¿¡æ¯\nä¸»æœº 10.0.3.2 è¿è¡Œdocker network lsï¼Œå¤šäº†ä¸€ä¸ªdocker_gwbridgeï¼Œçœ‹ä¸‹è¿™ä¸ªç½‘ç»œå®¹å™¨çš„è¯¦æƒ…ä¿¡æ¯ 1 [root@ams2-10 SFS2X]# docker inspect docker_gwbridge 2 [ 3 { 4 \u0026#34;Name\u0026#34;: \u0026#34;docker_gwbridge\u0026#34;, 5 \u0026#34;Id\u0026#34;: \u0026#34;d56f9aef3da6f93cc2749efcdace3265bb29150f145041e4d736e3928fd4e363\u0026#34;, 6 \u0026#34;Created\u0026#34;: \u0026#34;2022-04-18T14:34:44.715406625Z\u0026#34;, 7 \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34;, 8 \u0026#34;Driver\u0026#34;: \u0026#34;bridge\u0026#34;, 9 \u0026#34;EnableIPv6\u0026#34;: false, 10 \u0026#34;IPAM\u0026#34;: { 11 \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, 12 \u0026#34;Options\u0026#34;: null, 13 \u0026#34;Config\u0026#34;: [ 14 { 15 \u0026#34;Subnet\u0026#34;: \u0026#34;172.18.0.0/16\u0026#34;, 16 \u0026#34;Gateway\u0026#34;: \u0026#34;172.18.0.1\u0026#34; 17 } 18 ] 19 }, 20 \u0026#34;Internal\u0026#34;: false, 21 \u0026#34;Attachable\u0026#34;: false, 22 \u0026#34;Containers\u0026#34;: { 23 \u0026#34;d0ffff5fdc19975d8930e25438b1e03f7a960f5387dc5a577e02c89809be0d62\u0026#34;: { 24 \u0026#34;Name\u0026#34;: \u0026#34;gateway_d0ffff5fdc19\u0026#34;, 25 \u0026#34;EndpointID\u0026#34;: \u0026#34;e90ebc5c48f17d5e64bdcf442173617d0b35ed81af33a901a3ae8a75a7d11a55\u0026#34;, 26 \u0026#34;MacAddress\u0026#34;: \u0026#34;02:42:ac:12:00:02\u0026#34;, 27 \u0026#34;IPv4Address\u0026#34;: \u0026#34;172.18.0.2/16\u0026#34;, 28 \u0026#34;IPv6Address\u0026#34;: \u0026#34;\u0026#34; 29 } 30 }, 31 \u0026#34;Options\u0026#34;: { 32 \u0026#34;com.docker.network.bridge.enable_icc\u0026#34;: \u0026#34;false\u0026#34;, 33 \u0026#34;com.docker.network.bridge.enable_ip_masquerade\u0026#34;: \u0026#34;true\u0026#34;, 34 \u0026#34;com.docker.network.bridge.name\u0026#34;: \u0026#34;docker_gwbridge\u0026#34; 35 }, 36 \u0026#34;Labels\u0026#34;: {} 37 } 38 ] æˆ‘ä»¬å†çœ‹ä¸‹ etcdnetè¯¦æƒ…, å¯ä»¥çœ‹åˆ°ç»™ä¸¤ä¸ªå®¹å™¨åˆ†é…äº†ip 1 [root@ams2-10 SFS2X]# docker network inspect etcdnet 2 [ 3 { 4 \u0026#34;Name\u0026#34;: \u0026#34;etcdnet\u0026#34;, 5 \u0026#34;Id\u0026#34;: \u0026#34;f2c12e0259409c0f11c9c4a4a585753d46a80ac60c336625fd48e5322be9084e\u0026#34;, 6 \u0026#34;Created\u0026#34;: \u0026#34;2022-04-18T14:18:10.96517192Z\u0026#34;, 7 \u0026#34;Scope\u0026#34;: \u0026#34;global\u0026#34;, 8 \u0026#34;Driver\u0026#34;: \u0026#34;overlay\u0026#34;, 9 \u0026#34;EnableIPv6\u0026#34;: false, 10 \u0026#34;IPAM\u0026#34;: { 11 \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, 12 \u0026#34;Options\u0026#34;: {}, 13 \u0026#34;Config\u0026#34;: [ 14 { 15 \u0026#34;Subnet\u0026#34;: \u0026#34;10.0.0.0/24\u0026#34;, 16 \u0026#34;Gateway\u0026#34;: \u0026#34;10.0.0.1\u0026#34; 17 } 18 ] 19 }, 20 \u0026#34;Internal\u0026#34;: false, 21 \u0026#34;Attachable\u0026#34;: false, 22 \u0026#34;Containers\u0026#34;: { 23 \u0026#34;d0ffff5fdc19975d8930e25438b1e03f7a960f5387dc5a577e02c89809be0d62\u0026#34;: { 24 \u0026#34;Name\u0026#34;: \u0026#34;redis1\u0026#34;, 25 \u0026#34;EndpointID\u0026#34;: \u0026#34;fbc06b25b76eb1e4475582f0eeb51d509ca72f070891140ab482d0f54a140601\u0026#34;, 26 \u0026#34;MacAddress\u0026#34;: \u0026#34;02:42:0a:00:00:02\u0026#34;, 27 \u0026#34;IPv4Address\u0026#34;: \u0026#34;10.0.0.2/24\u0026#34;, 28 \u0026#34;IPv6Address\u0026#34;: \u0026#34;\u0026#34; 29 }, 30 \u0026#34;ep-69ecc615e82eeddbd03cd27006130607e2440d2e1025978c00267c1ba2f7544b\u0026#34;: { 31 \u0026#34;Name\u0026#34;: \u0026#34;redis2\u0026#34;, 32 \u0026#34;EndpointID\u0026#34;: \u0026#34;69ecc615e82eeddbd03cd27006130607e2440d2e1025978c00267c1ba2f7544b\u0026#34;, 33 \u0026#34;MacAddress\u0026#34;: \u0026#34;02:42:0a:00:00:03\u0026#34;, 34 \u0026#34;IPv4Address\u0026#34;: \u0026#34;10.0.0.3/24\u0026#34;, 35 \u0026#34;IPv6Address\u0026#34;: \u0026#34;\u0026#34; 36 } 37 }, 38 \u0026#34;Options\u0026#34;: {}, 39 \u0026#34;Labels\u0026#34;: {} 40 } 41 ] è¿›å…¥redis1å®¹å™¨ï¼Œifconfigçœ‹ä¸‹ä¸€ä¸‹ 1 [root@ams2-10 SFS2X]# docker exec -it redis1 yum install -y net-tools.x86_64 2 [root@ams2-10 SFS2X]# docker exec -it redis1 ifconfig 3 eth0: flags=4163\u0026lt;UP,BROADCAST,RUNNING,MULTICAST\u0026gt; mtu 1450 4 inet 10.0.0.2 netmask 255.255.255.0 broadcast 0.0.0.0 5 inet6 fe80::42:aff:fe00:2 prefixlen 64 scopeid 0x20\u0026lt;link\u0026gt; 6 ether 02:42:0a:00:00:02 txqueuelen 0 (Ethernet) 7 RX packets 13 bytes 1034 (1.0 KiB) 8 RX errors 0 dropped 0 overruns 0 frame 0 9 TX packets 11 bytes 894 (894.0 B) 10 TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 11 12 eth1: flags=4163\u0026lt;UP,BROADCAST,RUNNING,MULTICAST\u0026gt; mtu 1500 13 inet 172.18.0.2 netmask 255.255.0.0 broadcast 0.0.0.0 14 inet6 fe80::42:acff:fe12:2 prefixlen 64 scopeid 0x20\u0026lt;link\u0026gt; 15 ether 02:42:ac:12:00:02 txqueuelen 0 (Ethernet) 16 RX packets 7138 bytes 16361245 (15.6 MiB) 17 RX errors 0 dropped 0 overruns 0 frame 0 18 TX packets 7125 bytes 387572 (378.4 KiB) 19 TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 20 21 lo: flags=73\u0026lt;UP,LOOPBACK,RUNNING\u0026gt; mtu 65536 22 inet 127.0.0.1 netmask 255.0.0.0 23 inet6 ::1 prefixlen 128 scopeid 0x10\u0026lt;host\u0026gt; 24 loop txqueuelen 1000 (Local Loopback) 25 RX packets 56 bytes 4827 (4.7 KiB) 26 RX errors 0 dropped 0 overruns 0 frame 0 27 TX packets 56 bytes 4827 (4.7 KiB) 28 TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 29 30 [root@ams2-10 SFS2X]# æµ‹è¯•æ˜¯å¦pingé€š\nä¸»æœº10.0.3.2 æˆ‘ä»¬pingä¸€ä¸‹redis2 çš„ip å’Œå®¹å™¨åï¼Œå‘ç°éƒ½å¯ä»¥pingé€š 1 [root@ams2-10 SFS2X]# docker exec -it redis1 ping -c 5 redis2 2 PING redis2 (10.0.0.3) 56(84) bytes of data. 3 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=1 ttl=64 time=0.325 ms 4 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=2 ttl=64 time=0.557 ms 5 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=3 ttl=64 time=0.446 ms 6 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=4 ttl=64 time=0.430 ms 7 64 bytes from redis2.etcdnet (10.0.0.3): icmp_seq=5 ttl=64 time=0.578 ms 8 --- redis2 ping statistics --- 9 5 packets transmitted, 5 received, 0% packet loss, time 3999ms 10 rtt min/avg/max/mdev = 0.325/0.467/0.578/0.093 ms å°è¯•è¿æ¥redis2çš„æœåŠ¡ï¼Œçœ‹åˆ°æ²¡é—®é¢˜ 1 # å¯ä»¥æ­£å¸¸é“¾æ¥ 2 [root@ams2-10 SFS2X]# docker exec -it redis1 /home/elex/redis/bin/redis-cli -h redis2 set m1 dd 3 OK 4 [root@ams2-10 SFS2X]# docker exec -it redis1 /home/elex/redis/bin/redis-cli -h redis2 get m1 5 \u0026#34;dd\u0026#34; ä¸»æœº10.0.3.21ï¼Œ redis2 åŒæ ·å¯ä»¥é€šè¿‡ipå’Œå®¹å™¨å pingé€š ps\næŸ¥çœ‹etcdç‰ˆæœ¬å· curl http://10.0.3.2:2379/versoin ","permalink":"https://omgkill.github.io/bak/docker/docker-%E8%B7%A8%E4%B8%BB%E6%9C%BA%E5%AE%B9%E5%99%A8%E9%97%B4%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/","tags":null,"title":""},{"categories":null,"contents":" å®‰è£…docker\nyum install -y docker åˆ›å»ºç½‘ç»œ\ndocker network create test_net åˆ›å»ºredis1\ndocker run -d \u0026ndash;rm \u0026ndash;name redis1 -h redis1 \u0026ndash;net test_net 10.0.3.2:5001/base_redis åˆ›å»ºredis2\ndocker run -d \u0026ndash;rm \u0026ndash;name redis2 -h redis2 \u0026ndash;net test_net 10.0.3.2:5001/base_redis æµ‹è¯•\ndocker exec -it redis1 ping -c 3 redis2 ","permalink":"https://omgkill.github.io/bak/docker/docker%E5%8D%95%E6%9C%BA%E5%AE%B9%E5%99%A8%E4%BA%92%E8%BF%9E/","tags":null,"title":""},{"categories":null,"contents":"ams2 å‹æµ‹æœgameæœåŠ¡å®¹å™¨åŒ– ç”±äºå‹æµ‹éƒ½æ˜¯æ‰¾ç©ºé—²çš„æœºå™¨æ¥æµ‹è¯•ï¼Œæ‰€ä»¥æ¯æ¬¡å‹æµ‹éƒ½è¦é‡æ–°éƒ¨ç½²ç¯å¢ƒï¼Œä¸ºäº†ç®€åŒ–æµç¨‹ï¼Œæƒ³é€šè¿‡dockerç®€åŒ–æ“ä½œ\nå‚è€ƒlostç§æœåšçš„ä¿®æ”¹\nlostç§æœ:http://confluence.super-chameleon.com:8093/pages/viewpage.action?pageId=75476077 æ–‡ä»¶è·¯å¾„\nhttp://svn.super-chameleon.com:8822/svn/AMS_TD/Source/trunk/Server/Tools/Ops/ds ä½¿ç”¨jenkinsæ„å»ºdockeré•œåƒ\njenkinsåœ°å€ï¼šhttp://10.0.3.2:7005/ ä½¿ç”¨nexus3ä½œä¸ºdockeré•œåƒä»“åº“\nä»“åº“åœ°å€ï¼šhttp://10.0.3.2:8082/ docker ç®¡ç†ç•Œé¢\nåœ°å€ï¼šhttp://10.0.3.2:9000/ å…³äºbaseçš„æ„å»º\nbaseçš„æ„æ€æ˜¯æ­å»ºä¸€ä¸ªåŸºç¡€ç¯å¢ƒ\nåŒ…å«cetos7ã€jdkå®‰è£…ã€mysqlå®‰è£…ã€rediså®‰è£…ã€sshå®‰è£…\njenkinsæ„å»ºbase\nè¿›å…¥jenkinsç•Œé¢ï¼Œç‚¹å‡»build_ams2_base\nâ€‹\nå†ç‚¹å‡»ç«‹å³æ„å»ºï¼Œå°±ä¼šè‡ªåŠ¨ç¼–è¯‘ï¼Œå¹¶ç¼–è¯‘æ¨é€åˆ°ä»“åº“\njenkinsé…ç½®ï¼šhttp://svn.super-chameleon.com:8822/svn/AMS_TD/Source/trunk/Server/Tools/Ops/ds/jenkins/build_ams2_base.jenkins\ndockerfileä»¥åŠå…¶ä»–æ–‡ä»¶ï¼šhttp://svn.super-chameleon.com:8822/svn/AMS_TD/Source/trunk/Server/Tools/Ops/ds/docker/base\nå…³äºams2çš„æ„å»º\nè¿™ä¸ªå°±æ˜¯çœŸæ­£æ„å»ºgameæœåŠ¡ åŒ…å«rediså¯åŠ¨ã€mysqlå¯åŠ¨ã€mysqlæ•°æ®å¯¼å…¥ã€gameéƒ¨ç½²æ–‡ä»¶ã€gameå¯åŠ¨ jenkinsæ„å»ºbase è¿›å…¥jenkinsç•Œé¢ï¼Œç‚¹å‡»build_ams2_ds å†ç‚¹å‡»ç«‹å³æ„å»ºï¼Œå°±ä¼šè‡ªåŠ¨ç¼–è¯‘ï¼Œå¹¶ç¼–è¯‘æ¨é€åˆ°ä»“åº“ jenkinsé…ç½®ï¼šhttp://svn.super-chameleon.com:8822/svn/AMS_TD/Source/trunk/Server/Tools/Ops/ds/jenkins/build_ams2_ds.jenkins dockerfileä»¥åŠå…¶ä»–æ–‡ä»¶ï¼šhttp://svn.super-chameleon.com:8822/svn/AMS_TD/Source/trunk/Server/Tools/Ops/ds/docker/ams2 è¯´ä¸€ä¸‹build_ams2_base è¿™ä¸ªä»»åŠ¡å¦‚ä½•åˆ›å»ºçš„ã€‚build_ams2_dsåŒç†\nç‚¹å‡»æ–°å»ºä»»åŠ¡ï¼Œ è¾“å…¥ä»»åŠ¡åå­—ï¼Œç‚¹å‡»æµæ°´çº¿ï¼Œå†ç‚¹å‡»æŠ¥é”™ å¡«å†™æè¿°ï¼Œç‚¹å‡»ä¸å…è®¸å¹¶å‘æ„å»º æŒ‰ç…§å¦‚ä¸‹é…ç½®ï¼ŒCredentialsæ˜¯svnçš„è´¦å·å¯†ç  è¿˜æœ‰ä¸€ä¸ªè„šæœ¬è·¯å¾„ï¼Œè¿™ä¸ªæ˜¯ç›¸å¯¹è·¯å¾„ã€‚ç›¸å¯¹äºsvn downçš„ç›®å½• ç‚¹å‡»ä¿å­˜å°±å¥½äº† ","permalink":"https://omgkill.github.io/bak/docker/game%E6%9C%8D%E5%8A%A1%E5%AE%B9%E5%99%A8%E5%8C%96/","tags":null,"title":""},{"categories":null,"contents":" windowsç³»ç»Ÿè¦æ±‚ ç³»ç»Ÿæ˜¯ä¸“ä¸šç‰ˆ ç³»ç»Ÿç‰ˆæœ¬å·Windows10 2018 Aprilï¼ˆWindows 1803ï¼‰åŠä»¥ä¸Šç‰ˆæœ¬ å®‰è£…éœ€è¦çš„åŠŸèƒ½ æ‰“å¼€æ§åˆ¶é¢æ¿ -\u0026gt; æœç´¢å¯åŠ¨æˆ–å…³é—­WindowsåŠŸèƒ½ -\u0026gt; é€‰æ‹©ä»¥ä¸‹åŠŸèƒ½ -\u0026gt; ç‚¹å‡»ç¡®å®š -\u0026gt; å®‰è£… -\u0026gt; é‡å¯ æ›´æ–°wsl2 ä¸‹è½½å®‰è£… https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi åœ¨ç®¡ç†å‘˜ä¸‹æ‰§è¡Œå‘½ä»¤ wsl \u0026ndash;set-default-version 2 éœ€è¦æ›´å¤šçš„è®¾ç½®å‚è€ƒ https://docs.microsoft.com/zh-cn/windows/wsl/setup/environment https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/gui-apps https://docs.microsoft.com/en-us/windows/wsl/install-manual æ›´æ–°wsl2å†…æ ¸ - åœ¨ç®¡ç†å‘˜ä¸‹æ‰§è¡Œå‘½ä»¤ æ›´æ–°ï¼šwsl \u0026ndash;update é‡å¯ï¼šwsl \u0026ndash;shutdown å®‰è£…centos7å­ç³»ç»Ÿ ä¸‹è½½åœ°å€ï¼Œå¯¹åº”centos7 https://github.com/wsldl-pg/CentWSL/releases/ è§£å‹åˆ°æŒ‡å®šç›®å½• ç‚¹å‡»centos7.exe,ä¼šè‡ªåŠ¨å®‰è£… å®Œæˆåï¼Œæˆ‘ä»¬æŸ¥çœ‹å½“å‰å­ç³»ç»Ÿ å‘½ä»¤è¡Œä¸‹æ‰§è¡Œï¼šwsl -l -v è®¾ç½®centos7ä¸ºé»˜è®¤å­ç³»ç»Ÿ wslconfig /s CentOS7 wsl è¿›å…¥centos7,æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ cat /etc/redhat-release ç›®å‰ä¸ºæ­¢ï¼Œwindowsä¸‹linuxå­ç³»ç»Ÿå·²å®‰è£…å®Œæˆï¼Œæ¥ä¸‹è¿å®‰è£…docker docker ä¸‹è½½åœ°å€ https://www.docker.com/get-started/ é€‰æ‹©wsl2å®‰è£… å®‰è£…å®Œæˆåï¼Œéœ€è¦æ”¹çš„é…ç½® åŠ ä»“åº“åœ°å€ dockerä¹Ÿå®‰è£…å®Œæˆ å¯åŠ¨dockerå‘½ä»¤ éœ€è¦æŠŠæœidï¼ˆSERVER_IDï¼‰æ”¹ä¸ºè‡ªå·±çš„æœid 1docker run -d --privileged --rm --name game -h game -v C:\\Users\\Administrator\\Desktop\\td\\ClashOfKingProject:/home/ams2/ClashOfKingProject --env SERVER_ID=11 -p 8080:8080 -p 8088:8088 -p 8788:8788 -v redis_data:/home/elex/redis/data 10.0.3.2:5001/developer/game å…¼å®¹çš„æ¨¡æ‹Ÿå™¨ ä¸‹è½½åœ°å€ https://www.bluestacks.com/download.html psï¼šwindows ä¸‹ dockerä¸wslå ç”¨å†…å­˜å¤ªé«˜äº†ï¼Œä¸å»ºè®®ç”¨ ","permalink":"https://omgkill.github.io/bak/docker/windows%E5%B9%B3%E5%8F%B0%E4%BD%BF%E7%94%A8docker%E5%90%AF%E5%8A%A8%E6%B5%8B%E8%AF%95%E6%9C%8D/","tags":null,"title":""},{"categories":null,"contents":" gmæœéƒ¨ç½²nexus3ï¼Œè¿™ä¸ªç”¨äºdocker image ä»“åº“ã€‚ å‚è€ƒï¼šhttp://confluence.super-chameleon.com:8093/pages/viewpage.action?pageId=75479441 gmæœéƒ¨ç½²jenkins å‚è€ƒï¼šhttp://confluence.super-chameleon.com:8093/pages/viewpage.action?pageId=75479445 éœ€è¦å®‰è£…docker plugin æ’ä»¶ç®¡ç†ä¸­å®‰è£…Docker, ç³»ç»Ÿç®¡ç†-\u0026gt;æ’ä»¶ç®¡ç†-\u0026gt; å¯é€‰æ’ä»¶-\u0026gt;æœç´¢docker é…ç½®dockeré•œåƒä»“åº“åœ°å€å’Œå¯†é’¥ï¼Œè·¯å¾„ï¼šç³»ç»Ÿç®¡ç†-\u0026gt;ç³»ç»Ÿé…ç½®-\u0026gt; Declarative Pipeline (Docker) å®‰è£…gradle plugin é…ç½®gradleï¼Œåå­—ï¼šgradle564ï¼Œç‰ˆæœ¬ï¼šGradle 5.6.4ï¼Œè·¯å¾„ï¼šç³»ç»Ÿç®¡ç†-\u0026gt;å…¨å±€å·¥å…·é…ç½®-\u0026gt; Gradle jenkinsé…ç½® å‚è€ƒï¼šhttp://confluence.super-chameleon.com:8093/pages/viewpage.action?pageId=96209340 æ„å»ºams2-base å’Œ ams2-ds svn checkout è„šæœ¬ svnåœ°å€ï¼šhttp://svn.super-chameleon.com:8822/svn/AMS_TD/Source/trunk/Server/Tools/Ops/ds/deploy_stressing è¿›å…¥deploy_stressingæ–‡ä»¶å¤¹ æ‰§è¡Œè„šæœ¬ï¼Œ é»˜è®¤å¯åŠ¨8001æœ python deploy_stressing_server.py -g \u0026lt;gameæœå†…ç½‘ip\u0026gt; -d \u0026lt;mysqlä¸clusterRedisæœå†…ç½‘ip\u0026gt; -n \u0026lt;dockeré•œåƒä»“åº“æ‰€åœ¨æœå†…ç½‘ip\u0026gt; å¦‚æœè¦é‡å¯gameæœï¼Œè¦å¤šåŠ ä¸€ä¸ªå‚æ•°ï¼š-r python deploy_stressing_server.py -g \u0026lt;gameæœå†…ç½‘ip\u0026gt; -d \u0026lt;mysqlä¸clusterRedisæœå†…ç½‘ip\u0026gt; -n \u0026lt;dockeré•œåƒä»“åº“æ‰€åœ¨æœå†…ç½‘ip\u0026gt; -r true è„šæœ¬æ”¯æŒé‡å¤æ‰§è¡Œï¼Œå¦‚æœè„šæœ¬ä¸­é€”æ‰§è¡Œå¤±è´¥ï¼Œå¯ä»¥é‡å¤æ‰§è¡Œ dockerå‚¨å­˜åˆ°å®¿ä¸»æœºçš„æ•°æ® mysqlçš„æ•°æ®å­˜å‚¨åœ°å€ï¼Œåœ¨å®¿ä¸»æœºçš„:/home/docker/docker/volume/stress_db_mysql redisçš„æ•°æ®å­˜å‚¨åœ°å€ï¼Œåœ¨å®¿ä¸»æœºï¼š/home/docker/docker/volume/stress_db_redis game logçš„æ•°æ®å­˜å‚¨åœ°å€ï¼Œåœ¨å®¿ä¸»æœºï¼š/home/docker/docker/volume/stress_game_log ç¤ºä¾‹ python .\\deploy_stressing_server.py -g 10.0.3.203 -d 10.0.3.21 -n 10.0.3.2 ##è„šæœ¬è¯´æ˜\nè„šæœ¬éœ€è¦ä¸¤å°æœåŠ¡å™¨ã€‚ ä¸€ä¸ªå°éƒ¨ç½²gameä¸local redisï¼Œä¸€å°éƒ¨ç½²mysqlä¸cluster redis ä¸¤å°æœºå™¨å®¹å™¨å¦‚ä½•äº’è”ï¼Œå‚è€ƒï¼šhttp://confluence.super-chameleon.com:8093/pages/viewpage.action?pageId=96209514 å¦‚æœè¦åˆ é™¤æ‰€æœ‰dockeræ•°æ®ï¼Œæ‰§è¡Œä¸€ä¸‹å‘½ä»¤ yum remove -y docker* ##æŠ¥é”™è§£å†³\n1æŠ¥é”™è§£å†³ 2 3[root@server2002 home]# docker network rm docker_gwbridge 4Error response from daemon: network docker_gwbridge has active endpoints 5 6 7 8 9[root@server2002 home]# docker network inspect docker_gwbridge 10[ 11 { 12 \u0026#34;Name\u0026#34;: \u0026#34;docker_gwbridge\u0026#34;, 13 \u0026#34;Id\u0026#34;: \u0026#34;0eecc7be54a618d305be26b9081998437529e5dace05c71b538da63611509cc3\u0026#34;, 14 \u0026#34;Created\u0026#34;: \u0026#34;2022-04-24T07:35:29.709419174Z\u0026#34;, 15 \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34;, 16 \u0026#34;Driver\u0026#34;: \u0026#34;bridge\u0026#34;, 17 \u0026#34;EnableIPv6\u0026#34;: false, 18 \u0026#34;IPAM\u0026#34;: { 19 \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, 20 \u0026#34;Options\u0026#34;: null, 21 \u0026#34;Config\u0026#34;: [ 22 { 23 \u0026#34;Subnet\u0026#34;: \u0026#34;172.19.0.0/16\u0026#34;, 24 \u0026#34;Gateway\u0026#34;: \u0026#34;172.19.0.1\u0026#34; 25 } 26 ] 27 }, 28 \u0026#34;Internal\u0026#34;: false, 29 \u0026#34;Attachable\u0026#34;: false, 30 \u0026#34;Containers\u0026#34;: { 31 \u0026#34;f32013a3de270374e0baf8e030e7182f0a75024a796b2459e703f15deeb48725\u0026#34;: { 32 \u0026#34;Name\u0026#34;: \u0026#34;gateway_f32013a3de27\u0026#34;, 33 \u0026#34;EndpointID\u0026#34;: \u0026#34;376c39efa00c1cd178d27f5daec7ffcb0ed06f71db8e15bab66834bb438342a2\u0026#34;, 34 \u0026#34;MacAddress\u0026#34;: \u0026#34;02:42:ac:13:00:02\u0026#34;, 35 \u0026#34;IPv4Address\u0026#34;: \u0026#34;172.19.0.2/16\u0026#34;, 36 \u0026#34;IPv6Address\u0026#34;: \u0026#34;\u0026#34; 37 } 38 }, 39 \u0026#34;Options\u0026#34;: { 40 \u0026#34;com.docker.network.bridge.enable_icc\u0026#34;: \u0026#34;false\u0026#34;, 41 \u0026#34;com.docker.network.bridge.enable_ip_masquerade\u0026#34;: \u0026#34;true\u0026#34;, 42 \u0026#34;com.docker.network.bridge.name\u0026#34;: \u0026#34;docker_gwbridge\u0026#34; 43 }, 44 \u0026#34;Labels\u0026#34;: {} 45 } 46] 47 48docker network disconnect -f docker_gwbridge gateway_def4bf4c78ab 49 50docker network rm docker_gwbridge ","permalink":"https://omgkill.github.io/bak/docker/%E4%BD%BF%E7%94%A8docker%E5%90%AF%E5%8A%A8%E5%8E%8B%E6%B5%8B%E6%9C%8D/","tags":null,"title":""},{"categories":null,"contents":" ç”³è¯·ç«¯å£ check out svnæ–‡æ¡£ï¼Œsvnåœ°å€ï¼šhttp://svn.super-chameleon.com:8822/svn/AMS_TD/Source/trunk/Server/Tools/Ops/ds/port.xlsx å¡«å†™è‡ªå·±çš„åå­—å’Œç«¯å£ï¼ˆç«¯å£ä»10000å¼€å§‹ï¼Œä¾æ¬¡å¢åŠ ï¼Œä¸è¦é‡å¤ï¼‰ï¼Œæäº¤svn ä¸‹è½½è„šæœ¬ è„šæœ¬åœ°å€ï¼šhttp://svn.super-chameleon.com:8822/svn/AMS_TD/Source/trunk/Server/Tools/Ops/ds/deploy_docker_game.sh æ‰§è¡Œè„šæœ¬ ./deploy_docker_game.sh -p ç«¯å£ -s æœid -n å®¹å™¨å ç«¯å£ ç«¯å£å°±æ˜¯ä¸Šé¢ç”³è¯·çš„ç«¯å£ æœid è¿™ä¸ªæœidæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±çš„æœidï¼Œä¸€ä¸ªæ˜¯å…±é€šä½¿ç”¨ä¸€ä¸ªæœid å¦‚æœæ˜¯å¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå·±çš„æœid å¦‚æœæ˜¯è¿è¥ï¼Œå¯ä»¥ä½¿ç”¨å…±é€šçš„æœidã€‚å…±é€šæœid:9000 å®¹å™¨å è¿™ä¸ªæœ€å¥½æ˜¯ä½¿ç”¨è€…çš„åå­—ï¼Œä»¥åå¥½åŒºåˆ† ä¸€ä¸ªé¢å¤–å‚æ•° -bï¼Œmysql å‚æ•° INNODB_BUFFER_POOL_SIZEï¼Œ å•ä½æ˜¯M,ä¸å¡«é»˜è®¤å€¼æ˜¯128M ç¤ºä¾‹ï¼š./deploy_docker_game.sh -p 10000 -s 11 -n name -b 6144 è„šæœ¬æ‰§è¡Œï¼Œä¼šæœ‰logæ˜¾ç¤º çœ‹åˆ°deploy successè¯´æ˜éƒ¨ç½²æˆåŠŸ tips docker ç›®å‰åªæ”¯æŒlinux å¯ä»¥åœ¨10.0.3.2æœæµ‹è¯•/home/ams2/ds å¦‚ä½•æ“ä½œå®¹å™¨\né€šè¿‡ç®¡ç†ç•Œé¢æ“ä½œ\nhttp://10.0.3.2:9000/#!/home æˆ–è€…é€šè¿‡å‘½ä»¤è¡Œæ“ä½œå®¹å™¨\næŸ¥çœ‹å½“å‰æœºå™¨æœ‰å“ªäº›å®¹å™¨ docker ps æˆ–è€… docker container ls è¿è¡Œå®¹å™¨(è¿™ä¸ªéœ€è¦è°·æ­Œä¸€ä¸‹ï¼Œå‘½ä»¤å‚æ•°æ¯”è¾ƒå¤š) docker run -d å®¹å™¨å è¿›å…¥å®¹å™¨ docker exec -it å®¹å™¨å bash é€€å‡ºå®¹å™¨ exit å…³é—­å®¹å™¨ docker stop å®¹å™¨å å¼€å¯å®¹å™¨ docker start å®¹å™¨å ä½†æ˜¯è¿™ä¸ªä¸ä¼šå¯åŠ¨æœåŠ¡ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯åˆ é™¤å®¹å™¨ï¼Œç„¶åä½¿ç”¨docker run åˆ é™¤å®¹å™¨ docker rm å®¹å™¨å å¼ºåˆ¶åˆ é™¤ docker rm -f å®¹å™¨å æŸ¥çœ‹å®¹å™¨æ—¥å¿— docker logs å®¹å™¨å docker logs -f å®¹å™¨å å®¹å™¨å†…ams2éƒ¨ç½²åœ°å€ /home/ams2_deploy å®¹å™¨å†…Mysqlåœ°å€ /home/elex/mysql å®¹å™¨å†…Cluster Redis åœ°å€ /home/elex/redis ","permalink":"https://omgkill.github.io/bak/docker/%E4%BD%BF%E7%94%A8docker%E5%90%AF%E5%8A%A8%E6%B5%8B%E8%AF%95%E6%9C%8D/","tags":null,"title":""},{"categories":null,"contents":"ä»£ç è§£å†³æ–¹æ¡ˆ\n1. é—®é¢˜ï¼šé€»è¾‘æœ‰ç‚¹å¤æ‚ï¼Œè¿˜è¦åœ¨å¤æ‚çš„é€»è¾‘ä¸Šä¿®æ”¹\r- è§£å†³æ–¹æ¡ˆï¼š\r- 1. æ”¹åŠ¨å°ï¼Œä»£ç æ‰§è¡Œæ˜¯æ²¡é—®é¢˜ã€‚ä½†ä¸å®¹æ˜“ç†è§£\r- 2. æ”¹åŠ¨å¤§ï¼Œä»£ç æ˜¯è§£æ„çš„ã€‚æ›´å®¹æ˜“ç†è§£\r- æœ€ç»ˆè§£å†³\r- é€‰æ‹©çš„æ–¹æ¡ˆ2\r- åŸå› ï¼š\r- ç»“æ„æ¸…æ™°ï¼Œæ›´å®¹æ˜“ç†è§£\r- reviewerä¹Ÿæ›´å®¹æ˜“çœ‹æ˜ç™½ï¼Œç¡®ä¿æ²¡æœ‰é—®é¢˜\r2. é—®é¢˜ï¼šleaderå¸Œæœ›å¤ç”¨å…±åŒçš„é€»è¾‘ï¼Œä½†é…ç½®å´æ˜¯ç‹¬ç«‹çš„ï¼Œæ²¡æœ‰ç”¨å…±åŒçš„ã€‚åŒæ—¶é…ç½®åˆæ·±å…¥åµŒå…¥åˆ°é€»è¾‘çš„å„å¤„\r- leaderå¸Œæœ›çš„\r- å¤ç”¨å…±åŒé€»è¾‘ï¼Œå¯ä»¥ç”¨æ¨¡æ¿æ–¹æ³•è§£å†³\r- æˆ‘ä¸€å¼€å§‹çš„åšæ³•\r- åªå…±ç”¨ä¸€ä¸ªæ¥å£ï¼Œé€»è¾‘ä»£ç æ˜¯copyçš„\r- è¿™æ ·å°±åˆå†²çªäº†ã€‚\r- æœ€åæ–¹æ¡ˆ\r- ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼Œé€šè¿‡ä¸€ä¸ªé…ç½®ç±»å…³è”ä¸¤ä¸ªç‹¬ç«‹çš„é…ç½®\r- è¿™æ ·åº•å±‚çš„é…ç½®è¯»å–å°±æ˜¯å…±åŒçš„ï¼Œä¸éœ€è¦åšç‰¹æ®Šå¤„ç†ã€‚åç»­ç›¸å…³çš„æ´»åŠ¨ä¹Ÿå¯ä»¥è¿™æ ·å¤„ç†\r- åˆ›å»ºä¸€ä¸ªstageç±»ï¼Œç„¶åå†åˆ›å»ºstageGcç±»å¹¶ç»§æ‰¿stageã€‚åŒæ—¶ä¸€ä¸ªé…ç½®è§£æç±»\r","permalink":"https://omgkill.github.io/bak/%E4%BB%A3%E7%A0%81%E6%8C%87%E5%8D%97/%E4%BB%A3%E7%A0%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","tags":null,"title":""},{"categories":null,"contents":"","permalink":"https://omgkill.github.io/search/","tags":null,"title":"Search Results"}]